!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function s(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function p(){return f(" ")}function h(){return f("")}function m(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function _(t,e){t.value=null==e?"":e}function v(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}let b;function $(t){b=t}function x(){if(!b)throw new Error("Function called outside component initialization");return b}function w(t,e){x().$$.context.set(t,e)}function S(t){return x().$$.context.get(t)}const E=[],C=[],T=[],k=[],O=Promise.resolve();let I=!1;function M(t){T.push(t)}let R=!1;const A=new Set;function N(){if(!R){R=!0;do{for(let t=0;t<E.length;t+=1){const e=E[t];$(e),L(e.$$)}for($(null),E.length=0;C.length;)C.pop()();for(let t=0;t<T.length;t+=1){const e=T[t];A.has(e)||(A.add(e),e())}T.length=0}while(E.length);for(;k.length;)k.pop()();I=!1,R=!1,A.clear()}}function L(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(M)}}const D=new Set;let B;function j(){B={r:0,c:[],p:B}}function q(){B.r||r(B.c),B=B.p}function P(t,e){t&&t.i&&(D.delete(t),t.i(e))}function F(t,e,n,r){if(t&&t.o){if(D.has(t))return;D.add(t),B.c.push((()=>{D.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const H="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function U(t,e){F(t,1,1,(()=>{e.delete(t.key)}))}function G(t){t&&t.c()}function W(t,n,i,l){const{fragment:s,on_mount:a,on_destroy:c,after_update:u}=t.$$;s&&s.m(n,i),l||M((()=>{const n=a.map(e).filter(o);c?c.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(M)}function Y(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function V(t,e){-1===t.$$.dirty[0]&&(E.push(t),I||(I=!0,O.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function z(e,o,i,l,s,a,u=[-1]){const d=b;$(e);const f=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:u,skip_bound:!1};let p=!1;if(f.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),p&&V(e,t)),n})):[],f.update(),p=!0,r(f.before_update),f.fragment=!!l&&l(f.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);f.fragment&&f.fragment.l(t),t.forEach(c)}else f.fragment&&f.fragment.c();o.intro&&P(e.$$.fragment),W(e,o.target,o.anchor,o.customElement),N()}$(d)}class J{$destroy(){Y(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const K=[];function X(e,n=t){let r;const o=[];function l(t){if(i(e,t)&&(e=t,r)){const t=!K.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),K.push(n,e)}if(t){for(let t=0;t<K.length;t+=2)K[t][0](K[t+1]);K.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(i,s=t){const a=[i,s];return o.push(a),1===o.length&&(r=n(l)||t),i(e),()=>{const t=o.indexOf(a);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}const Q=new Map([["AMMO","item"],["GUN","item"],["ARMOR","item"],["PET_ARMOR","item"],["TOOL","item"],["TOOLMOD","item"],["TOOL_ARMOR","item"],["BOOK","item"],["COMESTIBLE","item"],["ENGINE","item"],["WHEEL","item"],["GUNMOD","item"],["MAGAZINE","item"],["BATTERY","item"],["GENERIC","item"],["BIONIC_ITEM","item"],["MONSTER","monster"],["uncraft","recipe"]]),Z=t=>{var e;return null!==(e=Q.get(t))&&void 0!==e?e:t},tt=t=>"string"==typeof t?t:"str_sp"in t?t.str_sp:t.str,et=t=>{var e,n;return tt(null!==(n=null!==(e=null==t?void 0:t.name)&&void 0!==e?e:null==t?void 0:t.id)&&void 0!==n?n:null==t?void 0:t.abstract)},nt=t=>{var e,n,r;return"string"==typeof(r=null!==(n=null!==(e=null==t?void 0:t.name)&&void 0!==e?e:null==t?void 0:t.id)&&void 0!==n?n:null==t?void 0:t.abstract)?r+"s":"str_sp"in r?r.str_sp:"str_pl"in r?r.str_pl:r.str+"s"};function rt(t){const e=(100*t).toFixed(2);return"0.00"===e?"< 0.01%":e+"%"}function ot(t){return void 0===t?0:"number"==typeof t?250*t:t.endsWith("ml")?parseInt(t):t.endsWith("L")?1e3*parseInt(t):void 0}function it(t){return void 0===t?0:"number"==typeof t?t:t.endsWith("mg")?parseInt(t)/1e3:t.endsWith("kg")?1e3*parseInt(t):t.endsWith("g")?parseInt(t):void 0}function lt(t){return`${(ot(t)/1e3).toFixed(2)} L`}function st(t){return`${(it(t)/1e3).toFixed(2)} kg`}class at{constructor(t,e,n){this._byType=new Map,this._byTypeById=new Map,this._abstractsByType=new Map,this._craftingPseudoItems=new Map,this._migrations=new Map,this._flattenCache=new Map,this._cachedDeathDrops=new Map,this._cachedMapgenSpawnItems=new Map,this._flattenItemGroupCache=new WeakMap,this._flatRequirementCache=new WeakMap,this._flatRequirementCacheExpandSubs=new WeakMap,this._flatRequirementCacheOnlyRecoverable=new WeakMap,this.release=n,this.build_number=e,this._raw=t;for(const e of t){if(!Object.hasOwnProperty.call(e,"type"))continue;if("MIGRATION"===e.type){for(const t of"string"==typeof e.id?[e.id]:e.id){const{replace:n}=e;this._migrations.set(t,n)}continue}const t=Z(e.type);if(this._byType.has(t)||this._byType.set(t,[]),this._byType.get(t).push(e),Object.hasOwnProperty.call(e,"id"))if(this._byTypeById.has(t)||this._byTypeById.set(t,new Map),"string"==typeof e.id)this._byTypeById.get(t).set(e.id,e);else if(Array.isArray(e.id))for(const n of e.id)this._byTypeById.get(t).set(n,e);if("recipe"===t&&Object.hasOwnProperty.call(e,"result")){this._byTypeById.has(t)||this._byTypeById.set(t,new Map);const n=e.result+(e.id_suffix?"_"+e.id_suffix:"");this._byTypeById.get(t).set(n,e)}if("monstergroup"===t&&Object.hasOwnProperty.call(e,"name")){this._byTypeById.has(t)||this._byTypeById.set(t,new Map);const n=e.name;this._byTypeById.get(t).set(n,e)}Object.hasOwnProperty.call(e,"abstract")&&(this._abstractsByType.has(t)||this._abstractsByType.set(t,new Map),this._abstractsByType.get(t).set(e.abstract,e)),Object.hasOwnProperty.call(e,"crafting_pseudo_item")&&this._craftingPseudoItems.set(e.crafting_pseudo_item,e.id)}}byId(t,e){var n;if("string"!=typeof e)throw new Error("Requested non-string id");if("item"===t&&this._migrations.has(e))return this.byId(t,this._migrations.get(e));const r=null===(n=this._byTypeById.get(t))||void 0===n?void 0:n.get(e);return r?this._flatten(r):void 0}byType(t){var e;return null!==(e=this._byType.get(t).map((t=>this._flatten(t))))&&void 0!==e?e:[]}replacementTools(t){var e;if(!this._toolReplacements){this._toolReplacements=new Map;for(const t of this.byType("item"))"TOOL"===t.type&&Object.hasOwnProperty.call(t,"sub")&&(this._toolReplacements.has(t.sub)||this._toolReplacements.set(t.sub,[]),this._toolReplacements.get(t.sub).push(t.id))}return null!==(e=this._toolReplacements.get(t))&&void 0!==e?e:[]}craftingPseudoItem(t){return this._craftingPseudoItems.get(t)}all(){return this._raw}_flatten(t){var e,n,r,o,i,l,s,a,c,u,d,f,p;const h=t;if(this._flattenCache.has(h))return this._flattenCache.get(h);const m="copy-from"in h?null!==(n=null===(e=this._byTypeById.get(Z(h.type)))||void 0===e?void 0:e.get(h["copy-from"]))&&void 0!==n?n:null===(r=this._abstractsByType.get(Z(h.type)))||void 0===r?void 0:r.get(h["copy-from"]):null;if("copy-from"in h&&!m&&console.error(`Missing parent in ${null!==(l=null!==(i=null!==(o=h.id)&&void 0!==o?o:h.abstract)&&void 0!==i?i:h.result)&&void 0!==l?l:JSON.stringify(h)}`),!m)return this._flattenCache.set(h,h),h;const g={...this._flatten(m),...h};for(const t of Object.keys(null!==(s=g.relative)&&void 0!==s?s:{}))"number"==typeof g.relative[t]&&(g[t]=(null!==(a=g[t])&&void 0!==a?a:0)+g.relative[t]);delete g.relative;for(const t of Object.keys(null!==(c=g.proportional)&&void 0!==c?c:{}))if("number"==typeof g.proportional[t])if("attack_cost"!==t||t in g||(g[t]=100),"string"==typeof g[t]){const e=/^\s*(\d+)\s*(.+)$/.exec(g[t]);if(e){const[,n,r]=e;g[t]=`${Number(n)*g.proportional[t]} ${r}`}}else g[t]*=g.proportional[t],g[t]=0|g[t];delete g.proportional;for(const t of Object.keys(null!==(u=g.extend)&&void 0!==u?u:{}))Array.isArray(g.extend[t])&&(g[t]=(null!==(d=g[t])&&void 0!==d?d:[]).concat(g.extend[t]));delete g.extend;for(const t of Object.keys(null!==(f=g.delete)&&void 0!==f?f:{}))Array.isArray(g.delete[t])&&(g[t]=(null!==(p=g[t])&&void 0!==p?p:[]).filter((e=>!g.delete[t].includes(e))));return this._flattenCache.set(h,g),g}flatDeathDrops(t){if(this._cachedDeathDrops.has(t))return this._cachedDeathDrops.get(t);const e=this.byId("monster",t),n=e.death_drops?ct(this,(t=>{if(t)return"string"==typeof t?this.byId("item_group",t):Array.isArray(t)?{subtype:"distribution",entries:t}:{subtype:"distribution",...t}})(e.death_drops)):[];return n.sort(((t,e)=>e.prob-t.prob)),this._cachedDeathDrops.set(t,n),n}uncraftRecipe(t){let e;for(const n of this.byType("recipe"))if(n.result===t){if("uncraft"===n.type)return n;n.reversible&&(e=n)}return e}mapgenSpawnItems(t){var e,n,r,o,i,l,s;if(this._cachedMapgenSpawnItems.has(t))return this._cachedMapgenSpawnItems.get(t);const a=new Map,c=(t,e)=>{a.has(t)||a.set(t,new Set),a.get(t).add(e)},u=(t,e)=>{const n="string"==typeof e?this.byId("item_group",e):Array.isArray(e)?{subtype:"collection",entries:e}:e;if(n)for(const{id:e}of ct(this,n))c(t,e);else if("string"==typeof e){this.byId("item",e)&&c(t,e)}},d=t=>{var e,n,r,o,i;for(const[n,r]of Object.entries(null!==(e=t.item)&&void 0!==e?e:{})){const t=Array.isArray(r)?r:[r];for(const e of t)c(n,e.item)}for(const[e,r]of Object.entries(null!==(n=t.items)&&void 0!==n?n:{})){const t=Array.isArray(r)?r:[r];for(const n of t)u(e,n.item)}for(const[e,n]of Object.entries(null!==(r=t.sealed_item)&&void 0!==r?r:{})){const t=Array.isArray(n)?n:[n];for(const n of t)(null===(o=n.item)||void 0===o?void 0:o.item)&&c(e,n.item.item),(null===(i=n.items)||void 0===i?void 0:i.item)&&u(e,n.items.item)}};d(t.object);for(const n of null!==(e=t.object.palettes)&&void 0!==e?e:[])d(this.byId("palette",n));const f=new Set,p=new Set;for(const e of null!==(n=t.object.rows)&&void 0!==n?n:[])for(const t of e)p.add(t);for(const t of p){const e=null!==(r=a.get(t))&&void 0!==r?r:new Set;for(const t of e)f.add(t)}for(const e of null!==(o=t.object.place_item)&&void 0!==o?o:[])f.add(e.item);for(const e of null!==(i=t.object.place_items)&&void 0!==i?i:[]){const t="string"==typeof e.item?this.byId("item_group",e.item):Array.isArray(e.item)?{subtype:"collection",entries:e.item}:e.item;for(const{id:e}of ct(this,t))f.add(e)}for(const e of null!==(l=t.object.place_loot)&&void 0!==l?l:[])if(e.item&&f.add(e.item),e.group)for(const{id:t}of ct(this,this.byId("item_group",e.group)))f.add(t);for(const e of null!==(s=t.object.add)&&void 0!==s?s:[])f.add(e.item);const h=[...f];return this._cachedMapgenSpawnItems.set(t,h),h}flattenItemGroup(t){var e,n,r,o,i;if(this._flattenItemGroupCache.has(t))return this._flattenItemGroupCache.get(t);const l=new Map;function s({id:t,prob:e,count:n}){var r;const{prob:o,count:i}=null!==(r=l.get(t))&&void 0!==r?r:{prob:0,count:[0,0]},s=1-(1-o)*(1-e),a=[n[0]+i[0],n[1]+i[1]];l.set(t,{prob:s,count:a})}function a(...t){t.forEach(s)}t["container-item"]&&a({id:t["container-item"],prob:1,count:[1,1]});const c=[];if("old"!==t.subtype&&t.subtype){for(const n of null!==(e=t.entries)&&void 0!==e?e:[])Array.isArray(n)?c.push({item:n[0],prob:n[1]}):c.push(n);for(const e of null!==(n=t.items)&&void 0!==n?n:[])Array.isArray(e)?c.push({item:e[0],prob:e[1]}):"string"==typeof e?c.push({item:e,prob:100}):c.push(e);for(const e of null!==(r=t.groups)&&void 0!==r?r:[])Array.isArray(e)?c.push({group:e[0],prob:e[1]}):"string"==typeof e?c.push({group:e,prob:100}):c.push(e)}else for(const e of t.items)Array.isArray(e)?c.push({item:e[0],prob:e[1]}):c.push(e);function u(t,e,n){return{id:t.id,prob:t.prob*e,count:[t.count[0]*n[0],t.count[1]*n[1]]}}function d(t){return t.count?"number"==typeof t.count?[t.count,t.count]:t.count:t.charges?"number"==typeof t.charges?[t.charges,t.charges]:t.charges:[1,1]}if("collection"===t.subtype)for(const t of c){const{prob:e=100}=t,n=Math.min(e,100)/100,r=d(t);if("item"in t)a({id:t.item,prob:n,count:r});else if("group"in t)a(...this.flattenItemGroup(this.byId("item_group",t.group)).map((t=>u(t,n,r))));else if("collection"in t)a(...this.flattenItemGroup({subtype:"collection",entries:t.collection}).map((t=>u(t,n,r))));else{if(!("distribution"in t))throw new Error(`unknown item group entry: ${JSON.stringify(t)}`);a(...this.flattenItemGroup({subtype:"distribution",entries:t.distribution}).map((t=>u(t,n,r))))}}else{let t=0;for(const e of c)t+=null!==(o=e.prob)&&void 0!==o?o:100;for(const e of c){const n=(null!==(i=e.prob)&&void 0!==i?i:100)/t,r=d(e);if("item"in e)a({id:e.item,prob:n,count:r});else if("group"in e)a(...this.flattenItemGroup(this.byId("item_group",e.group)).map((t=>u(t,n,r))));else if("collection"in e)a(...this.flattenItemGroup({subtype:"collection",entries:e.collection}).map((t=>u(t,n,r))));else{if(!("distribution"in e))throw new Error(`unknown item group entry: ${JSON.stringify(e)}`);a(...this.flattenItemGroup({subtype:"distribution",entries:e.distribution}).map((t=>u(t,n,r))))}}}const f=[...l.entries()].map((([t,e])=>({id:t,...e})));return this._flattenItemGroupCache.set(t,f),f}_flatRequirementCacheForOpts(t){if((null==t?void 0:t.expandSubstitutes)&&(null==t?void 0:t.onlyRecoverable))throw new Error("didn't expect to see expandSubstitutes && onlyRecoverable");return(null==t?void 0:t.expandSubstitutes)?this._flatRequirementCacheExpandSubs:(null==t?void 0:t.onlyRecoverable)?this._flatRequirementCacheOnlyRecoverable:this._flatRequirementCache}flattenRequirement(t,e,n){const r=this._flatRequirementCacheForOpts(n);if(r.has(t))return r.get(t);const{expandSubstitutes:o=!1,onlyRecoverable:i=!1}=null!=n?n:{},l=o?t=>t.flatMap((t=>function(t,e){const n=t.replacementTools(e.id);return[e,...n.map((t=>({id:t,count:e.count})))]}(this,t))):t=>t,s=dt(t).map((t=>l(ut(this,t,(t=>dt(e(t))),i)))).map((t=>i?t.filter((t=>{var e;return!(null!==(e=this.byId("item",t.id).flags)&&void 0!==e?e:[]).includes("UNRECOVERABLE")})):t)).filter((t=>t.length));return r.set(t,s),s}}function ct(t,e){return t.flattenItemGroup(e)}function ut(t,e,n,r=!1){var o;const i=[];for(const l of e)if(Array.isArray(l)){const[e,s,...a]=l,c=a.includes("LIST");if(a.includes("NO_RECOVER")&&r)continue;if(c){const l=t.byId("requirement",e);"requirement"!==l.type&&console.error(`Expected a requirement, got ${l.type} (id=${l.id})`);const a=(null!==(o=n(l))&&void 0!==o?o:[])[0];i.push(...ut(t,a,n,r).map((t=>({...t,count:t.count*s}))))}else i.push({id:e,count:s})}else{if("string"!=typeof l)throw new Error("unexpected choice type");i.push({id:l,count:1})}return i}function dt(t){return t.map((t=>Array.isArray(t)?t:[t]))}const ft=t=>"AMMO"===t.type||"COMESTIBLE"===t.type||t.stackable;const pt=(()=>{let t;return()=>(t||(t=(async()=>{const t=await fetch("https://raw.githubusercontent.com/nornagon/cdda-data/main/data/latest/all.json",{mode:"cors"});if(!t.ok)throw new Error(`Error ${t.status} (${t.statusText}) fetching data`);const e=await t.json();return new at(e.data,e.build_number,e.release)})()),t)})(),ht=function(t,e){return{subscribe:X(t,e).subscribe}}(null,(function(t){pt().then(t)}));function mt(e){let n,r,o,i=(e[4]?(e[2]?nt:et)(e[4]):e[1])+"";return{c(){n=d("a"),r=f(i),g(n,"href",o="#/"+e[0]+"/"+e[1])},m(t,e){a(t,n,e),s(n,r)},p(t,e){22&e&&i!==(i=(t[4]?(t[2]?nt:et)(t[4]):t[1])+"")&&y(r,i),3&e&&o!==(o="#/"+t[0]+"/"+t[1])&&g(n,"href",o)},i:t,o:t,d(t){t&&c(n)}}}function gt(t){let e,n,r,o,i=!ft(t[4]),l=ft(t[4]),u=i&&yt(t);r=new wt({props:{type:t[0],id:t[1],plural:$t(t[3])&&!ft(t[4])}});let f=l&&_t(t);return{c(){e=d("span"),u&&u.c(),n=p(),G(r.$$.fragment),f&&f.c(),v(e,"white-space","nowrap")},m(t,i){a(t,e,i),u&&u.m(e,null),s(e,n),W(r,e,null),f&&f.m(e,null),o=!0},p(t,o){16&o&&(i=!ft(t[4])),i?u?u.p(t,o):(u=yt(t),u.c(),u.m(e,n)):u&&(u.d(1),u=null);const s={};1&o&&(s.type=t[0]),2&o&&(s.id=t[1]),24&o&&(s.plural=$t(t[3])&&!ft(t[4])),r.$set(s),16&o&&(l=ft(t[4])),l?f?f.p(t,o):(f=_t(t),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(e),u&&u.d(),Y(r),f&&f.d()}}}function yt(t){let e,n=bt(t[3])+"";return{c(){e=f(n)},m(t,n){a(t,e,n)},p(t,r){8&r&&n!==(n=bt(t[3])+"")&&y(e,n)},d(t){t&&c(e)}}}function _t(t){let e,n,r,o,i=bt(t[3])+"";return{c(){e=f(" "),n=f("("),r=f(i),o=f(")")},m(t,i){a(t,e,i),a(t,n,i),a(t,r,i),a(t,o,i)},p(t,e){8&e&&i!==(i=bt(t[3])+"")&&y(r,i)},d(t){t&&c(e),t&&c(n),t&&c(r),t&&c(o)}}}function vt(t){let e,n,r,o;const i=[gt,mt],l=[];function s(t,e){return null!=t[3]?0:1}return e=s(t),n=l[e]=i[e](t),{c(){n.c(),r=h()},m(t,n){l[e].m(t,n),a(t,r,n),o=!0},p(t,[o]){let a=e;e=s(t),e===a?l[e].p(t,o):(j(),F(l[a],1,1,(()=>{l[a]=null})),q(),n=l[e],n?n.p(t,o):(n=l[e]=i[e](t),n.c()),P(n,1),n.m(r.parentNode,r))},i(t){o||(P(n),o=!0)},o(t){F(n),o=!1},d(t){l[e].d(t),t&&c(r)}}}function bt(t){return"number"==typeof t?t.toString():t[0]===t[1]?t[0].toString():`${t[0]}â€“${t[1]}`}function $t(t){return"number"==typeof t?1!==t:t[0]!==t[1]||1!==t[0]}function xt(t,e,n){let{type:r}=e,{id:o}=e,{plural:i=!1}=e,{count:l}=e;const s=S("data");let a=s.byId(r,o);return"vehicle_part"===(null==a?void 0:a.type)&&!a.name&&a.item&&(a=s.byId("item",a.item)),t.$$set=t=>{"type"in t&&n(0,r=t.type),"id"in t&&n(1,o=t.id),"plural"in t&&n(2,i=t.plural),"count"in t&&n(3,l=t.count)},[r,o,i,l,a]}class wt extends J{constructor(t){super(),z(this,t,xt,vt,i,{type:0,id:1,plural:2,count:3})}}function St(e){let n,r,o,i=e[0].symbol+"";return{c(){n=d("span"),r=f(i),v(n,"font-family","monospace"),g(n,"class",o="c_"+e[0].color)},m(t,e){a(t,n,e),s(n,r)},p(t,[e]){1&e&&i!==(i=t[0].symbol+"")&&y(r,i),1&e&&o!==(o="c_"+t[0].color)&&g(n,"class",o)},i:t,o:t,d(t){t&&c(n)}}}function Et(t,e,n){let{item:r}=e;return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r]}class Ct extends J{constructor(t){super(),z(this,t,Et,St,i,{item:0})}}function Tt(t,e,n){const r=t.slice();return r[11]=e[n],r}function kt(t,e,n){const r=t.slice();return r[14]=e[n].id,r[15]=e[n].prob,r}function Ot(t,e,n){const r=t.slice();return r[14]=e[n].id,r[15]=e[n].prob,r}function It(t,e,n){const r=t.slice();return r[20]=e[n],r}function Mt(t,e,n){const r=t.slice();return r[23]=e[n],r[25]=n,r}function Rt(t,e,n){const r=t.slice();return r[26]=e[n],r}function At(t,e,n){const r=t.slice();return r[14]=e[n],r}function Nt(t){let e,n,r,o=t[0].bodytype+"";return{c(){e=d("dt"),e.textContent="Body Type",n=d("dd"),r=f(o)},m(t,o){a(t,e,o),a(t,n,o),s(n,r)},p(t,e){1&e&&o!==(o=t[0].bodytype+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function Lt(t){let e,n,r,o=(t[0].species??[]).join(", ")+"";return{c(){e=d("dt"),e.textContent="Species",n=d("dd"),r=f(o)},m(t,o){a(t,e,o),a(t,n,o),s(n,r)},p(t,e){1&e&&o!==(o=(t[0].species??[]).join(", ")+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function Dt(e){let n,r,o;return r=new wt({props:{type:"material",id:e[14]}}),{c(){n=d("li"),G(r.$$.fragment)},m(t,e){a(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),Y(r)}}}function Bt(t){let e,n,r,o,i=t[0].special_attacks,l=[];for(let e=0;e<i.length;e+=1)l[e]=Pt(Rt(t,i,e));const f=t=>F(l[t],1,1,(()=>{l[t]=null}));return{c(){e=d("dt"),e.textContent="Special Attacks",n=d("dd"),r=d("ul");for(let t=0;t<l.length;t+=1)l[t].c();g(r,"class","no-bullets")},m(t,i){a(t,e,i),a(t,n,i),s(n,r);for(let t=0;t<l.length;t+=1)l[t].m(r,null);o=!0},p(t,e){if(5&e){let n;for(i=t[0].special_attacks,n=0;n<i.length;n+=1){const o=Rt(t,i,n);l[n]?(l[n].p(o,e),P(l[n],1)):(l[n]=Pt(o),l[n].c(),P(l[n],1),l[n].m(r,null))}for(j(),n=i.length;n<l.length;n+=1)f(n);q()}},i(t){if(!o){for(let t=0;t<i.length;t+=1)P(l[t]);o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)F(l[t]);o=!1},d(t){t&&c(e),t&&c(n),u(l,t)}}}function jt(e){let n,r=oe(e[26])+"";return{c(){n=f(r)},m(t,e){a(t,n,e)},p(t,e){1&e&&r!==(r=oe(t[26])+"")&&y(n,r)},i:t,o:t,d(t){t&&c(n)}}}function qt(t){let e,n;return e=new wt({props:{type:"monster_attack",id:t[26][0]}}),{c(){G(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.id=t[26][0]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function Pt(t){let e,n,r,o,i,l;const u=[qt,jt],f=[];function h(t,e){return 1&e&&(n=!(!t[26][0]||!t[2].byId("monster_attack",t[26][0]))),n?0:1}return r=h(t,-1),o=f[r]=u[r](t),{c(){e=d("li"),o.c(),i=p()},m(t,n){a(t,e,n),f[r].m(e,null),s(e,i),l=!0},p(t,n){let l=r;r=h(t,n),r===l?f[r].p(t,n):(j(),F(f[l],1,1,(()=>{f[l]=null})),q(),o=f[r],o?o.p(t,n):(o=f[r]=u[r](t),o.c()),P(o,1),o.m(e,i))},i(t){l||(P(o),l=!0)},o(t){F(o),l=!1},d(t){t&&c(e),f[r].d()}}}function Ft(t){let e,n,r,o=t[0].anger_triggers.join(", ")+"";return{c(){e=d("dt"),e.textContent="Anger Triggers",n=d("dd"),r=f(o)},m(t,o){a(t,e,o),a(t,n,o),s(n,r)},p(t,e){1&e&&o!==(o=t[0].anger_triggers.join(", ")+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function Ht(t){let e,n,r,o=t[0].placate_triggers.join(", ")+"";return{c(){e=d("dt"),e.textContent="Placate Triggers",n=d("dd"),r=f(o)},m(t,o){a(t,e,o),a(t,n,o),s(n,r)},p(t,e){1&e&&o!==(o=t[0].placate_triggers.join(", ")+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function Ut(t){let e;return{c(){e=f(", ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Gt(t){let e,n,r,o,i=t[23]+"",l=t[25]<t[0].flags.length-1&&Ut();return{c(){e=d("abbr"),n=f(i),l&&l.c(),o=h(),g(e,"title",r=t[4][t[23]])},m(t,r){a(t,e,r),s(e,n),l&&l.m(t,r),a(t,o,r)},p(t,s){1&s&&i!==(i=t[23]+"")&&y(n,i),1&s&&r!==(r=t[4][t[23]])&&g(e,"title",r),t[25]<t[0].flags.length-1?l||(l=Ut(),l.c(),l.m(o.parentNode,o)):l&&(l.d(1),l=null)},d(t){t&&c(e),l&&l.d(t),t&&c(o)}}}function Wt(e){let n,r,o;return r=new wt({props:{type:"monster",id:e[20]}}),{c(){n=d("li"),G(r.$$.fragment)},m(t,e){a(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),Y(r)}}}function Yt(e){let n,r,o,i,l=e[8].half_life+"",s=1!==e[8].half_life&&function(t){let e;return{c(){e=f("s")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}();return{c(){n=f("with a half-life of "),r=f(l),o=f(" day"),s&&s.c(),i=h()},m(t,e){a(t,n,e),a(t,r,e),a(t,o,e),s&&s.m(t,e),a(t,i,e)},p:t,d(t){t&&c(n),t&&c(r),t&&c(o),s&&s.d(t),t&&c(i)}}}function Vt(e){let n,r,o,i,l=e[8].age_grow+"",s=1!==e[8].age_grow&&function(t){let e;return{c(){e=f("s")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}();return{c(){n=f("in "),r=f(l),o=f(" day"),s&&s.c(),i=h()},m(t,e){a(t,n,e),a(t,r,e),a(t,o,e),s&&s.m(t,e),a(t,i,e)},p:t,d(t){t&&c(n),t&&c(r),t&&c(o),s&&s.d(t),t&&c(i)}}}function zt(t){let e,n,r,o,i,l,u,h,m=ie(t[15])+"";return n=new Ct({props:{item:t[2].byId("item",t[14])}}),o=new wt({props:{type:"item",id:t[14]}}),{c(){e=d("li"),G(n.$$.fragment),r=p(),G(o.$$.fragment),i=f(" ("),l=f(m),u=f(")")},m(t,c){a(t,e,c),W(n,e,null),s(e,r),W(o,e,null),s(e,i),s(e,l),s(e,u),h=!0},p(t,e){const r={};2&e&&(r.item=t[2].byId("item",t[14])),n.$set(r);const i={};2&e&&(i.id=t[14]),o.$set(i),(!h||2&e)&&m!==(m=ie(t[15])+"")&&y(l,m)},i(t){h||(P(n.$$.fragment,t),P(o.$$.fragment,t),h=!0)},o(t){F(n.$$.fragment,t),F(o.$$.fragment,t),h=!1},d(t){t&&c(e),Y(n),Y(o)}}}function Jt(e){let n,r,o;return{c(){n=d("button"),n.textContent="See all...",g(n,"class","disclosure")},m(t,i){a(t,n,i),r||(o=m(n,"click",e[9]),r=!0)},p:t,d(t){t&&c(n),r=!1,o()}}}function Kt(e){let n,r,o,i,l;return r=new Ct({props:{item:e[2].byId("item",e[11].drop)}}),i=new wt({props:{type:"item",id:e[11].drop}}),{c(){n=d("li"),G(r.$$.fragment),o=p(),G(i.$$.fragment)},m(t,e){a(t,n,e),W(r,n,null),s(n,o),W(i,n,null),l=!0},p:t,i(t){l||(P(r.$$.fragment,t),P(i.$$.fragment,t),l=!0)},o(t){F(r.$$.fragment,t),F(i.$$.fragment,t),l=!1},d(t){t&&c(n),Y(r),Y(i)}}}function Xt(t){let e,n,r=ct(t[2],t[2].byId("item_group",t[11].drop)),o=[];for(let e=0;e<r.length;e+=1)o[e]=Qt(kt(t,r,e));const i=t=>F(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=h()},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);a(t,e,r),n=!0},p(t,n){if(132&n){let l;for(r=ct(t[2],t[2].byId("item_group",t[11].drop)),l=0;l<r.length;l+=1){const i=kt(t,r,l);o[l]?(o[l].p(i,n),P(o[l],1)):(o[l]=Qt(i),o[l].c(),P(o[l],1),o[l].m(e.parentNode,e))}for(j(),l=r.length;l<o.length;l+=1)i(l);q()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)P(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)F(o[t]);n=!1},d(t){u(o,t),t&&c(e)}}}function Qt(e){let n,r,o,i,l,u,h,m,g=(100*e[15]).toFixed(2)+"";return r=new Ct({props:{item:e[2].byId("item",e[14])}}),i=new wt({props:{type:"item",id:e[14]}}),{c(){n=d("li"),G(r.$$.fragment),o=p(),G(i.$$.fragment),l=f(" ("),u=f(g),h=f("%)")},m(t,e){a(t,n,e),W(r,n,null),s(n,o),W(i,n,null),s(n,l),s(n,u),s(n,h),m=!0},p:t,i(t){m||(P(r.$$.fragment,t),P(i.$$.fragment,t),m=!0)},o(t){F(r.$$.fragment,t),F(i.$$.fragment,t),m=!1},d(t){t&&c(n),Y(r),Y(i)}}}function Zt(t){let e,n,r,o;const i=[Xt,Kt],l=[];return e=function(t,e){return"bionic_group"===t[11].type?0:1}(t),n=l[e]=i[e](t),{c(){n.c(),r=h()},m(t,n){l[e].m(t,n),a(t,r,n),o=!0},p(t,e){n.p(t,e)},i(t){o||(P(n),o=!0)},o(t){F(n),o=!1},d(t){l[e].d(t),t&&c(r)}}}function te(t){let e,n,r,o,i,l,m,_,b,$,x,w,S,E,C,T,k,O,I,M,R,A,N,L,D,B,H,U,V,z,J,K,X,Q,Z,tt,nt,rt,ot,it,at,ct,ut,dt,ft,pt,ht,mt,gt,yt,_t,vt,bt,$t,xt,wt,St,Et,kt,Rt,jt,qt,Pt,Ut,Kt,Xt,Qt,te,oe,ie,le,se,ae,ce,ue,de,fe,pe,he,me,ge,ye,_e,ve,be,$e,xe,we,Se,Ee,Ce,Te,ke,Oe,Ie,Me,Re,Ae,Ne,Le,De,Be,je,qe=et(t[0])+"",Pe=lt(t[0].volume)+"",Fe=st(t[0].weight)+"",He=ee(t[0])+"",Ue=ne(ee(t[0]))+"",Ge=t[0].description+"",We=(t[0].speed??0)+"",Ye=(t[0].melee_skill??0)+"",Ve=t[3](t[0])+"",ze=t[0].hp+"",Je=(t[0].dodge??0)+"",Ke=(t[0].armor_bash??0)+"",Xe=(t[0].armor_cut??0)+"",Qe=(t[0].armor_stab??Math.floor(.8*(t[0].armor_cut??0)))+"",Ze=(t[0].armor_bullet??0)+"",tn=(t[0].armor_acid??Math.floor(.5*(t[0].armor_cut??0)))+"",en=(t[0].armor_fire??0)+"",nn=(t[0].aggression??0)+"",rn=(t[0].morale??0)+"",on=(t[0].vision_day??40)+"",ln=(t[0].vision_night??1)+"",sn=t[0].default_faction+"",an=(t[0].death_function??[]).join(", ")+"";n=new Ct({props:{item:t[0]}});let cn=t[0].bodytype&&Nt(t),un=t[0].species&&t[0].species.length&&Lt(t),dn=t[5].length&&function(t){let e,n,r,o,i,l=t[5],f=[];for(let e=0;e<l.length;e+=1)f[e]=Dt(At(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));return{c(){e=d("dt"),e.textContent="Material",n=d("dd"),r=d("ul");for(let t=0;t<f.length;t+=1)f[t].c();o=p(),g(r,"class","comma-separated")},m(t,l){a(t,e,l),a(t,n,l),s(n,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null);s(n,o),i=!0},p(t,e){if(32&e){let n;for(l=t[5],n=0;n<l.length;n+=1){const o=At(t,l,n);f[n]?(f[n].p(o,e),P(f[n],1)):(f[n]=Dt(o),f[n].c(),P(f[n],1),f[n].m(r,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),t&&c(n),u(f,t)}}}(t),fn=t[0].special_attacks&&Bt(t),pn=t[0].anger_triggers&&Ft(t),hn=t[0].placate_triggers&&Ht(t),mn=t[0].flags??[],gn=[];for(let e=0;e<mn.length;e+=1)gn[e]=Gt(Mt(t,mn,e));let yn=t[8]&&function(t){let e,n,r,o,i,l=t[8].monsters,f=[];for(let e=0;e<l.length;e+=1)f[e]=Wt(It(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));let m=function(t,e){return t[8].age_grow?Vt:t[8].half_life?Yt:void 0}(t),y=m&&m(t);return{c(){e=d("dt"),e.textContent="Upgrades Into",n=d("dd"),r=d("ul");for(let t=0;t<f.length;t+=1)f[t].c();o=p(),y&&y.c(),g(r,"class","comma-separated or")},m(t,l){a(t,e,l),a(t,n,l),s(n,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null);s(n,o),y&&y.m(n,null),i=!0},p(t,e){if(256&e){let n;for(l=t[8].monsters,n=0;n<l.length;n+=1){const o=It(t,l,n);f[n]?(f[n].p(o,e),P(f[n],1)):(f[n]=Wt(o),f[n].c(),P(f[n],1),f[n].m(r,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}y&&y.p(t,e)},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),t&&c(n),u(f,t),y&&y.d()}}}(t),_n=t[6]?.length&&function(t){let e,n,r,o,i,l,f=t[6].slice(0,t[1]),h=[];for(let e=0;e<f.length;e+=1)h[e]=zt(Ot(t,f,e));const m=t=>F(h[t],1,1,(()=>{h[t]=null}));let g=t[6].length>t[1]&&Jt(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Drops",r=p(),o=d("ul");for(let t=0;t<h.length;t+=1)h[t].c();i=p(),g&&g.c()},m(t,c){a(t,e,c),s(e,n),s(e,r),s(e,o);for(let t=0;t<h.length;t+=1)h[t].m(o,null);s(e,i),g&&g.m(e,null),l=!0},p(t,n){if(70&n){let e;for(f=t[6].slice(0,t[1]),e=0;e<f.length;e+=1){const r=Ot(t,f,e);h[e]?(h[e].p(r,n),P(h[e],1)):(h[e]=zt(r),h[e].c(),P(h[e],1),h[e].m(o,null))}for(j(),e=f.length;e<h.length;e+=1)m(e);q()}t[6].length>t[1]?g?g.p(t,n):(g=Jt(t),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(t){if(!l){for(let t=0;t<f.length;t+=1)P(h[t]);l=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)F(h[t]);l=!1},d(t){t&&c(e),u(h,t),g&&g.d()}}}(t),vn=t[7]&&(t[7].entries??[]).length&&function(t){let e,n,r,o,i,l=t[7].entries,f=[];for(let e=0;e<l.length;e+=1)f[e]=Zt(Tt(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));return{c(){e=d("section"),n=d("h1"),n.textContent="Butchering Results",r=p(),o=d("ul");for(let t=0;t<f.length;t+=1)f[t].c()},m(t,l){a(t,e,l),s(e,n),s(e,r),s(e,o);for(let t=0;t<f.length;t+=1)f[t].m(o,null);i=!0},p(t,e){if(132&e){let n;for(l=t[7].entries,n=0;n<l.length;n+=1){const r=Tt(t,l,n);f[n]?(f[n].p(r,e),P(f[n],1)):(f[n]=Zt(r),f[n].c(),P(f[n],1),f[n].m(o,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),u(f,t)}}}(t);return{c(){e=d("h1"),G(n.$$.fragment),r=p(),o=f(qe),i=p(),l=d("section"),m=d("dl"),cn&&cn.c(),_=h(),un&&un.c(),b=d("dt"),b.textContent="Volume",$=d("dd"),x=f(Pe),w=d("dt"),w.textContent="Weight",S=d("dd"),E=f(Fe),dn&&dn.c(),C=d("dt"),C.textContent="Difficulty",T=d("dd"),k=f(He),O=p(),I=d("span"),M=f("("),R=f(Ue),A=f(")"),L=p(),D=d("p"),B=f(Ge),H=p(),U=d("div"),V=d("section"),z=d("h1"),z.textContent="Attack",J=p(),K=d("dl"),X=d("dt"),X.textContent="Speed",Q=d("dd"),Z=f(We),tt=d("dt"),tt.textContent="Melee Skill",nt=d("dd"),rt=f(Ye),ot=d("dt"),ot.textContent="Damage",it=d("dd"),at=f(Ve),fn&&fn.c(),ct=p(),ut=d("section"),dt=d("h1"),dt.textContent="Defense",ft=p(),pt=d("dl"),ht=d("dt"),ht.textContent="HP",mt=d("dd"),gt=f(ze),yt=d("dt"),yt.textContent="Dodge",_t=d("dd"),vt=f(Je),bt=d("dt"),bt.textContent="Armor",$t=d("dd"),xt=d("dl"),wt=d("dt"),wt.textContent="Bash",St=d("dd"),Et=f(Ke),kt=d("dt"),kt.textContent="Cut",Rt=d("dd"),jt=f(Xe),qt=d("dt"),qt.textContent="Stab",Pt=d("dd"),Ut=f(Qe),Kt=d("dt"),Kt.textContent="Bullet",Xt=d("dd"),Qt=f(Ze),te=d("dt"),te.textContent="Acid",oe=d("dd"),ie=f(tn),le=d("dt"),le.textContent="Fire",se=d("dd"),ae=f(en),ce=p(),ue=d("section"),de=d("h1"),de.textContent="Behavior",fe=p(),pe=d("dl"),he=d("dt"),he.textContent="Aggression",me=d("dd"),ge=f(nn),ye=d("dt"),ye.textContent="Morale",_e=d("dd"),ve=f(rn),be=d("dt"),be.textContent="Vision Range",$e=d("dd"),xe=f(on),we=f(" (day) / "),Se=f(ln),Ee=f(" (night)"),Ce=d("dt"),Ce.textContent="Default Faction",Te=d("dd"),ke=f(sn),pn&&pn.c(),Oe=h(),hn&&hn.c(),Ie=d("dt"),Ie.textContent="Flags",Me=d("dd");for(let t=0;t<gn.length;t+=1)gn[t].c();Re=d("dt"),Re.textContent="On Death",Ae=d("dd"),Ne=f(an),yn&&yn.c(),Le=p(),_n&&_n.c(),De=p(),vn&&vn.c(),Be=h(),g(I,"class",N="c_"+re(ee(t[0]))+" fg_only"),v(D,"color","var(--cata-color-gray)"),v(pt,"flex","1"),g(U,"class","side-by-side"),g(he,"title","Monsters with high aggression are more likely to be hostile. Ranges from -100 to 100"),g(ye,"title","Morale at spawn. Monsters with low morale will flee.")},m(t,c){a(t,e,c),W(n,e,null),s(e,r),s(e,o),a(t,i,c),a(t,l,c),s(l,m),cn&&cn.m(m,null),s(m,_),un&&un.m(m,null),s(m,b),s(m,$),s($,x),s(m,w),s(m,S),s(S,E),dn&&dn.m(m,null),s(m,C),s(m,T),s(T,k),s(T,O),s(T,I),s(I,M),s(I,R),s(I,A),s(l,L),s(l,D),s(D,B),a(t,H,c),a(t,U,c),s(U,V),s(V,z),s(V,J),s(V,K),s(K,X),s(K,Q),s(Q,Z),s(K,tt),s(K,nt),s(nt,rt),s(K,ot),s(K,it),s(it,at),fn&&fn.m(K,null),s(U,ct),s(U,ut),s(ut,dt),s(ut,ft),s(ut,pt),s(pt,ht),s(pt,mt),s(mt,gt),s(pt,yt),s(pt,_t),s(_t,vt),s(pt,bt),s(pt,$t),s($t,xt),s(xt,wt),s(xt,St),s(St,Et),s(xt,kt),s(xt,Rt),s(Rt,jt),s(xt,qt),s(xt,Pt),s(Pt,Ut),s(xt,Kt),s(xt,Xt),s(Xt,Qt),s(xt,te),s(xt,oe),s(oe,ie),s(xt,le),s(xt,se),s(se,ae),a(t,ce,c),a(t,ue,c),s(ue,de),s(ue,fe),s(ue,pe),s(pe,he),s(pe,me),s(me,ge),s(pe,ye),s(pe,_e),s(_e,ve),s(pe,be),s(pe,$e),s($e,xe),s($e,we),s($e,Se),s($e,Ee),s(pe,Ce),s(pe,Te),s(Te,ke),pn&&pn.m(pe,null),s(pe,Oe),hn&&hn.m(pe,null),s(pe,Ie),s(pe,Me);for(let t=0;t<gn.length;t+=1)gn[t].m(Me,null);s(pe,Re),s(pe,Ae),s(Ae,Ne),yn&&yn.m(pe,null),a(t,Le,c),_n&&_n.m(t,c),a(t,De,c),vn&&vn.m(t,c),a(t,Be,c),je=!0},p(t,[e]){const r={};if(1&e&&(r.item=t[0]),n.$set(r),(!je||1&e)&&qe!==(qe=et(t[0])+"")&&y(o,qe),t[0].bodytype?cn?cn.p(t,e):(cn=Nt(t),cn.c(),cn.m(m,_)):cn&&(cn.d(1),cn=null),t[0].species&&t[0].species.length?un?un.p(t,e):(un=Lt(t),un.c(),un.m(m,b)):un&&(un.d(1),un=null),(!je||1&e)&&Pe!==(Pe=lt(t[0].volume)+"")&&y(x,Pe),(!je||1&e)&&Fe!==(Fe=st(t[0].weight)+"")&&y(E,Fe),t[5].length&&dn.p(t,e),(!je||1&e)&&He!==(He=ee(t[0])+"")&&y(k,He),(!je||1&e)&&Ue!==(Ue=ne(ee(t[0]))+"")&&y(R,Ue),(!je||1&e&&N!==(N="c_"+re(ee(t[0]))+" fg_only"))&&g(I,"class",N),(!je||1&e)&&Ge!==(Ge=t[0].description+"")&&y(B,Ge),(!je||1&e)&&We!==(We=(t[0].speed??0)+"")&&y(Z,We),(!je||1&e)&&Ye!==(Ye=(t[0].melee_skill??0)+"")&&y(rt,Ye),(!je||1&e)&&Ve!==(Ve=t[3](t[0])+"")&&y(at,Ve),t[0].special_attacks?fn?(fn.p(t,e),1&e&&P(fn,1)):(fn=Bt(t),fn.c(),P(fn,1),fn.m(K,null)):fn&&(j(),F(fn,1,1,(()=>{fn=null})),q()),(!je||1&e)&&ze!==(ze=t[0].hp+"")&&y(gt,ze),(!je||1&e)&&Je!==(Je=(t[0].dodge??0)+"")&&y(vt,Je),(!je||1&e)&&Ke!==(Ke=(t[0].armor_bash??0)+"")&&y(Et,Ke),(!je||1&e)&&Xe!==(Xe=(t[0].armor_cut??0)+"")&&y(jt,Xe),(!je||1&e)&&Qe!==(Qe=(t[0].armor_stab??Math.floor(.8*(t[0].armor_cut??0)))+"")&&y(Ut,Qe),(!je||1&e)&&Ze!==(Ze=(t[0].armor_bullet??0)+"")&&y(Qt,Ze),(!je||1&e)&&tn!==(tn=(t[0].armor_acid??Math.floor(.5*(t[0].armor_cut??0)))+"")&&y(ie,tn),(!je||1&e)&&en!==(en=(t[0].armor_fire??0)+"")&&y(ae,en),(!je||1&e)&&nn!==(nn=(t[0].aggression??0)+"")&&y(ge,nn),(!je||1&e)&&rn!==(rn=(t[0].morale??0)+"")&&y(ve,rn),(!je||1&e)&&on!==(on=(t[0].vision_day??40)+"")&&y(xe,on),(!je||1&e)&&ln!==(ln=(t[0].vision_night??1)+"")&&y(Se,ln),(!je||1&e)&&sn!==(sn=t[0].default_faction+"")&&y(ke,sn),t[0].anger_triggers?pn?pn.p(t,e):(pn=Ft(t),pn.c(),pn.m(pe,Oe)):pn&&(pn.d(1),pn=null),t[0].placate_triggers?hn?hn.p(t,e):(hn=Ht(t),hn.c(),hn.m(pe,Ie)):hn&&(hn.d(1),hn=null),17&e){let n;for(mn=t[0].flags??[],n=0;n<mn.length;n+=1){const r=Mt(t,mn,n);gn[n]?gn[n].p(r,e):(gn[n]=Gt(r),gn[n].c(),gn[n].m(Me,null))}for(;n<gn.length;n+=1)gn[n].d(1);gn.length=mn.length}(!je||1&e)&&an!==(an=(t[0].death_function??[]).join(", ")+"")&&y(Ne,an),t[8]&&yn.p(t,e),t[6]?.length&&_n.p(t,e),t[7]&&(t[7].entries??[]).length&&vn.p(t,e)},i(t){je||(P(n.$$.fragment,t),P(dn),P(fn),P(yn),P(_n),P(vn),je=!0)},o(t){F(n.$$.fragment,t),F(dn),F(fn),F(yn),F(_n),F(vn),je=!1},d(t){t&&c(e),Y(n),t&&c(i),t&&c(l),cn&&cn.d(),un&&un.d(),dn&&dn.d(),t&&c(H),t&&c(U),fn&&fn.d(),t&&c(ce),t&&c(ue),pn&&pn.d(),hn&&hn.d(),u(gn,t),yn&&yn.d(),t&&c(Le),_n&&_n.d(t),t&&c(De),vn&&vn.d(t),t&&c(Be)}}}function ee(t){const{melee_skill:e=0,melee_dice:n=0,melee_cut:r=0,melee_dice_sides:o=0,dodge:i=0,armor_bash:l=-1,armor_cut:s=-1,diff:a=0,special_attacks:c=[],emit_fields:u=[],hp:d,speed:f=0,attack_cost:p=100,morale:h=0,aggression:m=0,vision_day:g=40,vision_night:y=1}=t;let _=(e+1)*n*(r+o)*.04+(i+1)*(3+l+s)*.04+(a+c.length+8*u.length);return _=Math.floor(_),_*=.01*(d+f-p+.1*(h+m))+.01*(g+2*y),Math.floor(_)}function ne(t){return t<3?"Minimal threat.":t<10?"Mildly dangerous.":t<20?"Dangerous.":t<30?"Very dangerous.":t<50?"Extremely dangerous.":"Fatally dangerous!"}function re(t){return t<3||t<10?"light_gray":t<20?"light_red":"red"}function oe(t){return Array.isArray(t)?t.length>1?`${t[0]} (cooldown: ${t[1]})`:t[0]:"type"in t?"cooldown"in t?`${t.type} (cooldown: ${t.cooldown})`:t.type:"id"in t?"damage_max_instance"in t?`${t.id}: ${t.damage_max_instance.map((t=>`(${t.damage_type} for ${t.amount} damage)`)).join(" ")}`:t.id:void 0}function ie(t){const e=(100*t).toFixed(2);return"0.00"===e?"< 0.01%":e+"%"}function le(t,e,n){var r;let{item:o}=e,i=S("data");let l=null!==(r=o.material)&&void 0!==r?r:[],s=i.flatDeathDrops(o.id),a=10,c=o.harvest?i.byId("harvest",o.harvest):void 0,u=o.upgrades&&(o.upgrades.into||o.upgrades.into_group)?{...o.upgrades,monsters:o.upgrades.into?[o.upgrades.into]:(d=i.byId("monstergroup",o.upgrades.into_group),[d.default].concat(d.monsters.map((t=>t.monster)).filter((t=>t!==d.default))))}:null;var d;return t.$$set=t=>{"item"in t&&n(0,o=t.item)},[o,a,i,function(t){let{melee_dice:e=0,melee_dice_sides:n=0,melee_damage:r=[],melee_cut:o}=t;const i=(l=r,Array.isArray(l)?l:"values"in l?l.values:[l]);var l;return o&&i.push({damage_type:"cut",amount:o}),`${e}d${n} bash`+i.map((t=>` + ${t.amount} ${t.damage_type}`)).join("")},{SEES:"It can see you (and will run/follow)",HEARS:"It can hear you",GOODHEARING:"Pursues sounds more than most monsters",SMELLS:"It can smell you",KEENNOSE:"Keen sense of smell",STUMBLES:"Stumbles in its movement",WARM:"Warm blooded",NOHEAD:"Headshots not allowed!",HARDTOSHOOT:"It's one size smaller for ranged attacks, no less then creature_size::tiny",GRABS:"Its attacks may grab us!",BASHES:"Bashes down doors",DESTROYS:"Bashes down walls and more",BORES:"Tunnels through just about anything",POISON:"Poisonous to eat",VENOM:"Attack may poison the player",BADVENOM:"Attack may SEVERELY poison the player",PARALYZE:"Attack may paralyze the player with venom",WEBWALK:"Doesn't destroy webs",DIGS:"Digs through the ground",CAN_DIG:"Can dig and walk",FLIES:"Can fly (over water, etc)",AQUATIC:"Confined to water",SWIMS:"Treats water as 50 movement point terrain",ATTACKMON:"Attacks other monsters",ANIMAL:'Is an "animal" for purposes of the Animal Empath trait',PLASTIC:"Absorbs physical damage to a great degree",SUNDEATH:"Dies in full sunlight",ELECTRIC:"Shocks unarmed attackers",ACIDPROOF:"Immune to acid",ACIDTRAIL:"Leaves a trail of acid",SHORTACIDTRAIL:"Leaves an intermittent trail of acid",FIREPROOF:"Immune to fire",SLUDGEPROOF:"Ignores the effect of sludge trails",SLUDGETRAIL:"Causes monster to leave a sludge trap trail when moving",COLDPROOF:"Immune to cold damage",FIREY:"Burns stuff and is immune to fire",QUEEN:"When it dies, local populations start to die off too",ELECTRONIC:"e.g. a robot; affected by EMP blasts, and other stuff",FUR:"May produce fur when butchered",LEATHER:"May produce leather when butchered",WOOL:"May produce wool when butchered",BONES:"May produce bones and sinews when butchered; if combined with POISON flag, tainted bones, if combined with HUMAN, human bones",FAT:"May produce fat when butchered; if combined with POISON flag, tainted fat",CONSOLE_DESPAWN:"Despawns when a nearby console is properly hacked",IMMOBILE:"Doesn't move (e.g. turrets)",ID_CARD_DESPAWN:"Despawns when a science ID card is used on a nearby console",RIDEABLE_MECH:"A rideable mech that is immobile until ridden.",MILITARY_MECH:"A rideable mech that was designed for military work.",MECH_RECON_VISION:"This mech gives you IR night-vision.",MECH_DEFENSIVE:"This mech gives you thorough protection.",HIT_AND_RUN:"Flee for several turns after a melee attack",GUILT:"You feel guilty for killing it",PAY_BOT:"You can pay this bot to be your friend for a time",HUMAN:"It's a live human, as long as it's alive",NO_BREATHE:"Creature can't drown and is unharmed by gas, smoke, or poison",FLAMMABLE:"Monster catches fire, burns, and spreads fire to nearby objects",REVIVES:"Monster corpse will revive after a short period of time",CHITIN:"May produce chitin when butchered",VERMIN:'Obsolete flag labeling "nuisance" or "scenery" monsters, now used to prevent loading the same.',NOGIB:"Creature won't leave gibs / meat chunks when killed with huge damage.",LARVA:"Creature is a larva. Currently used for gib and blood handling.",ARTHROPOD_BLOOD:"Forces monster to bleed hemolymph.",ACID_BLOOD:"Makes monster bleed acid. Fun stuff! Does not automatically dissolve in a pool of acid on death.",BILE_BLOOD:"Makes monster bleed bile.",ABSORBS:"Consumes objects it moves over which gives bonus hp.",ABSORBS_SPLITS:"Consumes objects it moves over which gives bonus hp. If it gets enough bonus HP, it spawns a copy of itself.",CBM_CIV:"May produce a common CBM a power CBM when butchered.",CBM_POWER:"May produce a power CBM when butchered, independent of MF_CBM_wev.",CBM_SCI:"May produce a bionic from bionics_sci when butchered.",CBM_OP:"May produce a bionic from bionics_op when butchered, and the power storage is mk 2.",CBM_TECH:"May produce a bionic from bionics_tech when butchered.",CBM_SUBS:"May produce a bionic from bionics_subs when butchered.",FILTHY:"Any clothing it drops will be filthy.",FISHABLE:"It is fishable.",GROUP_BASH:"Monsters that can pile up against obstacles and add their strength together to break them.",SWARMS:"Monsters that like to group together and form loose packs",GROUP_MORALE:"Monsters that are more courageous when near friends",INTERIOR_AMMO:"Monster contain's its ammo inside itself, no need to load on launch. Prevents ammo from being dropped on disable.",CLIMBS:"Monsters that can climb certain terrain and furniture",PACIFIST:"Monsters that will never use melee attack, useful for having them use grab without attacking the player",PUSH_MON:"Monsters that can push creatures out of their way",PUSH_VEH:"Monsters that can push vehicles out of their way",NIGHT_INVISIBILITY:"Monsters that are invisible in poor light conditions",REVIVES_HEALTHY:"When revived, this monster has full hitpoints and speed",NO_NECRO:"This monster can't be revived by necros. It will still rise on its own.",AVOID_DANGER_1:"This monster will path around some dangers instead of through them.",AVOID_DANGER_2:"This monster will path around most dangers instead of through them.",AVOID_FIRE:"This monster will path around heat-related dangers instead of through them.",AVOID_FALL:"This monster will path around cliffs instead of off of them.",PRIORITIZE_TARGETS:"This monster will prioritize targets depending on their danger levels",NOT_HALLU:"Monsters that will NOT appear when player's producing hallucinations",CATFOOD:"This monster will become friendly when fed cat food.",CATTLEFODDER:"This monster will become friendly when fed cattle fodder.",BIRDFOOD:"This monster will become friendly when fed bird food.",CANPLAY:"This monster can be played with if it's a pet.",PET_MOUNTABLE:"This monster can be mounted and ridden when tamed.",PET_HARNESSABLE:"This monster can be harnessed when tamed.",DOGFOOD:"This monster will become friendly when fed dog food.",MILKABLE:"This monster is milkable.",SHEARABLE:"This monster is shearable.",NO_BREED:"This monster doesn't breed, even though it has breed data",PET_WONT_FOLLOW:"This monster won't follow the player automatically when tamed.",DRIPS_NAPALM:"This monster occasionally drips napalm on move",DRIPS_GASOLINE:"This monster occasionally drips gasoline on move",ELECTRIC_FIELD:"This monster is surrounded by an electrical field that ignites flammable liquids near it",LOUDMOVES:"This monster makes move noises as if ~2 sizes louder, even if flying.",CAN_OPEN_DOORS:"This monster can open doors.",STUN_IMMUNE:"This monster is immune to the stun effect",DROPS_AMMO:"This monster drops ammo. Should not be set for monsters that use pseudo ammo.",INSECTICIDEPROOF:"This monster is immune to insecticide, even though it's made of bug flesh",RANGED_ATTACKER:"This monster has any sort of ranged attack"},l,s,c,u,t=>{t.preventDefault(),n(1,a=1/0)}]}class se extends J{constructor(t){super(),z(this,t,le,te,i,{item:0})}}function ae(t,e,n){const r=t.slice();return r[3]=e[n],r}function ce(t,e,n){const r=t.slice();return r[6]=e[n],r}function ue(e){let n,r,o=e[6].string+"";return{c(){n=d("span"),r=f(o),g(n,"class","c_"+e[6].color)},m(t,e){a(t,n,e),s(n,r)},p:t,d(t){t&&c(n)}}}function de(t){let e,n=t[3],r=[];for(let e=0;e<n.length;e+=1)r[e]=ue(ce(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=f("\n")},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);a(t,e,n)},p(t,o){if(1&o){let i;for(n=t[3],i=0;i<n.length;i+=1){const l=ce(t,n,i);r[i]?r[i].p(l,o):(r[i]=ue(l),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){u(r,t),t&&c(e)}}}function fe(e){let n,r=e[0],o=[];for(let t=0;t<r.length;t+=1)o[t]=de(ae(e,r,t));return{c(){n=d("pre");for(let t=0;t<o.length;t+=1)o[t].c();v(n,"font-family","Unifont, monospace"),v(n,"line-height","1")},m(t,e){a(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(1&e){let i;for(r=t[0],i=0;i<r.length;i+=1){const l=ae(t,r,i);o[i]?o[i].p(l,e):(o[i]=de(l),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:t,o:t,d(t){t&&c(n),u(o,t)}}}function pe(t,e,n){let{picture:r}=e,o=["white"];const i=[];for(const t of r.picture){const e=[];let n=t;for(;;){const t=n.match(/<\/?color([^>]*?)>/);if(!t)break;t.index>0&&e.push({string:n.substr(0,t.index),color:o[0]}),"/"===t[0][1]&&o.length>1?o.shift():o.unshift(t[1].substr(1)),n=n.substr(t.index+t[0].length)}n.length&&e.push({string:n,color:o[0]});const r=41-e.reduce(((t,e)=>t+e.string.length),0);r>0&&e.push({string:" ".repeat(r),color:o[0]}),i.push(e)}return t.$$set=t=>{"picture"in t&&n(1,r=t.picture)},[i,r]}class he extends J{constructor(t){super(),z(this,t,pe,fe,i,{picture:1})}}function me(t){let e,n,r,o,i,l,u,m,g,_,v,b,$,x,w,S,E,C,T,k,O,I,M,R,A,N=(t[0].range??0)+"",L=(t[0].dispersion??0)+"",D=(t[0].recoil??0)+"",B=(t[0].critical_multiplier??2)+"";u=new wt({props:{type:"ammunition_type",id:t[0].ammo_type}});let H=t[0].casing&&ge(t),U=t[0].effects?.length&&ye(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Ammunition",r=p(),o=d("dl"),i=d("dt"),i.textContent="Ammunition Type",l=d("dd"),G(u.$$.fragment),m=d("dt"),m.textContent="Damage",g=d("dd"),g.textContent=`${t[1].amount??0} (${t[1].damage_type??"bullet"})`,_=d("dt"),_.textContent="Armor Penetration",v=d("dd"),v.textContent=`${t[1].armor_penetration??0}`,b=d("dt"),b.textContent="Range",$=d("dd"),x=f(N),w=d("dt"),w.textContent="Dispersion",S=d("dd"),E=f(L),C=d("dt"),C.textContent="Recoil",T=d("dd"),k=f(D),O=d("dt"),O.textContent="Critical Multiplier",I=d("dd"),M=f(B),H&&H.c(),R=h(),U&&U.c()},m(t,c){a(t,e,c),s(e,n),s(e,r),s(e,o),s(o,i),s(o,l),W(u,l,null),s(o,m),s(o,g),s(o,_),s(o,v),s(o,b),s(o,$),s($,x),s(o,w),s(o,S),s(S,E),s(o,C),s(o,T),s(T,k),s(o,O),s(o,I),s(I,M),H&&H.m(o,null),s(o,R),U&&U.m(o,null),A=!0},p(t,e){const n={};1&e&&(n.id=t[0].ammo_type),u.$set(n),(!A||1&e)&&N!==(N=(t[0].range??0)+"")&&y(x,N),(!A||1&e)&&L!==(L=(t[0].dispersion??0)+"")&&y(E,L),(!A||1&e)&&D!==(D=(t[0].recoil??0)+"")&&y(k,D),(!A||1&e)&&B!==(B=(t[0].critical_multiplier??2)+"")&&y(M,B),t[0].casing?H?(H.p(t,e),1&e&&P(H,1)):(H=ge(t),H.c(),P(H,1),H.m(o,R)):H&&(j(),F(H,1,1,(()=>{H=null})),q()),t[0].effects?.length?U?U.p(t,e):(U=ye(t),U.c(),U.m(o,null)):U&&(U.d(1),U=null)},i(t){A||(P(u.$$.fragment,t),P(H),A=!0)},o(t){F(u.$$.fragment,t),F(H),A=!1},d(t){t&&c(e),Y(u),H&&H.d(),U&&U.d()}}}function ge(t){let e,n,r,o;return r=new wt({props:{id:t[0].casing,type:"item"}}),{c(){e=d("dt"),e.textContent="Casing",n=d("dd"),G(r.$$.fragment)},m(t,i){a(t,e,i),a(t,n,i),W(r,n,null),o=!0},p(t,e){const n={};1&e&&(n.id=t[0].casing),r.$set(n)},i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(e),t&&c(n),Y(r)}}}function ye(t){let e,n,r,o=t[0].effects.join(", ")+"";return{c(){e=d("dt"),e.textContent="Effects",n=d("dd"),r=f(o)},m(t,o){a(t,e,o),a(t,n,o),s(n,r)},p(t,e){1&e&&o!==(o=t[0].effects.join(", ")+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function _e(t){let e,n,r=(t[0].damage||t[0].show_stats)&&me(t);return{c(){r&&r.c(),e=h()},m(t,o){r&&r.m(t,o),a(t,e,o),n=!0},p(t,[n]){t[0].damage||t[0].show_stats?r?(r.p(t,n),1&n&&P(r,1)):(r=me(t),r.c(),P(r,1),r.m(e.parentNode,e)):r&&(j(),F(r,1,1,(()=>{r=null})),q())},i(t){n||(P(r),n=!0)},o(t){F(r),n=!1},d(t){r&&r.d(t),t&&c(e)}}}function ve(t,e,n){var r;let{item:o}=e;const i=Array.isArray(o.damage)?o.damage[0]:o.damage&&"values"in o.damage?o.damage.values[0]:null!==(r=o.damage)&&void 0!==r?r:{amount:0,damage_type:"bullet",armor_penetration:0};return t.$$set=t=>{"item"in t&&n(0,o=t.item)},[o,i]}class be extends J{constructor(t){super(),z(this,t,ve,_e,i,{item:0})}}function $e(t,e,n){const r=t.slice();return r[11]=e[n],r}function xe(t,e,n){const r=t.slice();return r[14]=e[n],r[16]=n,r}function we(t,e,n){const r=t.slice();return r[11]=e[n],r}function Se(t,e,n){const r=t.slice();return r[14]=e[n],r[16]=n,r}function Ee(t,e,n){const r=t.slice();return r[20]=e[n][0],r[21]=e[n][1],r}function Ce(t){let e,n,r,o,i;return{c(){e=f("The "),n=d("strong"),r=f("right "),o=f(t[20]),i=f(".")},m(t,l){a(t,e,l),a(t,n,l),s(n,r),s(n,o),a(t,i,l)},d(t){t&&c(e),t&&c(n),t&&c(i)}}}function Te(t){let e,n,r,o,i;return{c(){e=f("The "),n=d("strong"),r=f("left "),o=f(t[20]),i=f(".")},m(t,l){a(t,e,l),a(t,n,l),s(n,r),s(n,o),a(t,i,l)},d(t){t&&c(e),t&&c(n),t&&c(i)}}}function ke(t){let e,n,r,o;return{c(){e=f("The "),n=d("strong"),r=f(t[21]),o=f(".")},m(t,i){a(t,e,i),a(t,n,i),s(n,r),a(t,o,i)},d(t){t&&c(e),t&&c(n),t&&c(o)}}}function Oe(t){let e,n,r,o;return{c(){e=f("Either "),n=d("strong"),r=f(t[20]),o=f(".")},m(t,i){a(t,e,i),a(t,n,i),s(n,r),a(t,o,i)},d(t){t&&c(e),t&&c(n),t&&c(o)}}}function Ie(t){let e,n,r,o,i,l;function s(t,i){return(null==e||1&i)&&(e=!(!t[0].sided||!t[2](`${t[20]}_l`)&&!t[2](`${t[20]}_r`))),e?Oe:(null==n&&(n=!(!t[2](`${t[20]}_l`)||!t[2](`${t[20]}_r`))),n?ke:(null==r&&(r=!!t[2](`${t[20]}_l`)),r?Te:(null==o&&(o=!!t[2](`${t[20]}_r`)),o?Ce:void 0)))}let u=s(t,-1),d=u&&u(t);return{c(){d&&d.c(),i=p(),l=f(" ")},m(t,e){d&&d.m(t,e),a(t,i,e),a(t,l,e)},p(t,e){u!==(u=s(t,e))&&(d&&d.d(1),d=u&&u(t),d&&(d.c(),d.m(i.parentNode,i)))},d(t){d&&d.d(t),t&&c(i),t&&c(l)}}}function Me(t){let e;return{c(){e=f("Normal")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Re(t){let e;return{c(){e=f("Outer aura")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Ae(t){let e;return{c(){e=f("Waist")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Ne(t){let e;return{c(){e=f("Outer")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Le(t){let e;return{c(){e=f("Strapped")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function De(t){let e;return{c(){e=f("Close to skin")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Be(t){let e;return{c(){e=f("Personal aura")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function je(t){let e,n,r=(t[0].encumbrance??0)+"",o=t[0].max_encumbrance&&Pe(t);return{c(){e=f(r),o&&o.c(),n=h()},m(t,r){a(t,e,r),o&&o.m(t,r),a(t,n,r)},p(t,i){1&i&&r!==(r=(t[0].encumbrance??0)+"")&&y(e,r),t[0].max_encumbrance?o?o.p(t,i):(o=Pe(t),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(t){t&&c(e),o&&o.d(t),t&&c(n)}}}function qe(t){let e,n=t[0].armor_portion_data,r=[];for(let e=0;e<n.length;e+=1)r[e]=We(we(t,n,e));return{c(){e=d("dl");for(let t=0;t<r.length;t+=1)r[t].c()},m(t,n){a(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,o){if(17&o){let i;for(n=t[0].armor_portion_data,i=0;i<n.length;i+=1){const l=we(t,n,i);r[i]?r[i].p(l,o):(r[i]=We(l),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){t&&c(e),u(r,t)}}}function Pe(t){let e,n,r,o,i=t[0].max_encumbrance+"";return{c(){e=f(" "),n=f("("),r=f(i),o=f(" when full)")},m(t,i){a(t,e,i),a(t,n,i),a(t,r,i),a(t,o,i)},p(t,e){1&e&&i!==(i=t[0].max_encumbrance+"")&&y(r,i)},d(t){t&&c(e),t&&c(n),t&&c(r),t&&c(o)}}}function Fe(t){let e,n=t[14]+"",r=0!==t[16]&&function(t){let e;return{c(){e=f(", ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}();return{c(){r&&r.c(),e=f(n)},m(t,n){r&&r.m(t,n),a(t,e,n)},p(t,r){1&r&&n!==(n=t[14]+"")&&y(e,n)},d(t){r&&r.d(t),t&&c(e)}}}function He(t){let e,n=(t[11].encumbrance??0)+"";return{c(){e=f(n)},m(t,n){a(t,e,n)},p(t,r){1&r&&n!==(n=(t[11].encumbrance??0)+"")&&y(e,n)},d(t){t&&c(e)}}}function Ue(t){let e,n,r,o=t[11].encumbrance[0]+"",i=t[11].encumbrance[1]!==t[11].encumbrance[0]&&Ge(t);return{c(){e=f(o),n=p(),i&&i.c(),r=h()},m(t,o){a(t,e,o),a(t,n,o),i&&i.m(t,o),a(t,r,o)},p(t,n){1&n&&o!==(o=t[11].encumbrance[0]+"")&&y(e,o),t[11].encumbrance[1]!==t[11].encumbrance[0]?i?i.p(t,n):(i=Ge(t),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(t){t&&c(e),t&&c(n),i&&i.d(t),t&&c(r)}}}function Ge(t){let e,n,r,o=t[11].encumbrance[1]+"";return{c(){e=f("("),n=f(o),r=f(" when full)")},m(t,o){a(t,e,o),a(t,n,o),a(t,r,o)},p(t,e){1&e&&o!==(o=t[11].encumbrance[1]+"")&&y(n,o)},d(t){t&&c(e),t&&c(n),t&&c(r)}}}function We(t){let e,n,r,o,i=t[4](t[11]),l=[];for(let e=0;e<i.length;e+=1)l[e]=Fe(Se(t,i,e));function f(t,e){return(null==r||1&e)&&(r=!!Array.isArray(t[11].encumbrance)),r?Ue:He}let h=f(t,-1),m=h(t);return{c(){e=d("dt");for(let t=0;t<l.length;t+=1)l[t].c();n=d("dd"),m.c(),o=p()},m(t,r){a(t,e,r);for(let t=0;t<l.length;t+=1)l[t].m(e,null);a(t,n,r),m.m(n,null),s(n,o)},p(t,r){if(17&r){let n;for(i=t[4](t[11]),n=0;n<i.length;n+=1){const o=Se(t,i,n);l[n]?l[n].p(o,r):(l[n]=Fe(o),l[n].c(),l[n].m(e,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=i.length}h===(h=f(t,r))&&m?m.p(t,r):(m.d(1),m=h(t),m&&(m.c(),m.m(n,o)))},d(t){t&&c(e),u(l,t),t&&c(n),m.d()}}}function Ye(t){let e,n,r=(t[0].coverage??0)+"";return{c(){e=f(r),n=f("%")},m(t,r){a(t,e,r),a(t,n,r)},p(t,n){1&n&&r!==(r=(t[0].coverage??0)+"")&&y(e,r)},d(t){t&&c(e),t&&c(n)}}}function Ve(t){let e,n=t[0].armor_portion_data,r=[];for(let e=0;e<n.length;e+=1)r[e]=Je($e(t,n,e));return{c(){e=d("dl");for(let t=0;t<r.length;t+=1)r[t].c()},m(t,n){a(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,o){if(17&o){let i;for(n=t[0].armor_portion_data,i=0;i<n.length;i+=1){const l=$e(t,n,i);r[i]?r[i].p(l,o):(r[i]=Je(l),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){t&&c(e),u(r,t)}}}function ze(t){let e,n=t[14]+"",r=0!==t[16]&&function(t){let e;return{c(){e=f(", ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}();return{c(){r&&r.c(),e=f(n)},m(t,n){r&&r.m(t,n),a(t,e,n)},p(t,r){1&r&&n!==(n=t[14]+"")&&y(e,n)},d(t){r&&r.d(t),t&&c(e)}}}function Je(t){let e,n,r,o,i=(t[11].coverage??0)+"",l=t[4](t[11]),p=[];for(let e=0;e<l.length;e+=1)p[e]=ze(xe(t,l,e));return{c(){e=d("dt");for(let t=0;t<p.length;t+=1)p[t].c();n=d("dd"),r=f(i),o=f("%")},m(t,i){a(t,e,i);for(let t=0;t<p.length;t+=1)p[t].m(e,null);a(t,n,i),s(n,r),s(n,o)},p(t,n){if(17&n){let r;for(l=t[4](t[11]),r=0;r<l.length;r+=1){const o=xe(t,l,r);p[r]?p[r].p(o,n):(p[r]=ze(o),p[r].c(),p[r].m(e,null))}for(;r<p.length;r+=1)p[r].d(1);p.length=l.length}1&n&&i!==(i=(t[11].coverage??0)+"")&&y(r,i)},d(t){t&&c(e),u(p,t),t&&c(n)}}}function Ke(t){let e,n,r,o,i,l,u=(t[0].environmental_protection??0)+"",p=t[1].length&&function(t){let e,n,r,o,i,l,u,p,h,m,g,_,v,b,$,x=(t[1].reduce(Qe,0)*(t[0].material_thickness??0)/t[1].length).toFixed(2)+"",w=(t[1].reduce(Ze,0)*(t[0].material_thickness??0)/t[1].length).toFixed(2)+"",S=(t[1].reduce(tn,0)*(t[0].material_thickness??0)/t[1].length).toFixed(2)+"",E=t[5]().toFixed(2)+"",C=t[6]().toFixed(2)+"";return{c(){e=d("dt"),e.textContent="Bash",n=d("dd"),r=f(x),o=d("dt"),o.textContent="Cut",i=d("dd"),l=f(w),u=d("dt"),u.textContent="Ballistic",p=d("dd"),h=f(S),m=d("dt"),m.textContent="Acid",g=d("dd"),_=f(E),v=d("dt"),v.textContent="Fire",b=d("dd"),$=f(C)},m(t,c){a(t,e,c),a(t,n,c),s(n,r),a(t,o,c),a(t,i,c),s(i,l),a(t,u,c),a(t,p,c),s(p,h),a(t,m,c),a(t,g,c),s(g,_),a(t,v,c),a(t,b,c),s(b,$)},p(t,e){1&e&&x!==(x=(t[1].reduce(Qe,0)*(t[0].material_thickness??0)/t[1].length).toFixed(2)+"")&&y(r,x),1&e&&w!==(w=(t[1].reduce(Ze,0)*(t[0].material_thickness??0)/t[1].length).toFixed(2)+"")&&y(l,w),1&e&&S!==(S=(t[1].reduce(tn,0)*(t[0].material_thickness??0)/t[1].length).toFixed(2)+"")&&y(h,S),1&e&&E!==(E=t[5]().toFixed(2)+"")&&y(_,E),1&e&&C!==(C=t[6]().toFixed(2)+"")&&y($,C)},d(t){t&&c(e),t&&c(n),t&&c(o),t&&c(i),t&&c(u),t&&c(p),t&&c(m),t&&c(g),t&&c(v),t&&c(b)}}}(t);return{c(){e=d("dt"),e.textContent="Protection",n=d("dd"),r=d("dl"),p&&p.c(),o=d("dt"),o.textContent="Environ.",i=d("dd"),l=f(u),g(o,"title","Environmental")},m(t,c){a(t,e,c),a(t,n,c),s(n,r),p&&p.m(r,null),s(r,o),s(r,i),s(i,l)},p(t,e){t[1].length&&p.p(t,e),1&e&&u!==(u=(t[0].environmental_protection??0)+"")&&y(l,u)},d(t){t&&c(e),t&&c(n),p&&p.d()}}}function Xe(e){let n,r,o,i,l,h,m,_,v,b,$,x,w,S,E,C,T,k,O,I,M,R,A,N,L,D,B,j,q,P,F=e[2]("head"),H=e[2]("eyes"),U=e[2]("mouth"),G=e[2]("torso"),W=(e[0].warmth??0)+"",Y=F&&function(t){let e,n,r;return{c(){e=f("The "),n=d("strong"),n.textContent="head",r=f(".")},m(t,o){a(t,e,o),a(t,n,o),a(t,r,o)},d(t){t&&c(e),t&&c(n),t&&c(r)}}}(),V=H&&function(t){let e,n,r;return{c(){e=f("The "),n=d("strong"),n.textContent="eyes",r=f(".")},m(t,o){a(t,e,o),a(t,n,o),a(t,r,o)},d(t){t&&c(e),t&&c(n),t&&c(r)}}}(),z=U&&function(t){let e,n,r;return{c(){e=f("The "),n=d("strong"),n.textContent="mouth",r=f(".")},m(t,o){a(t,e,o),a(t,n,o),a(t,r,o)},d(t){t&&c(e),t&&c(n),t&&c(r)}}}(),J=G&&function(t){let e,n,r;return{c(){e=f("The "),n=d("strong"),n.textContent="torso",r=f(".")},m(t,o){a(t,e,o),a(t,n,o),a(t,r,o)},d(t){t&&c(e),t&&c(n),t&&c(r)}}}(),K=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]],X=[];for(let t=0;t<4;t+=1)X[t]=Ie(Ee(e,K,t));let Q=!e[3]&&function(t){let e;return{c(){e=f("Nothing.")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}();function Z(t,e){return(null==E||1&e)&&(E=!!(t[0].flags??[]).includes("PERSONAL")),E?Be:((null==C||1&e)&&(C=!!(t[0].flags??[]).includes("SKINTIGHT")),C?De:((null==T||1&e)&&(T=!!(t[0].flags??[]).includes("BELTED")),T?Le:((null==k||1&e)&&(k=!!(t[0].flags??[]).includes("OUTER")),k?Ne:((null==O||1&e)&&(O=!!(t[0].flags??[]).includes("WAIST")),O?Ae:((null==I||1&e)&&(I=!!(t[0].flags??[]).includes("AURA")),I?Re:Me)))))}let tt=Z(e,-1),et=tt(e);function nt(t,e){return t[0].armor_portion_data?qe:je}let rt=nt(e),ot=rt(e);function it(t,e){return t[0].armor_portion_data?Ve:Ye}let lt=it(e),st=lt(e),at=(e[1].length||e[0].environmental_protection)&&Ke(e);return{c(){n=d("section"),r=d("h1"),r.textContent="Armor",o=p(),i=d("dl"),l=d("dt"),l.textContent="Covers",h=d("dd"),Y&&Y.c(),m=p(),V&&V.c(),_=p(),z&&z.c(),v=p(),J&&J.c(),b=p();for(let t=0;t<4;t+=1)X[t].c();$=p(),Q&&Q.c(),x=p(),w=d("dt"),w.textContent="Layer",S=d("dd"),et.c(),M=p(),R=d("dt"),R.textContent="Warmth",A=d("dd"),N=f(W),L=d("dt"),L.textContent="Encumbrance",D=d("dd"),ot.c(),B=p(),j=d("dt"),j.textContent="Coverage",q=d("dd"),st.c(),P=p(),at&&at.c(),g(j,"title","This determines how likely it is that an attack hits the item instead of the player.")},m(t,e){a(t,n,e),s(n,r),s(n,o),s(n,i),s(i,l),s(i,h),Y&&Y.m(h,null),s(h,m),V&&V.m(h,null),s(h,_),z&&z.m(h,null),s(h,v),J&&J.m(h,null),s(h,b);for(let t=0;t<4;t+=1)X[t].m(h,null);s(h,$),Q&&Q.m(h,null),s(h,x),s(i,w),s(i,S),et.m(S,null),s(S,M),s(i,R),s(i,A),s(A,N),s(i,L),s(i,D),ot.m(D,null),s(D,B),s(i,j),s(i,q),st.m(q,null),s(q,P),at&&at.m(i,null)},p(t,[e]){if(5&e){let n;for(K=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]],n=0;n<4;n+=1){const r=Ee(t,K,n);X[n]?X[n].p(r,e):(X[n]=Ie(r),X[n].c(),X[n].m(h,$))}for(;n<4;n+=1)X[n].d(1)}tt!==(tt=Z(t,e))&&(et.d(1),et=tt(t),et&&(et.c(),et.m(S,M))),1&e&&W!==(W=(t[0].warmth??0)+"")&&y(N,W),rt===(rt=nt(t))&&ot?ot.p(t,e):(ot.d(1),ot=rt(t),ot&&(ot.c(),ot.m(D,B))),lt===(lt=it(t))&&st?st.p(t,e):(st.d(1),st=lt(t),st&&(st.c(),st.m(q,P))),t[1].length||t[0].environmental_protection?at?at.p(t,e):(at=Ke(t),at.c(),at.m(i,null)):at&&(at.d(1),at=null)},i:t,o:t,d(t){t&&c(n),Y&&Y.d(),V&&V.d(),z&&z.d(),J&&J.d(),u(X,t),Q&&Q.d(),et.d(),ot.d(),st.d(),at&&at.d()}}}const Qe=(t,e)=>t+e.bash_resist??0,Ze=(t,e)=>t+e.cut_resist??0,tn=(t,e)=>t+e.bullet_resist??0;function en(t,e,n){var r,o,i;let{item:l}=e,s=S("data"),a=("string"==typeof l.material?[l.material]:null!==(r=l.material)&&void 0!==r?r:[]).map((t=>s.byId("material",t)));let c=(null!==(o=l.covers)&&void 0!==o?o:[]).length||(null!==(i=l.armor_portion_data)&&void 0!==i?i:[]).length;return t.$$set=t=>{"item"in t&&n(0,l=t.item)},[l,a,function(t){var e,n;return(null!==(e=l.covers)&&void 0!==e?e:[]).includes(t)||(null!==(n=l.armor_portion_data)&&void 0!==n?n:[]).some((e=>{var n;return(null!==(n=e.covers)&&void 0!==n?n:[]).includes(t)}))},c,function(t){var e;const n=new Set,r=[];for(const o of null!==(e=t.covers)&&void 0!==e?e:[]){if(n.has(o))continue;const e=s.byId("body_part",o);e.opposite_part&&t.covers.includes(e.opposite_part)?(r.push(e.heading_multiple),n.add(e.opposite_part)):r.push(e.heading),n.add(o)}return r},()=>{let t=a.reduce(((t,e)=>t+e.acid_resist??0),0)/a.length;const e=l.environmental_protection??0;return e<10&&(t*=e/10),t},()=>{let t=a.reduce(((t,e)=>t+e.fire_resist??0),0)/a.length;const e=l.environmental_protection??0;return e<10&&(t*=e/10),t}]}class nn extends J{constructor(t){super(),z(this,t,en,Xe,i,{item:0})}}function rn(t,e,n){const r=t.slice();return r[5]=e[n][0],r[6]=e[n][1],r}function on(t){let e,n,r,o,i,l,u,p,h,m,g=(t[0].required_level??0)+"",_=(t[0].max_level??0)+"";return r=new wt({props:{id:t[0].skill,type:"skill"}}),{c(){e=d("dt"),e.textContent="Skill",n=d("dd"),G(r.$$.fragment),o=d("dt"),o.textContent="Required Level",i=d("dd"),l=f(g),u=d("dt"),u.textContent="Maximum Level",p=d("dd"),h=f(_)},m(t,c){a(t,e,c),a(t,n,c),W(r,n,null),a(t,o,c),a(t,i,c),s(i,l),a(t,u,c),a(t,p,c),s(p,h),m=!0},p(t,e){const n={};1&e&&(n.id=t[0].skill),r.$set(n),(!m||1&e)&&g!==(g=(t[0].required_level??0)+"")&&y(l,g),(!m||1&e)&&_!==(_=(t[0].max_level??0)+"")&&y(h,_)},i(t){m||(P(r.$$.fragment,t),m=!0)},o(t){F(r.$$.fragment,t),m=!1},d(t){t&&c(e),t&&c(n),Y(r),t&&c(o),t&&c(i),t&&c(u),t&&c(p)}}}function ln(t){let e,n,r,o=t[0].chapters+"";return{c(){e=d("dt"),e.textContent="Chapters",n=d("dd"),r=f(o)},m(t,o){a(t,e,o),a(t,n,o),s(n,r)},p(t,e){1&e&&o!==(o=t[0].chapters+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function sn(e){let n,r,o,i,l,u,p=e[6]+"";return r=new wt({props:{id:e[5],type:"item"}}),{c(){n=d("li"),G(r.$$.fragment),o=f(" ("),i=f(p),l=f(")")},m(t,e){a(t,n,e),W(r,n,null),s(n,o),s(n,i),s(n,l),u=!0},p:t,i(t){u||(P(r.$$.fragment,t),u=!0)},o(t){F(r.$$.fragment,t),u=!1},d(t){t&&c(n),Y(r)}}}function an(t){let e,n,r,o,i,l,m,g,_,v,b,$,x,w,S,E=(t[0].intelligence??0)+"",C=(t[0].time??0)+"",T=(t[0].fun??0)+"",k=t[0].skill&&on(t),O=t[0].chapters&&ln(t),I=t[1].size&&function(t){let e,n,r,o,i=[...t[1].entries()].sort(cn),l=[];for(let e=0;e<i.length;e+=1)l[e]=sn(rn(t,i,e));const f=t=>F(l[t],1,1,(()=>{l[t]=null}));return{c(){e=d("dt"),e.textContent="Recipes",n=d("dd"),r=d("ul");for(let t=0;t<l.length;t+=1)l[t].c()},m(t,i){a(t,e,i),a(t,n,i),s(n,r);for(let t=0;t<l.length;t+=1)l[t].m(r,null);o=!0},p(t,e){if(2&e){let n;for(i=[...t[1].entries()].sort(cn),n=0;n<i.length;n+=1){const o=rn(t,i,n);l[n]?(l[n].p(o,e),P(l[n],1)):(l[n]=sn(o),l[n].c(),P(l[n],1),l[n].m(r,null))}for(j(),n=i.length;n<l.length;n+=1)f(n);q()}},i(t){if(!o){for(let t=0;t<i.length;t+=1)P(l[t]);o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)F(l[t]);o=!1},d(t){t&&c(e),t&&c(n),u(l,t)}}}(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Book",r=p(),o=d("dl"),k&&k.c(),i=d("dt"),i.textContent="Required Intelligence",l=d("dd"),m=f(E),g=d("dt"),g.textContent="Read Time",_=d("dd"),v=f(C),b=d("dt"),b.textContent="Fun",$=d("dd"),x=f(T),O&&O.c(),w=h(),I&&I.c()},m(t,c){a(t,e,c),s(e,n),s(e,r),s(e,o),k&&k.m(o,null),s(o,i),s(o,l),s(l,m),s(o,g),s(o,_),s(_,v),s(o,b),s(o,$),s($,x),O&&O.m(o,null),s(o,w),I&&I.m(o,null),S=!0},p(t,[e]){t[0].skill?k?(k.p(t,e),1&e&&P(k,1)):(k=on(t),k.c(),P(k,1),k.m(o,i)):k&&(j(),F(k,1,1,(()=>{k=null})),q()),(!S||1&e)&&E!==(E=(t[0].intelligence??0)+"")&&y(m,E),(!S||1&e)&&C!==(C=(t[0].time??0)+"")&&y(v,C),(!S||1&e)&&T!==(T=(t[0].fun??0)+"")&&y(x,T),t[0].chapters?O?O.p(t,e):(O=ln(t),O.c(),O.m(o,w)):O&&(O.d(1),O=null),t[1].size&&I.p(t,e)},i(t){S||(P(k),P(I),S=!0)},o(t){F(k),F(I),S=!1},d(t){t&&c(e),k&&k.d(),O&&O.d(),I&&I.d()}}}const cn=(t,e)=>t[1]!==e[1]?t[1]-e[1]:t[0].localeCompare(e[0]);function un(t,e,n){var r;let{item:o}=e,i=S("data");const l=new Map;function s(t,e){var n;l.set(t,Math.min(e,null!==(n=l.get(t))&&void 0!==n?n:1/0))}for(const t of i.byType("recipe"))if(Array.isArray(t.book_learn))for(const[e,n=0]of t.book_learn)if(e===o.id)s(t.result,n);else if(t.book_learn)for(const[e,n]of Object.entries(t.book_learn))e===o.id&&s(t.result,null!==(r=n.skill_level)&&void 0!==r?r:0);return t.$$set=t=>{"item"in t&&n(0,o=t.item)},[o,l]}class dn extends J{constructor(t){super(),z(this,t,un,an,i,{item:0})}}function fn(t,e,n){const r=t.slice();return r[1]=e[n][0],r[2]=e[n][1],r[4]=n,r}function pn(t){let e,n,r,o=t[0].vitamins,i=[];for(let e=0;e<o.length;e+=1)i[e]=gn(fn(t,o,e));const l=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=d("dt"),e.textContent="Vitamins (%RDA)",n=d("dd");for(let t=0;t<i.length;t+=1)i[t].c()},m(t,o){a(t,e,o),a(t,n,o);for(let t=0;t<i.length;t+=1)i[t].m(n,null);r=!0},p(t,e){if(1&e){let r;for(o=t[0].vitamins,r=0;r<o.length;r+=1){const l=fn(t,o,r);i[r]?(i[r].p(l,e),P(i[r],1)):(i[r]=gn(l),i[r].c(),P(i[r],1),i[r].m(n,null))}for(j(),r=o.length;r<i.length;r+=1)l(r);q()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)P(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);r=!1},d(t){t&&c(e),t&&c(n),u(i,t)}}}function hn(t){let e;return{c(){e=f(" and ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function mn(t){let e;return{c(){e=f(", ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function gn(t){let e,n,r,o,i,l,s=t[2]+"";function u(t,e){return t[4]<t[0].vitamins.length-2?mn:t[4]===t[0].vitamins.length-2?hn:void 0}e=new wt({props:{id:t[1],type:"vitamin"}});let d=u(t),p=d&&d(t);return{c(){G(e.$$.fragment),n=f(" ("),r=f(s),o=f("%)"),p&&p.c(),i=h()},m(t,s){W(e,t,s),a(t,n,s),a(t,r,s),a(t,o,s),p&&p.m(t,s),a(t,i,s),l=!0},p(t,n){const o={};1&n&&(o.id=t[1]),e.$set(o),(!l||1&n)&&s!==(s=t[2]+"")&&y(r,s),d!==(d=u(t))&&(p&&p.d(1),p=d&&d(t),p&&(p.c(),p.m(i.parentNode,i)))},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){Y(e,t),t&&c(n),t&&c(r),t&&c(o),p&&p.d(t),t&&c(i)}}}function yn(t){let e,n,r,o,i,l,u,h,m,g,_,v,b,$,x,w,S,E,C,T,k,O,I,M,R=(t[0].calories??0)+"",A=(t[0].quench??0)+"",N=(t[0].fun??0)+"",L=(t[0].charges??1)+"",D=(t[0].spoils_in??"never")+"",B=(t[0].healthy??0)+"",H=t[0].vitamins&&pn(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Comestible",r=p(),o=d("dl"),i=d("dt"),i.textContent="Calories",l=d("dd"),u=f(R),h=f(" kcal"),m=d("dt"),m.textContent="Quench",g=d("dd"),_=f(A),v=d("dt"),v.textContent="Enjoyability",b=d("dd"),$=f(N),x=d("dt"),x.textContent="Portions",w=d("dd"),S=f(L),E=d("dt"),E.textContent="Spoils In",C=d("dd"),T=f(D),k=d("dt"),k.textContent="Health",O=d("dd"),I=f(B),H&&H.c()},m(t,c){a(t,e,c),s(e,n),s(e,r),s(e,o),s(o,i),s(o,l),s(l,u),s(l,h),s(o,m),s(o,g),s(g,_),s(o,v),s(o,b),s(b,$),s(o,x),s(o,w),s(w,S),s(o,E),s(o,C),s(C,T),s(o,k),s(o,O),s(O,I),H&&H.m(o,null),M=!0},p(t,[e]){(!M||1&e)&&R!==(R=(t[0].calories??0)+"")&&y(u,R),(!M||1&e)&&A!==(A=(t[0].quench??0)+"")&&y(_,A),(!M||1&e)&&N!==(N=(t[0].fun??0)+"")&&y($,N),(!M||1&e)&&L!==(L=(t[0].charges??1)+"")&&y(S,L),(!M||1&e)&&D!==(D=(t[0].spoils_in??"never")+"")&&y(T,D),(!M||1&e)&&B!==(B=(t[0].healthy??0)+"")&&y(I,B),t[0].vitamins?H?(H.p(t,e),1&e&&P(H,1)):(H=pn(t),H.c(),P(H,1),H.m(o,null)):H&&(j(),F(H,1,1,(()=>{H=null})),q())},i(t){M||(P(H),M=!0)},o(t){F(H),M=!1},d(t){t&&c(e),H&&H.d()}}}function _n(t,e,n){let{item:r}=e;return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r]}class vn extends J{constructor(t){super(),z(this,t,_n,yn,i,{item:0})}}function bn(t,e,n){const r=t.slice();return r[6]=e[n],r}function $n(t){let e,n,r,o,i;return n=new Ct({props:{item:t[1].byId("item",t[6])}}),o=new wt({props:{type:"item",id:t[6]}}),{c(){e=d("li"),G(n.$$.fragment),r=p(),G(o.$$.fragment)},m(t,l){a(t,e,l),W(n,e,null),s(e,r),W(o,e,null),i=!0},p(t,e){const r={};1&e&&(r.item=t[1].byId("item",t[6])),n.$set(r);const i={};1&e&&(i.id=t[6]),o.$set(i)},i(t){i||(P(n.$$.fragment,t),P(o.$$.fragment,t),i=!0)},o(t){F(n.$$.fragment,t),F(o.$$.fragment,t),i=!1},d(t){t&&c(e),Y(n),Y(o)}}}function xn(e){let n,r,o;return{c(){n=d("button"),n.textContent="See all...",g(n,"class","disclosure")},m(t,i){a(t,n,i),r||(o=m(n,"click",e[4]),r=!0)},p:t,d(t){t&&c(n),r=!1,o()}}}function wn(t){let e,n,r=t[2].length&&function(t){let e,n,r,o,i,l,f=t[2].slice(0,t[0]),h=[];for(let e=0;e<f.length;e+=1)h[e]=$n(bn(t,f,e));const m=t=>F(h[t],1,1,(()=>{h[t]=null}));let g=t[2].length>t[0]&&xn(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Component Of",r=p(),o=d("ul");for(let t=0;t<h.length;t+=1)h[t].c();i=p(),g&&g.c()},m(t,c){a(t,e,c),s(e,n),s(e,r),s(e,o);for(let t=0;t<h.length;t+=1)h[t].m(o,null);s(e,i),g&&g.m(e,null),l=!0},p(t,n){if(7&n){let e;for(f=t[2].slice(0,t[0]),e=0;e<f.length;e+=1){const r=bn(t,f,e);h[e]?(h[e].p(r,n),P(h[e],1)):(h[e]=$n(r),h[e].c(),P(h[e],1),h[e].m(o,null))}for(j(),e=f.length;e<h.length;e+=1)m(e);q()}t[2].length>t[0]?g?g.p(t,n):(g=xn(t),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(t){if(!l){for(let t=0;t<f.length;t+=1)P(h[t]);l=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)F(h[t]);l=!1},d(t){t&&c(e),u(h,t),g&&g.d()}}}(t);return{c(){r&&r.c(),e=h()},m(t,o){r&&r.m(t,o),a(t,e,o),n=!0},p(t,[e]){t[2].length&&r.p(t,e)},i(t){n||(P(r),n=!0)},o(t){F(r),n=!1},d(t){r&&r.d(t),t&&c(e)}}}function Sn(t,e,n){let{item_id:r}=e;const o=S("data"),i=o.byType("recipe").filter((t=>{if("recipe"!==t.type||!t.result||!o.byId("item",t.result))return!1;const e="string"==typeof t.using?[[t.using,1]]:t.using;return(null!=e?e:[]).map((([t,e])=>[o.byId("requirement",t),e])).concat([[t,1]]).flatMap((([t,e])=>{var n;return o.flattenRequirement(null!==(n=t.components)&&void 0!==n?n:[],(t=>t.components)).map((t=>t.map((t=>({...t,count:t.count*e})))))})).some((t=>t.some((t=>t.id===r))))})),l=[...new Set(i.map((t=>t.result)))].sort(((t,e)=>et(o.byId("item",t)).localeCompare(et(o.byId("item",e)))));let s=10;return t.$$set=t=>{"item_id"in t&&n(3,r=t.item_id)},[s,o,l,r,t=>{t.preventDefault(),n(0,s=1/0)}]}class En extends J{constructor(t){super(),z(this,t,Sn,wn,i,{item_id:3})}}function Cn(e){let n,r;return{c(){n=d("span"),r=f(e[1]),v(n,"font-family","monospace"),g(n,"class","c_"+e[0])},m(t,e){a(t,n,e),s(n,r)},p:t,i:t,o:t,d(t){t&&c(n)}}}function Tn(t){return"string"==typeof t?`i_${t}`:Tn(t[0])}function kn(t,e,n){let{item:r}=e;const o=r.color?r.color:r.bgcolor?Tn(r.bgcolor):null,i="string"==typeof r.symbol?r.symbol:r.symbol[0];return t.$$set=t=>{"item"in t&&n(2,r=t.item)},[o,i,r]}class On extends J{constructor(t){super(),z(this,t,kn,Cn,i,{item:2})}}function In(t,e,n){const r=t.slice();return r[5]=e[n],r}function Mn(t){let e,n,r,o,i;return n=new On({props:{item:t[1].byId("furniture",t[5].id)}}),o=new wt({props:{id:t[5].id,type:"furniture"}}),{c(){e=d("li"),G(n.$$.fragment),r=p(),G(o.$$.fragment)},m(t,l){a(t,e,l),W(n,e,null),s(e,r),W(o,e,null),i=!0},p(t,e){const r={};1&e&&(r.item=t[1].byId("furniture",t[5].id)),n.$set(r);const i={};1&e&&(i.id=t[5].id),o.$set(i)},i(t){i||(P(n.$$.fragment,t),P(o.$$.fragment,t),i=!0)},o(t){F(n.$$.fragment,t),F(o.$$.fragment,t),i=!1},d(t){t&&c(e),Y(n),Y(o)}}}function Rn(e){let n,r,o;return{c(){n=d("button"),n.textContent="See all...",g(n,"class","disclosure")},m(t,i){a(t,n,i),r||(o=m(n,"click",e[4]),r=!0)},p:t,d(t){t&&c(n),r=!1,o()}}}function An(t){let e,n,r=t[2].length&&function(t){let e,n,r,o,i,l,f=t[2].slice(0,t[0]),h=[];for(let e=0;e<f.length;e+=1)h[e]=Mn(In(t,f,e));const m=t=>F(h[t],1,1,(()=>{h[t]=null}));let g=t[2].length>t[0]&&Rn(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Deconstruct",r=p(),o=d("ul");for(let t=0;t<h.length;t+=1)h[t].c();i=p(),g&&g.c()},m(t,c){a(t,e,c),s(e,n),s(e,r),s(e,o);for(let t=0;t<h.length;t+=1)h[t].m(o,null);s(e,i),g&&g.m(e,null),l=!0},p(t,n){if(7&n){let e;for(f=t[2].slice(0,t[0]),e=0;e<f.length;e+=1){const r=In(t,f,e);h[e]?(h[e].p(r,n),P(h[e],1)):(h[e]=Mn(r),h[e].c(),P(h[e],1),h[e].m(o,null))}for(j(),e=f.length;e<h.length;e+=1)m(e);q()}t[2].length>t[0]?g?g.p(t,n):(g=Rn(t),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(t){if(!l){for(let t=0;t<f.length;t+=1)P(h[t]);l=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)F(h[t]);l=!1},d(t){t&&c(e),u(h,t),g&&g.d()}}}(t);return{c(){r&&r.c(),e=h()},m(t,o){r&&r.m(t,o),a(t,e,o),n=!0},p(t,[e]){t[2].length&&r.p(t,e)},i(t){n||(P(r),n=!0)},o(t){F(r),n=!1},d(t){r&&r.d(t),t&&c(e)}}}function Nn(t,e,n){let{item_id:r}=e;const o=S("data");let i=o.byType("furniture").filter((t=>{var e,n;const i=(null===(e=t.deconstruct)||void 0===e?void 0:e.items)?ct(o,{subtype:"collection",entries:t.deconstruct.items}):[],l=(null===(n=t.bash)||void 0===n?void 0:n.items)?ct(o,{subtype:"collection",entries:t.bash.items}):[];return i.some((({id:t})=>t===r))||l.some((({id:t})=>t===r))})).sort(((t,e)=>et(t).localeCompare(et(e)))),l=10;return t.$$set=t=>{"item_id"in t&&n(3,r=t.item_id)},[l,o,i,r,t=>{t.preventDefault(),n(0,l=1/0)}]}class Ln extends J{constructor(t){super(),z(this,t,Nn,An,i,{item_id:3})}}function Dn(t,e,n){const r=t.slice();return r[6]=e[n],r}function Bn(t){let e,n,r,o,i;return n=new Ct({props:{item:t[1].byId("item",t[6])}}),o=new wt({props:{id:t[6],type:"item"}}),{c(){e=d("li"),G(n.$$.fragment),r=p(),G(o.$$.fragment)},m(t,l){a(t,e,l),W(n,e,null),s(e,r),W(o,e,null),i=!0},p(t,e){const r={};1&e&&(r.item=t[1].byId("item",t[6])),n.$set(r);const i={};1&e&&(i.id=t[6]),o.$set(i)},i(t){i||(P(n.$$.fragment,t),P(o.$$.fragment,t),i=!0)},o(t){F(n.$$.fragment,t),F(o.$$.fragment,t),i=!1},d(t){t&&c(e),Y(n),Y(o)}}}function jn(e){let n,r,o;return{c(){n=d("button"),n.textContent="See all...",g(n,"class","disclosure")},m(t,i){a(t,n,i),r||(o=m(n,"click",e[4]),r=!0)},p:t,d(t){t&&c(n),r=!1,o()}}}function qn(t){let e,n,r=t[2].length&&function(t){let e,n,r,o,i,l,f=t[2].slice(0,t[0]),h=[];for(let e=0;e<f.length;e+=1)h[e]=Bn(Dn(t,f,e));const m=t=>F(h[t],1,1,(()=>{h[t]=null}));let g=t[2].length>t[0]&&jn(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Disassemble",r=p(),o=d("ul");for(let t=0;t<h.length;t+=1)h[t].c();i=p(),g&&g.c()},m(t,c){a(t,e,c),s(e,n),s(e,r),s(e,o);for(let t=0;t<h.length;t+=1)h[t].m(o,null);s(e,i),g&&g.m(e,null),l=!0},p(t,n){if(7&n){let e;for(f=t[2].slice(0,t[0]),e=0;e<f.length;e+=1){const r=Dn(t,f,e);h[e]?(h[e].p(r,n),P(h[e],1)):(h[e]=Bn(r),h[e].c(),P(h[e],1),h[e].m(o,null))}for(j(),e=f.length;e<h.length;e+=1)m(e);q()}t[2].length>t[0]?g?g.p(t,n):(g=jn(t),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(t){if(!l){for(let t=0;t<f.length;t+=1)P(h[t]);l=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)F(h[t]);l=!1},d(t){t&&c(e),u(h,t),g&&g.d()}}}(t);return{c(){r&&r.c(),e=h()},m(t,o){r&&r.m(t,o),a(t,e,o),n=!0},p(t,[e]){t[2].length&&r.p(t,e)},i(t){n||(P(r),n=!0)},o(t){F(r),n=!1},d(t){r&&r.d(t),t&&c(e)}}}function Pn(t,e,n){let{item_id:r}=e,o=S("data");const i=new Set;for(const t of o.byType("recipe"))if(t.result&&(t.reversible||"uncraft"===t.type)){(t.using?Array.isArray(t.using)?t.using:[[t.using,1]]:[]).map((([t,e])=>[o.byId("requirement",t),e])).concat([[t,1]]).flatMap((([t,e])=>{var n;return o.flattenRequirement(null!==(n=t.components)&&void 0!==n?n:[],(t=>t.components),{onlyRecoverable:!0}).map((t=>t.map((t=>({...t,count:t.count*e})))))})).map((t=>t[0])).some((t=>t.id===r))&&i.add(t.result)}const l=[...i].sort(((t,e)=>et(o.byId("item",t)).localeCompare(et(o.byId("item",e)))));let s=10;return t.$$set=t=>{"item_id"in t&&n(3,r=t.item_id)},[s,o,l,r,t=>{t.preventDefault(),n(0,s=1/0)}]}class Fn extends J{constructor(t){super(),z(this,t,Pn,qn,i,{item_id:3})}}function Hn(t,e,n){const r=t.slice();return r[10]=e[n],r}function Un(t,e,n){const r=t.slice();return r[13]=e[n].id,r[14]=e[n].prob,r}function Gn(t){let e,n,r,o,i,l,u,h,m=rt(t[14])+"";return n=new Ct({props:{item:t[2].byId("monster",t[13])}}),o=new wt({props:{id:t[13],type:"monster"}}),{c(){e=d("li"),G(n.$$.fragment),r=p(),G(o.$$.fragment),i=f(" ("),l=f(m),u=f(")")},m(t,c){a(t,e,c),W(n,e,null),s(e,r),W(o,e,null),s(e,i),s(e,l),s(e,u),h=!0},p(t,e){const r={};1&e&&(r.item=t[2].byId("monster",t[13])),n.$set(r);const i={};1&e&&(i.id=t[13]),o.$set(i),(!h||1&e)&&m!==(m=rt(t[14])+"")&&y(l,m)},i(t){h||(P(n.$$.fragment,t),P(o.$$.fragment,t),h=!0)},o(t){F(n.$$.fragment,t),F(o.$$.fragment,t),h=!1},d(t){t&&c(e),Y(n),Y(o)}}}function Wn(e){let n,r,o;return{c(){n=d("button"),n.textContent="See all...",g(n,"class","disclosure")},m(t,i){a(t,n,i),r||(o=m(n,"click",e[6]),r=!0)},p:t,d(t){t&&c(n),r=!1,o()}}}function Yn(t){let e,n,r,o,i;return n=new Ct({props:{item:t[10]}}),o=new wt({props:{id:t[10].id,type:"monster"}}),{c(){e=d("li"),G(n.$$.fragment),r=p(),G(o.$$.fragment)},m(t,l){a(t,e,l),W(n,e,null),s(e,r),W(o,e,null),i=!0},p(t,e){const r={};2&e&&(r.item=t[10]),n.$set(r);const i={};2&e&&(i.id=t[10].id),o.$set(i)},i(t){i||(P(n.$$.fragment,t),P(o.$$.fragment,t),i=!0)},o(t){F(n.$$.fragment,t),F(o.$$.fragment,t),i=!1},d(t){t&&c(e),Y(n),Y(o)}}}function Vn(e){let n,r,o;return{c(){n=d("button"),n.textContent="See all...",g(n,"class","disclosure")},m(t,i){a(t,n,i),r||(o=m(n,"click",e[7]),r=!0)},p:t,d(t){t&&c(n),r=!1,o()}}}function zn(t){let e,n,r,o=t[3].length&&function(t){let e,n,r,o,i,l,f=t[3].slice(0,t[0]),h=[];for(let e=0;e<f.length;e+=1)h[e]=Gn(Un(t,f,e));const m=t=>F(h[t],1,1,(()=>{h[t]=null}));let g=t[3].length>t[0]&&Wn(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Dropped By",r=p(),o=d("ul");for(let t=0;t<h.length;t+=1)h[t].c();i=p(),g&&g.c()},m(t,c){a(t,e,c),s(e,n),s(e,r),s(e,o);for(let t=0;t<h.length;t+=1)h[t].m(o,null);s(e,i),g&&g.m(e,null),l=!0},p(t,n){if(13&n){let e;for(f=t[3].slice(0,t[0]),e=0;e<f.length;e+=1){const r=Un(t,f,e);h[e]?(h[e].p(r,n),P(h[e],1)):(h[e]=Gn(r),h[e].c(),P(h[e],1),h[e].m(o,null))}for(j(),e=f.length;e<h.length;e+=1)m(e);q()}t[3].length>t[0]?g?g.p(t,n):(g=Wn(t),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(t){if(!l){for(let t=0;t<f.length;t+=1)P(h[t]);l=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)F(h[t]);l=!1},d(t){t&&c(e),u(h,t),g&&g.d()}}}(t),i=t[4].length&&function(t){let e,n,r,o,i,l,f=t[4].slice(0,t[1]),h=[];for(let e=0;e<f.length;e+=1)h[e]=Yn(Hn(t,f,e));const m=t=>F(h[t],1,1,(()=>{h[t]=null}));let g=t[4].length>t[1]&&Vn(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Butcher",r=p(),o=d("ul");for(let t=0;t<h.length;t+=1)h[t].c();i=p(),g&&g.c()},m(t,c){a(t,e,c),s(e,n),s(e,r),s(e,o);for(let t=0;t<h.length;t+=1)h[t].m(o,null);s(e,i),g&&g.m(e,null),l=!0},p(t,n){if(18&n){let e;for(f=t[4].slice(0,t[1]),e=0;e<f.length;e+=1){const r=Hn(t,f,e);h[e]?(h[e].p(r,n),P(h[e],1)):(h[e]=Yn(r),h[e].c(),P(h[e],1),h[e].m(o,null))}for(j(),e=f.length;e<h.length;e+=1)m(e);q()}t[4].length>t[1]?g?g.p(t,n):(g=Vn(t),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(t){if(!l){for(let t=0;t<f.length;t+=1)P(h[t]);l=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)F(h[t]);l=!1},d(t){t&&c(e),u(h,t),g&&g.d()}}}(t);return{c(){o&&o.c(),e=p(),i&&i.c(),n=h()},m(t,l){o&&o.m(t,l),a(t,e,l),i&&i.m(t,l),a(t,n,l),r=!0},p(t,[e]){t[3].length&&o.p(t,e),t[4].length&&i.p(t,e)},i(t){r||(P(o),P(i),r=!0)},o(t){F(o),F(i),r=!1},d(t){o&&o.d(t),t&&c(e),i&&i.d(t),t&&c(n)}}}function Jn(t,e,n){let{item_id:r}=e,o=S("data");const i=o.byType("monster").flatMap((t=>{if(!t.id)return[];const e=o.flatDeathDrops(t.id).find((t=>t.id===r));return e?[{id:t.id,prob:e.prob}]:[]}));i.sort(((t,e)=>e.prob-t.prob));const l=o.byType("harvest").filter((t=>(t=>{var e,n;return null!==(n=null===(e=t.entries)||void 0===e?void 0:e.flatMap((t=>"bionic_group"===t.type?o.flattenItemGroup(o.byId("item_group",t.drop)).map((t=>t.id)):[t.drop])))&&void 0!==n?n:[]})(t).some((t=>t===r)))),s=o.byType("monster").filter((t=>t.id&&l.some((e=>e.id===t.harvest))));let a=10,c=10;return t.$$set=t=>{"item_id"in t&&n(5,r=t.item_id)},[a,c,o,i,s,r,t=>{t.preventDefault(),n(0,a=1/0)},t=>{t.preventDefault(),n(1,c=1/0)}]}class Kn extends J{constructor(t){super(),z(this,t,Jn,zn,i,{item_id:5})}}function Xn(t,e,n){const r=t.slice();return r[5]=e[n],r}function Qn(t){let e,n,r,o,i,l,u,h,m=(t[5].seed_data.grow??"1 day")+"";return n=new Ct({props:{item:t[5]}}),o=new wt({props:{id:t[5].id,type:"item"}}),{c(){e=d("li"),G(n.$$.fragment),r=p(),G(o.$$.fragment),i=f(" ("),l=f(m),u=f(")")},m(t,c){a(t,e,c),W(n,e,null),s(e,r),W(o,e,null),s(e,i),s(e,l),s(e,u),h=!0},p(t,e){const r={};1&e&&(r.item=t[5]),n.$set(r);const i={};1&e&&(i.id=t[5].id),o.$set(i),(!h||1&e)&&m!==(m=(t[5].seed_data.grow??"1 day")+"")&&y(l,m)},i(t){h||(P(n.$$.fragment,t),P(o.$$.fragment,t),h=!0)},o(t){F(n.$$.fragment,t),F(o.$$.fragment,t),h=!1},d(t){t&&c(e),Y(n),Y(o)}}}function Zn(e){let n,r,o;return{c(){n=d("button"),n.textContent="See all...",g(n,"class","disclosure")},m(t,i){a(t,n,i),r||(o=m(n,"click",e[3]),r=!0)},p:t,d(t){t&&c(n),r=!1,o()}}}function tr(t){let e,n,r=t[1].length&&function(t){let e,n,r,o,i,l,f=t[1].slice(0,t[0]),h=[];for(let e=0;e<f.length;e+=1)h[e]=Qn(Xn(t,f,e));const m=t=>F(h[t],1,1,(()=>{h[t]=null}));let g=t[1].length>t[0]&&Zn(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Grown From",r=p(),o=d("ul");for(let t=0;t<h.length;t+=1)h[t].c();i=p(),g&&g.c()},m(t,c){a(t,e,c),s(e,n),s(e,r),s(e,o);for(let t=0;t<h.length;t+=1)h[t].m(o,null);s(e,i),g&&g.m(e,null),l=!0},p(t,n){if(3&n){let e;for(f=t[1].slice(0,t[0]),e=0;e<f.length;e+=1){const r=Xn(t,f,e);h[e]?(h[e].p(r,n),P(h[e],1)):(h[e]=Qn(r),h[e].c(),P(h[e],1),h[e].m(o,null))}for(j(),e=f.length;e<h.length;e+=1)m(e);q()}t[1].length>t[0]?g?g.p(t,n):(g=Zn(t),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(t){if(!l){for(let t=0;t<f.length;t+=1)P(h[t]);l=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)F(h[t]);l=!1},d(t){t&&c(e),u(h,t),g&&g.d()}}}(t);return{c(){r&&r.c(),e=h()},m(t,o){r&&r.m(t,o),a(t,e,o),n=!0},p(t,[e]){t[1].length&&r.p(t,e)},i(t){n||(P(r),n=!0)},o(t){F(r),n=!1},d(t){r&&r.d(t),t&&c(e)}}}function er(t,e,n){let{item_id:r}=e;const o=S("data").byType("item").filter((t=>{var e;return!(!t.id||!t.seed_data)&&(t.seed_data.fruit===r||(null===(e=t.seed_data.byproducts)||void 0===e?void 0:e.includes(r)))}));let i=10;return t.$$set=t=>{"item_id"in t&&n(2,r=t.item_id)},[i,o,r,t=>{t.preventDefault(),n(0,i=1/0)}]}class nr extends J{constructor(t){super(),z(this,t,er,tr,i,{item_id:2})}}function rr(t){let e,n,r,o=t[0].min_strength+"";return{c(){e=d("dt"),e.textContent="Min Strength",n=d("dd"),r=f(o)},m(t,o){a(t,e,o),a(t,n,o),s(n,r)},p(t,e){1&e&&o!==(o=t[0].min_strength+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function or(t){let e,n,r,o=t[0].valid_mod_locations.map(lr).join(", ")+"";return{c(){e=d("dt"),e.textContent="Mod Slots",n=d("dd"),r=f(o)},m(t,o){a(t,e,o),a(t,n,o),s(n,r)},p(t,e){1&e&&o!==(o=t[0].valid_mod_locations.map(lr).join(", ")+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function ir(t){let e,n,r,o,i,l,u,h,m,_,v,b,$,x,w,S,E,C,T,k,O,I,M,R,A,N,L,D,B,j,q,H,U=(t[0].range??0)+"",V=(t[0].dispersion??0)+"",z=((t[0].flags??[]).includes("DISABLE_SIGHTS")?90:t[0].sight_dispersion??30)+"",J=(t[0].recoil??0)+"",K=(t[0].reload??100)+"",X=(t[0].durability??0)+"";u=new wt({props:{type:"skill",id:t[0].skill}});let Q=t[0].min_strength&&rr(t),Z=t[0].valid_mod_locations?.length&&or(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Ranged",r=p(),o=d("dl"),i=d("dt"),i.textContent="Skill",l=d("dd"),G(u.$$.fragment),Q&&Q.c(),h=d("dt"),h.textContent="Base Damage",m=d("dd"),m.textContent=`${t[1].amount??0} (${t[1].damage_type??"bullet"})`,_=d("dt"),_.textContent="Armor Penetration",v=d("dd"),v.textContent=`${t[1].armor_penetration??0}`,b=d("dt"),b.textContent="Range Bonus",$=d("dd"),x=f(U),w=d("dt"),w.textContent="Base Dispersion",S=d("dd"),E=f(V),C=d("dt"),C.textContent="Sight Dispersion",T=d("dd"),k=f(z),O=p(),I=d("dt"),I.textContent="Base Recoil",M=d("dd"),R=f(J),A=d("dt"),A.textContent="Reload Time",N=d("dd"),L=f(K),D=f(" moves"),Z&&Z.c(),B=d("dt"),B.textContent="Durability",j=d("dd"),q=f(X),g(b,"title","Added to ammo range"),g(w,"title","Added to ammo dispersion")},m(t,c){a(t,e,c),s(e,n),s(e,r),s(e,o),s(o,i),s(o,l),W(u,l,null),Q&&Q.m(o,null),s(o,h),s(o,m),s(o,_),s(o,v),s(o,b),s(o,$),s($,x),s(o,w),s(o,S),s(S,E),s(o,C),s(o,T),s(T,k),s(T,O),s(o,I),s(o,M),s(M,R),s(o,A),s(o,N),s(N,L),s(N,D),Z&&Z.m(o,null),s(o,B),s(o,j),s(j,q),H=!0},p(t,[e]){const n={};1&e&&(n.id=t[0].skill),u.$set(n),t[0].min_strength?Q?Q.p(t,e):(Q=rr(t),Q.c(),Q.m(o,h)):Q&&(Q.d(1),Q=null),(!H||1&e)&&U!==(U=(t[0].range??0)+"")&&y(x,U),(!H||1&e)&&V!==(V=(t[0].dispersion??0)+"")&&y(E,V),(!H||1&e)&&z!==(z=((t[0].flags??[]).includes("DISABLE_SIGHTS")?90:t[0].sight_dispersion??30)+"")&&y(k,z),(!H||1&e)&&J!==(J=(t[0].recoil??0)+"")&&y(R,J),(!H||1&e)&&K!==(K=(t[0].reload??100)+"")&&y(L,K),t[0].valid_mod_locations?.length?Z?Z.p(t,e):(Z=or(t),Z.c(),Z.m(o,B)):Z&&(Z.d(1),Z=null),(!H||1&e)&&X!==(X=(t[0].durability??0)+"")&&y(q,X)},i(t){H||(P(u.$$.fragment,t),H=!0)},o(t){F(u.$$.fragment,t),H=!1},d(t){t&&c(e),Y(u),Q&&Q.d(),Z&&Z.d()}}}const lr=([t,e])=>`${t} (${e})`;function sr(t,e,n){var r;let{item:o}=e;const i=Array.isArray(o.ranged_damage)?o.ranged_damage[0]:o.ranged_damage&&"values"in o.ranged_damage?o.ranged_damage.values[0]:null!==(r=o.ranged_damage)&&void 0!==r?r:{amount:0,damage_type:"bullet",armor_penetration:0};return t.$$set=t=>{"item"in t&&n(0,o=t.item)},[o,i]}class ar extends J{constructor(t){super(),z(this,t,sr,ir,i,{item:0})}}function cr(t,e,n){const r=t.slice();return r[15]=e[n],r}function ur(t){let e,n,r,o,i,l,h,m,_,v,b,$,x,w,S,E,C=(t[0].bashing??0)+"",T=(t[0].cutting??0)+"",k=t[3](t[0])+"";let O=function(t,e){return t[4]?fr:dr}(t)(t),I=t[1].length&&function(t){let e,n,r,o,i=t[1],l=[];for(let e=0;e<i.length;e+=1)l[e]=pr(cr(t,i,e));const f=t=>F(l[t],1,1,(()=>{l[t]=null}));return{c(){e=d("dt"),e.textContent="Techniques",n=d("dd"),r=d("ul");for(let t=0;t<l.length;t+=1)l[t].c();g(r,"class","no-bullets")},m(t,i){a(t,e,i),a(t,n,i),s(n,r);for(let t=0;t<l.length;t+=1)l[t].m(r,null);o=!0},p(t,e){if(2&e){let n;for(i=t[1],n=0;n<i.length;n+=1){const o=cr(t,i,n);l[n]?(l[n].p(o,e),P(l[n],1)):(l[n]=pr(o),l[n].c(),P(l[n],1),l[n].m(r,null))}for(j(),n=i.length;n<l.length;n+=1)f(n);q()}},i(t){if(!o){for(let t=0;t<i.length;t+=1)P(l[t]);o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)F(l[t]);o=!1},d(t){t&&c(e),t&&c(n),u(l,t)}}}(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Melee",r=p(),o=d("dl"),i=d("dt"),i.textContent="Bash",l=d("dd"),h=f(C),m=d("dt"),O.c(),_=d("dd"),v=f(T),b=d("dt"),b.textContent="To Hit",$=d("dd"),$.textContent=`${t[2]}`,x=d("dt"),x.textContent="Moves Per Attack",w=d("dd"),S=f(k),I&&I.c()},m(t,c){a(t,e,c),s(e,n),s(e,r),s(e,o),s(o,i),s(o,l),s(l,h),s(o,m),O.m(m,null),s(o,_),s(_,v),s(o,b),s(o,$),s(o,x),s(o,w),s(w,S),I&&I.m(o,null),E=!0},p(t,e){(!E||1&e)&&C!==(C=(t[0].bashing??0)+"")&&y(h,C),(!E||1&e)&&T!==(T=(t[0].cutting??0)+"")&&y(v,T),(!E||1&e)&&k!==(k=t[3](t[0])+"")&&y(S,k),t[1].length&&I.p(t,e)},i(t){E||(P(I),E=!0)},o(t){F(I),E=!1},d(t){t&&c(e),O.d(),I&&I.d()}}}function dr(t){let e;return{c(){e=f("Cut")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function fr(t){let e;return{c(){e=f("Pierce")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function pr(e){let n,r,o,i,l,u,p=tt(e[15].description)+"";return o=new wt({props:{type:"technique",id:e[15].id}}),{c(){n=d("li"),r=d("strong"),G(o.$$.fragment),i=f(": "),l=f(p)},m(t,e){a(t,n,e),s(n,r),W(o,r,null),s(n,i),s(n,l),u=!0},p:t,i(t){u||(P(o.$$.fragment,t),u=!0)},o(t){F(o.$$.fragment,t),u=!1},d(t){t&&c(n),Y(o)}}}function hr(t){let e,n,r=(t[0].bashing||t[0].cutting)&&ur(t);return{c(){r&&r.c(),e=h()},m(t,o){r&&r.m(t,o),a(t,e,o),n=!0},p(t,[n]){t[0].bashing||t[0].cutting?r?(r.p(t,n),1&n&&P(r,1)):(r=ur(t),r.c(),P(r,1),r.m(e.parentNode,e)):r&&(j(),F(r,1,1,(()=>{r=null})),q())},i(t){n||(P(r),n=!0)},o(t){F(r),n=!1},d(t){r&&r.d(t),t&&c(e)}}}function mr(t,e,n){var r,o,i,l;let s=S("data"),{item:a}=e,c=(null!==(r=a.techniques)&&void 0!==r?r:[]).map((t=>s.byId("technique",t)));const u={bad:0,none:1,solid:2,weapon:3},d={hand:0,short:1,long:2},f={point:0,line:1,any:2,every:3},p={clumsy:0,uneven:1,neutral:2,good:3},h="object"==typeof a.to_hit?(({grip:t="weapon",length:e="hand",surface:n="any",balance:r="neutral"})=>-7+u[t]+d[e]+f[n]+p[r])(a.to_hit):null!==(o=a.to_hit)&&void 0!==o?o:0;const m=(null!==(i=a.flags)&&void 0!==i?i:[]).includes("SPEAR")||(null!==(l=a.flags)&&void 0!==l?l:[]).includes("STAB");return t.$$set=t=>{"item"in t&&n(0,a=t.item)},[a,c,h,function(t){return Math.floor(65+(Math.floor(ot(t.volume)/62.5)+Math.floor(it(t.weight)/60)))},m]}class gr extends J{constructor(t){super(),z(this,t,mr,hr,i,{item:0})}}function yr(t,e,n){const r=t.slice();return r[8]=e[n],r}function _r(t,e,n){const r=t.slice();return r[11]=e[n].id,r[12]=e[n].count,r[14]=n,r}function vr(t,e,n){const r=t.slice();return r[15]=e[n],r}function br(t,e,n){const r=t.slice();return r[18]=e[n],r[14]=n,r}function $r(t,e,n){const r=t.slice();return r[20]=e[n],r}function xr(t,e,n){const r=t.slice();return r[23]=e[n],r[14]=n,r}function wr(e){let n,r,o,i,l,s,u,d,h,m,g,y=(e[23].amount??1)+"",_=1===(e[23].amount??1)?"":"s",v=e[23].level+"",b=0!==e[14]&&function(t){let e;return{c(){e=f(" OR ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}();return s=new wt({props:{type:"tool_quality",id:e[23].id}}),{c(){b&&b.c(),n=p(),r=f(y),o=f(" tool"),i=f(_),l=f("\n      with "),G(s.$$.fragment),u=f(" of "),d=f(v),h=f(" or more"),m=f("")},m(t,e){b&&b.m(t,e),a(t,n,e),a(t,r,e),a(t,o,e),a(t,i,e),a(t,l,e),W(s,t,e),a(t,u,e),a(t,d,e),a(t,h,e),a(t,m,e),g=!0},p:t,i(t){g||(P(s.$$.fragment,t),g=!0)},o(t){F(s.$$.fragment,t),g=!1},d(t){b&&b.d(t),t&&c(n),t&&c(r),t&&c(o),t&&c(i),t&&c(l),Y(s,t),t&&c(u),t&&c(d),t&&c(h),t&&c(m)}}}function Sr(t){let e,n,r,o=t[20],i=[];for(let e=0;e<o.length;e+=1)i[e]=wr(xr(t,o,e));const l=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=d("li");for(let t=0;t<i.length;t+=1)i[t].c();n=f(".")},m(t,o){a(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);s(e,n),r=!0},p(t,r){if(8&r){let s;for(o=t[20],s=0;s<o.length;s+=1){const l=xr(t,o,s);i[s]?(i[s].p(l,r),P(i[s],1)):(i[s]=wr(l),i[s].c(),P(i[s],1),i[s].m(e,n))}for(j(),s=o.length;s<i.length;s+=1)l(s);q()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)P(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);r=!1},d(t){t&&c(e),u(i,t)}}}function Er(e){let n,r;return n=new wt({props:{type:"item",id:e[18].id}}),{c(){G(n.$$.fragment)},m(t,e){W(n,t,e),r=!0},p:t,i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){Y(n,t)}}}function Cr(e){let n,r,o=et(e[0].byId("item",e[18].id))+"";return{c(){n=d("a"),r=f(o),g(n,"href","#/furniture/"+e[0].craftingPseudoItem(e[18].id))},m(t,e){a(t,n,e),s(n,r)},p:t,i:t,o:t,d(t){t&&c(n)}}}function Tr(e){let n,r,o,i,l=e[18].count+"",s=1!==e[18].count&&function(t){let e;return{c(){e=f("s")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}();return{c(){n=f("("),r=f(l),o=f(" charge"),s&&s.c(),i=f(")")},m(t,e){a(t,n,e),a(t,r,e),a(t,o,e),s&&s.m(t,e),a(t,i,e)},p:t,d(t){t&&c(n),t&&c(r),t&&c(o),s&&s.d(t),t&&c(i)}}}function kr(t){let e,n,r,o,i,l,s=0!==t[14]&&function(t){let e;return{c(){e=f(" OR ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}();const u=[Cr,Er],d=[];n=function(t,e){return t[0].craftingPseudoItem(t[18].id)?0:1}(t),r=d[n]=u[n](t);let m=t[18].count>0&&Tr(t);return{c(){s&&s.c(),e=p(),r.c(),o=p(),m&&m.c(),i=h()},m(t,r){s&&s.m(t,r),a(t,e,r),d[n].m(t,r),a(t,o,r),m&&m.m(t,r),a(t,i,r),l=!0},p(t,e){r.p(t,e),t[18].count>0&&m.p(t,e)},i(t){l||(P(r),l=!0)},o(t){F(r),l=!1},d(t){s&&s.d(t),t&&c(e),d[n].d(t),t&&c(o),m&&m.d(t),t&&c(i)}}}function Or(t){let e,n,r,o=t[15],i=[];for(let e=0;e<o.length;e+=1)i[e]=kr(br(t,o,e));const l=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=d("li");for(let t=0;t<i.length;t+=1)i[t].c();n=p()},m(t,o){a(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);s(e,n),r=!0},p(t,r){if(3&r){let s;for(o=t[15],s=0;s<o.length;s+=1){const l=br(t,o,s);i[s]?(i[s].p(l,r),P(i[s],1)):(i[s]=kr(l),i[s].c(),P(i[s],1),i[s].m(e,n))}for(j(),s=o.length;s<i.length;s+=1)l(s);q()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)P(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);r=!1},d(t){t&&c(e),u(i,t)}}}function Ir(e){let n,r,o,i=0!==e[14]&&function(t){let e;return{c(){e=f(" OR ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}();return r=new wt({props:{type:"item",id:e[11],count:e[12]}}),{c(){i&&i.c(),n=p(),G(r.$$.fragment)},m(t,e){i&&i.m(t,e),a(t,n,e),W(r,t,e),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){i&&i.d(t),t&&c(n),Y(r,t)}}}function Mr(t){let e,n,r,o=t[8].map(t[5]),i=[];for(let e=0;e<o.length;e+=1)i[e]=Ir(_r(t,o,e));const l=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=d("li");for(let t=0;t<i.length;t+=1)i[t].c();n=p()},m(t,o){a(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);s(e,n),r=!0},p(t,r){if(5&r){let s;for(o=t[8].map(t[5]),s=0;s<o.length;s+=1){const l=_r(t,o,s);i[s]?(i[s].p(l,r),P(i[s],1)):(i[s]=Ir(l),i[s].c(),P(i[s],1),i[s].m(e,n))}for(j(),s=o.length;s<i.length;s+=1)l(s);q()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)P(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);r=!1},d(t){t&&c(e),u(i,t)}}}function Rr(t){let e,n,r,o=((t[3]??[]).length||t[1].length)&&function(t){let e,n,r,o,i,l,f=t[3]??[],h=[];for(let e=0;e<f.length;e+=1)h[e]=Sr($r(t,f,e));const m=t=>F(h[t],1,1,(()=>{h[t]=null}));let g=t[1],y=[];for(let e=0;e<g.length;e+=1)y[e]=Or(vr(t,g,e));const _=t=>F(y[t],1,1,(()=>{y[t]=null}));return{c(){e=d("dt"),e.textContent="Tools Required",n=p(),r=d("dd"),o=d("ul");for(let t=0;t<h.length;t+=1)h[t].c();i=p();for(let t=0;t<y.length;t+=1)y[t].c()},m(t,c){a(t,e,c),a(t,n,c),a(t,r,c),s(r,o);for(let t=0;t<h.length;t+=1)h[t].m(o,null);s(o,i);for(let t=0;t<y.length;t+=1)y[t].m(o,null);l=!0},p(t,e){if(8&e){let n;for(f=t[3]??[],n=0;n<f.length;n+=1){const r=$r(t,f,n);h[n]?(h[n].p(r,e),P(h[n],1)):(h[n]=Sr(r),h[n].c(),P(h[n],1),h[n].m(o,i))}for(j(),n=f.length;n<h.length;n+=1)m(n);q()}if(3&e){let n;for(g=t[1],n=0;n<g.length;n+=1){const r=vr(t,g,n);y[n]?(y[n].p(r,e),P(y[n],1)):(y[n]=Or(r),y[n].c(),P(y[n],1),y[n].m(o,null))}for(j(),n=g.length;n<y.length;n+=1)_(n);q()}},i(t){if(!l){for(let t=0;t<f.length;t+=1)P(h[t]);for(let t=0;t<g.length;t+=1)P(y[t]);l=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)F(h[t]);y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)F(y[t]);l=!1},d(t){t&&c(e),t&&c(n),t&&c(r),u(h,t),u(y,t)}}}(t),i=t[2].length&&function(t){let e,n,r,o,i,l=t[2],f=[];for(let e=0;e<l.length;e+=1)f[e]=Mr(yr(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));return{c(){e=d("dt"),e.textContent="Components",n=p(),r=d("dd"),o=d("ul");for(let t=0;t<f.length;t+=1)f[t].c()},m(t,l){a(t,e,l),a(t,n,l),a(t,r,l),s(r,o);for(let t=0;t<f.length;t+=1)f[t].m(o,null);i=!0},p(t,e){if(5&e){let n;for(l=t[2],n=0;n<l.length;n+=1){const r=yr(t,l,n);f[n]?(f[n].p(r,e),P(f[n],1)):(f[n]=Mr(r),f[n].c(),P(f[n],1),f[n].m(o,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),t&&c(n),t&&c(r),u(f,t)}}}(t);return{c(){o&&o.c(),e=p(),i&&i.c(),n=h()},m(t,l){o&&o.m(t,l),a(t,e,l),i&&i.m(t,l),a(t,n,l),r=!0},p(t,[e]){((t[3]??[]).length||t[1].length)&&o.p(t,e),t[2].length&&i.p(t,e)},i(t){r||(P(o),P(i),r=!0)},o(t){F(o),F(i),r=!1},d(t){o&&o.d(t),t&&c(e),i&&i.d(t),t&&c(n)}}}function Ar(t,e,n){let{requirement:r}=e;const o=S("data"),i="string"==typeof r.using?[[r.using,1]]:r.using;let l=(null!=i?i:[]).map((([t,e])=>[o.byId("requirement",t),e])).concat([[r,1]]).filter((t=>t[0])),s=l.flatMap((([t,e])=>{var n;return o.flattenRequirement(null!==(n=t.tools)&&void 0!==n?n:[],(t=>t.tools),{expandSubstitutes:!0}).map((t=>t.map((t=>({...t,count:t.count*e})))))})),a=l.flatMap((([t,e])=>{var n;return o.flattenRequirement(null!==(n=t.components)&&void 0!==n?n:[],(t=>t.components)).map((t=>t.map((t=>({...t,count:t.count*e})))))})),c=l.flatMap((([t,e])=>{var n;return(null!==(n=t.qualities)&&void 0!==n?n:[]).map((t=>Array.isArray(t)?t:[t]))}));return t.$$set=t=>{"requirement"in t&&n(4,r=t.requirement)},[o,s,a,c,r,t=>({...t,item:o.byId("item",t.id)})]}class Nr extends J{constructor(t){super(),z(this,t,Ar,Rr,i,{requirement:4})}}function Lr(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=void 0!==e[n][1]?e[n][1]:0,r}function Dr(t,e,n){const r=t.slice();return r[8]=e[n][0],r[5]=e[n][1],r}function Br(t,e,n){const r=t.slice();return r[8]=e[n][0],r[5]=e[n][1],r}function jr(t,e,n){const r=t.slice();return r[13]=e[n],r}function qr(t,e,n){const r=t.slice();return r[16]=e[n],r}function Pr(t,e,n){const r=t.slice();return r[8]=e[n][0],r[5]=e[n][1],r[20]=n,r}function Fr(e){let n;return{c(){n=f("none")},m(t,e){a(t,n,e)},p:t,i:t,o:t,d(t){t&&c(n)}}}function Hr(t){let e,n,r,o,i,l=(t[0].difficulty??0)+"";return e=new wt({props:{type:"skill",id:t[0].skill_used}}),{c(){G(e.$$.fragment),n=f(" ("),r=f(l),o=f(")")},m(t,l){W(e,t,l),a(t,n,l),a(t,r,l),a(t,o,l),i=!0},p(t,n){const o={};1&n&&(o.id=t[0].skill_used),e.$set(o),(!i||1&n)&&l!==(l=(t[0].difficulty??0)+"")&&y(r,l)},i(t){i||(P(e.$$.fragment,t),i=!0)},o(t){F(e.$$.fragment,t),i=!1},d(t){Y(e,t),t&&c(n),t&&c(r),t&&c(o)}}}function Ur(t){let e;return{c(){e=f("none")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Gr(t){let e;return{c(){e=f(", ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Wr(t){let e;return{c(){e=f(" and ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Yr(e){let n,r,o,i,l,s,u=e[5]+"";n=new wt({props:{type:"skill",id:e[8]}});let d=function(t,e){return t[20]===t[1].length-2?Wr:t[20]!==t[1].length-1?Gr:void 0}(e),p=d&&d(e);return{c(){G(n.$$.fragment),r=f(" ("),o=f(u),i=f(")"),p&&p.c(),l=h()},m(t,e){W(n,t,e),a(t,r,e),a(t,o,e),a(t,i,e),p&&p.m(t,e),a(t,l,e),s=!0},p:t,i(t){s||(P(n.$$.fragment,t),s=!0)},o(t){F(n.$$.fragment,t),s=!1},d(t){Y(n,t),t&&c(r),t&&c(o),t&&c(i),p&&p.d(t),t&&c(l)}}}function Vr(t){let e,n,r,o,i,l=t[0].proficiencies??[],f=[];for(let e=0;e<l.length;e+=1)f[e]=zr(qr(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));return{c(){e=d("dt"),e.textContent="Proficiencies",n=d("dd"),r=d("ul");for(let t=0;t<f.length;t+=1)f[t].c();o=p()},m(t,l){a(t,e,l),a(t,n,l),s(n,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null);s(n,o),i=!0},p(t,e){if(1&e){let n;for(l=t[0].proficiencies??[],n=0;n<l.length;n+=1){const o=qr(t,l,n);f[n]?(f[n].p(o,e),P(f[n],1)):(f[n]=zr(o),f[n].c(),P(f[n],1),f[n].m(r,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),t&&c(n),u(f,t)}}}function zr(t){let e,n,r;return n=new wt({props:{type:"proficiency",id:t[16].proficiency}}),{c(){e=d("li"),G(n.$$.fragment)},m(t,o){a(t,e,o),W(n,e,null),r=!0},p(t,e){const r={};1&e&&(r.id=t[16].proficiency),n.$set(r)},i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){t&&c(e),Y(n)}}}function Jr(e){let n;return{c(){n=d("em"),n.textContent="none"},m(t,e){a(t,n,e)},p:t,d(t){t&&c(n)}}}function Kr(t){let e,n,r,o,i,l=t[0].batch_time_factors[0]+"",s=t[0].batch_time_factors[1]+"",u=1===t[0].batch_time_factors[1]?"":"s";return{c(){e=f(l),n=f("% at >"),r=f(s),o=f(" unit"),i=f(u)},m(t,l){a(t,e,l),a(t,n,l),a(t,r,l),a(t,o,l),a(t,i,l)},p(t,n){1&n&&l!==(l=t[0].batch_time_factors[0]+"")&&y(e,l),1&n&&s!==(s=t[0].batch_time_factors[1]+"")&&y(r,s),1&n&&u!==(u=1===t[0].batch_time_factors[1]?"":"s")&&y(i,u)},d(t){t&&c(e),t&&c(n),t&&c(r),t&&c(o),t&&c(i)}}}function Xr(t){let e,n,r,o=t[0].charges+"";return{c(){e=d("dt"),e.textContent="Recipe Makes",n=d("dd"),r=f(o)},m(t,o){a(t,e,o),a(t,n,o),s(n,r)},p(t,e){1&e&&o!==(o=t[0].charges+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function Qr(t){let e,n,r,o,i,l=t[0].byproducts,f=[];for(let e=0;e<l.length;e+=1)f[e]=Zr(jr(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));return{c(){e=d("dt"),e.textContent="Byproducts",n=d("dd"),r=d("ul");for(let t=0;t<f.length;t+=1)f[t].c();o=p()},m(t,l){a(t,e,l),a(t,n,l),s(n,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null);s(n,o),i=!0},p(t,e){if(1&e){let n;for(l=t[0].byproducts,n=0;n<l.length;n+=1){const o=jr(t,l,n);f[n]?(f[n].p(o,e),P(f[n],1)):(f[n]=Zr(o),f[n].c(),P(f[n],1),f[n].m(r,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),t&&c(n),u(f,t)}}}function Zr(t){let e,n,r;return n=new wt({props:{type:"item",id:t[13][0],count:t[13][1]??1}}),{c(){e=d("li"),G(n.$$.fragment)},m(t,o){a(t,e,o),W(n,e,null),r=!0},p(t,e){const r={};1&e&&(r.id=t[13][0]),1&e&&(r.count=t[13][1]??1),n.$set(r)},i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){t&&c(e),Y(n)}}}function to(e){let n;return{c(){n=f("no")},m(t,e){a(t,n,e)},p:t,i:t,o:t,d(t){t&&c(n)}}}function eo(t){let e,n,r,o,i;const l=[ro,no],s=[];function u(t,e){return 1&e&&(n=!!Array.isArray(t[0].autolearn)),n?0:1}return r=u(t,-1),o=s[r]=l[r](t),{c(){e=d("ul"),o.c(),g(e,"class","comma-separated")},m(t,n){a(t,e,n),s[r].m(e,null),i=!0},p(t,n){let i=r;r=u(t,n),r===i?s[r].p(t,n):(j(),F(s[i],1,1,(()=>{s[i]=null})),q(),o=s[r],o?o.p(t,n):(o=s[r]=l[r](t),o.c()),P(o,1),o.m(e,null))},i(t){i||(P(o),i=!0)},o(t){F(o),i=!1},d(t){t&&c(e),s[r].d()}}}function no(t){let e,n,r,o=t[0].skill_used&&oo(t),i=t[1].length&&function(t){let e,n,r=t[1],o=[];for(let e=0;e<r.length;e+=1)o[e]=io(Dr(t,r,e));const i=t=>F(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=h()},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);a(t,e,r),n=!0},p(t,n){if(2&n){let l;for(r=t[1],l=0;l<r.length;l+=1){const i=Dr(t,r,l);o[l]?(o[l].p(i,n),P(o[l],1)):(o[l]=io(i),o[l].c(),P(o[l],1),o[l].m(e.parentNode,e))}for(j(),l=r.length;l<o.length;l+=1)i(l);q()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)P(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)F(o[t]);n=!1},d(t){u(o,t),t&&c(e)}}}(t);return{c(){o&&o.c(),e=p(),i&&i.c(),n=h()},m(t,l){o&&o.m(t,l),a(t,e,l),i&&i.m(t,l),a(t,n,l),r=!0},p(t,n){t[0].skill_used?o?(o.p(t,n),1&n&&P(o,1)):(o=oo(t),o.c(),P(o,1),o.m(e.parentNode,e)):o&&(j(),F(o,1,1,(()=>{o=null})),q()),t[1].length&&i.p(t,n)},i(t){r||(P(o),P(i),r=!0)},o(t){F(o),F(i),r=!1},d(t){o&&o.d(t),t&&c(e),i&&i.d(t),t&&c(n)}}}function ro(t){let e,n,r=t[0].autolearn,o=[];for(let e=0;e<r.length;e+=1)o[e]=lo(Br(t,r,e));const i=t=>F(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=h()},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);a(t,e,r),n=!0},p(t,n){if(1&n){let l;for(r=t[0].autolearn,l=0;l<r.length;l+=1){const i=Br(t,r,l);o[l]?(o[l].p(i,n),P(o[l],1)):(o[l]=lo(i),o[l].c(),P(o[l],1),o[l].m(e.parentNode,e))}for(j(),l=r.length;l<o.length;l+=1)i(l);q()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)P(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)F(o[t]);n=!1},d(t){u(o,t),t&&c(e)}}}function oo(t){let e,n,r,o,i,l,u=(t[0].difficulty??0)+"";return n=new wt({props:{type:"skill",id:t[0].skill_used}}),{c(){e=d("li"),G(n.$$.fragment),r=f(" ("),o=f(u),i=f(")")},m(t,c){a(t,e,c),W(n,e,null),s(e,r),s(e,o),s(e,i),l=!0},p(t,e){const r={};1&e&&(r.id=t[0].skill_used),n.$set(r),(!l||1&e)&&u!==(u=(t[0].difficulty??0)+"")&&y(o,u)},i(t){l||(P(n.$$.fragment,t),l=!0)},o(t){F(n.$$.fragment,t),l=!1},d(t){t&&c(e),Y(n)}}}function io(e){let n,r,o,i,l,u,p=e[5]+"";return r=new wt({props:{type:"skill",id:e[8]}}),{c(){n=d("li"),G(r.$$.fragment),o=f(" ("),i=f(p),l=f(")")},m(t,e){a(t,n,e),W(r,n,null),s(n,o),s(n,i),s(n,l),u=!0},p:t,i(t){u||(P(r.$$.fragment,t),u=!0)},o(t){F(r.$$.fragment,t),u=!1},d(t){t&&c(n),Y(r)}}}function lo(t){let e,n,r,o,i,l,u=t[5]+"";return n=new wt({props:{type:"skill",id:t[8]}}),{c(){e=d("li"),G(n.$$.fragment),r=f(" ("),o=f(u),i=f(")")},m(t,c){a(t,e,c),W(n,e,null),s(e,r),s(e,o),s(e,i),l=!0},p(t,e){const r={};1&e&&(r.id=t[8]),n.$set(r),(!l||1&e)&&u!==(u=t[5]+"")&&y(o,u)},i(t){l||(P(n.$$.fragment,t),l=!0)},o(t){F(n.$$.fragment,t),l=!1},d(t){t&&c(e),Y(n)}}}function so(e){let n,r,o,i,l,u,p,h=e[5]+"";return o=new wt({props:{id:e[4],type:"item"}}),{c(){n=d("li"),r=d("span"),G(o.$$.fragment),i=f(" ("),l=f(h),u=f(")"),v(r,"white-space","nowrap")},m(t,e){a(t,n,e),s(n,r),W(o,r,null),s(r,i),s(r,l),s(r,u),p=!0},p:t,i(t){p||(P(o.$$.fragment,t),p=!0)},o(t){F(o.$$.fragment,t),p=!1},d(t){t&&c(n),Y(o)}}}function ao(t){let e,n,r,o,i,l,m,_,v,b,$,x,w,S,E,C,T,k,O,I,M,R,A,N,L,D,B,H,U,V,z,J,K,X=(t[0].time??"0 m")+"",Q=(t[0].activity_level??"MODERATE_EXERCISE")+"",Z=JSON.stringify(t[0],null,2)+"";const tt=[Hr,Fr],et=[];function nt(t,e){return t[0].skill_used?0:1}m=nt(t),_=et[m]=tt[m](t);let rt=t[1].length&&function(t){let e,n,r,o,i=t[1],l=[];for(let e=0;e<i.length;e+=1)l[e]=Yr(Pr(t,i,e));const f=t=>F(l[t],1,1,(()=>{l[t]=null}));let h=null;return i.length||(h=Ur()),{c(){e=d("dt"),e.textContent="Other Skills",n=d("dd");for(let t=0;t<l.length;t+=1)l[t].c();h&&h.c(),r=p()},m(t,i){a(t,e,i),a(t,n,i);for(let t=0;t<l.length;t+=1)l[t].m(n,null);h&&h.m(n,null),s(n,r),o=!0},p(t,e){if(2&e){let o;for(i=t[1],o=0;o<i.length;o+=1){const s=Pr(t,i,o);l[o]?(l[o].p(s,e),P(l[o],1)):(l[o]=Yr(s),l[o].c(),P(l[o],1),l[o].m(n,r))}for(j(),o=i.length;o<l.length;o+=1)f(o);q(),i.length?h&&(h.d(1),h=null):h||(h=Ur(),h.c(),h.m(n,r))}},i(t){if(!o){for(let t=0;t<i.length;t+=1)P(l[t]);o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)F(l[t]);o=!1},d(t){t&&c(e),t&&c(n),u(l,t),h&&h.d()}}}(t),ot=t[0].proficiencies&&Vr(t);function it(t,e){return t[0].batch_time_factors?Kr:Jr}let lt=it(t),st=lt(t),at=t[0].charges&&Xr(t);M=new Nr({props:{requirement:t[0]}});let ct=t[0].byproducts?.length&&Qr(t);const ut=[eo,to],dt=[];function ft(t,e){return t[0].autolearn?0:1}N=ft(t),L=dt[N]=ut[N](t);let pt=t[2].length&&function(t){let e,n,r,o,i=t[2],l=[];for(let e=0;e<i.length;e+=1)l[e]=so(Lr(t,i,e));const f=t=>F(l[t],1,1,(()=>{l[t]=null}));return{c(){e=d("dt"),e.textContent="Written In",n=d("dd"),r=d("ul");for(let t=0;t<l.length;t+=1)l[t].c();g(r,"class","comma-separated")},m(t,i){a(t,e,i),a(t,n,i),s(n,r);for(let t=0;t<l.length;t+=1)l[t].m(r,null);o=!0},p(t,e){if(4&e){let n;for(i=t[2],n=0;n<i.length;n+=1){const o=Lr(t,i,n);l[n]?(l[n].p(o,e),P(l[n],1)):(l[n]=so(o),l[n].c(),P(l[n],1),l[n].m(r,null))}for(j(),n=i.length;n<l.length;n+=1)f(n);q()}},i(t){if(!o){for(let t=0;t<i.length;t+=1)P(l[t]);o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)F(l[t]);o=!1},d(t){t&&c(e),t&&c(n),u(l,t)}}}(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Craft",r=p(),o=d("dl"),i=d("dt"),i.textContent="Primary Skill",l=d("dd"),_.c(),v=p(),rt&&rt.c(),b=h(),ot&&ot.c(),$=d("dt"),$.textContent="Time to Complete",x=d("dd"),w=f(X),S=d("dt"),S.textContent="Activity Level",E=d("dd"),C=f(Q),T=d("dt"),T.textContent="Batch Time Savings",k=d("dd"),st.c(),O=p(),at&&at.c(),I=h(),G(M.$$.fragment),ct&&ct.c(),R=d("dt"),R.textContent="Autolearn",A=d("dd"),L.c(),D=p(),pt&&pt.c(),B=p(),H=d("details"),U=d("summary"),U.textContent="Recipe JSON",V=p(),z=d("pre"),J=f(Z),g(R,"title","Learned at these skill levels, otherwise only learnable from a book"),g(e,"class","recipe")},m(t,c){a(t,e,c),s(e,n),s(e,r),s(e,o),s(o,i),s(o,l),et[m].m(l,null),s(l,v),rt&&rt.m(o,null),s(o,b),ot&&ot.m(o,null),s(o,$),s(o,x),s(x,w),s(o,S),s(o,E),s(E,C),s(o,T),s(o,k),st.m(k,null),s(k,O),at&&at.m(o,null),s(o,I),W(M,o,null),ct&&ct.m(o,null),s(o,R),s(o,A),dt[N].m(A,null),s(A,D),pt&&pt.m(o,null),s(e,B),s(e,H),s(H,U),s(H,V),s(H,z),s(z,J),K=!0},p(t,[e]){let n=m;m=nt(t),m===n?et[m].p(t,e):(j(),F(et[n],1,1,(()=>{et[n]=null})),q(),_=et[m],_?_.p(t,e):(_=et[m]=tt[m](t),_.c()),P(_,1),_.m(l,v)),t[1].length&&rt.p(t,e),t[0].proficiencies?ot?(ot.p(t,e),1&e&&P(ot,1)):(ot=Vr(t),ot.c(),P(ot,1),ot.m(o,$)):ot&&(j(),F(ot,1,1,(()=>{ot=null})),q()),(!K||1&e)&&X!==(X=(t[0].time??"0 m")+"")&&y(w,X),(!K||1&e)&&Q!==(Q=(t[0].activity_level??"MODERATE_EXERCISE")+"")&&y(C,Q),lt===(lt=it(t))&&st?st.p(t,e):(st.d(1),st=lt(t),st&&(st.c(),st.m(k,O))),t[0].charges?at?at.p(t,e):(at=Xr(t),at.c(),at.m(o,I)):at&&(at.d(1),at=null);const r={};1&e&&(r.requirement=t[0]),M.$set(r),t[0].byproducts?.length?ct?(ct.p(t,e),1&e&&P(ct,1)):(ct=Qr(t),ct.c(),P(ct,1),ct.m(o,R)):ct&&(j(),F(ct,1,1,(()=>{ct=null})),q());let i=N;N=ft(t),N===i?dt[N].p(t,e):(j(),F(dt[i],1,1,(()=>{dt[i]=null})),q(),L=dt[N],L?L.p(t,e):(L=dt[N]=ut[N](t),L.c()),P(L,1),L.m(A,D)),t[2].length&&pt.p(t,e),(!K||1&e)&&Z!==(Z=JSON.stringify(t[0],null,2)+"")&&y(J,Z)},i(t){K||(P(_),P(rt),P(ot),P(M.$$.fragment,t),P(ct),P(L),P(pt),K=!0)},o(t){F(_),F(rt),F(ot),F(M.$$.fragment,t),F(ct),F(L),F(pt),K=!1},d(t){t&&c(e),et[m].d(),rt&&rt.d(),ot&&ot.d(),st.d(),at&&at.d(),Y(M),ct&&ct.d(),dt[N].d(),pt&&pt.d()}}}function co(t,e,n){var r;let{recipe:o}=e,i=void 0===(l=o.skills_required)||0===l.length?[]:Array.isArray(l[0])?l:[l];var l;const s=Array.isArray(o.book_learn)?[...o.book_learn]:[...Object.entries(null!==(r=o.book_learn)&&void 0!==r?r:{})].map((([t,e])=>[t,e.skill_level]));return s.sort(((t,e)=>{var n,r;return(null!==(n=t[1])&&void 0!==n?n:0)-(null!==(r=e[1])&&void 0!==r?r:0)})),t.$$set=t=>{"recipe"in t&&n(0,o=t.recipe)},[o,i,s]}class uo extends J{constructor(t){super(),z(this,t,co,ao,i,{recipe:0})}}function fo(t,e,n){const r=t.slice();return r[3]=e[n],r}function po(t){let e,n,r=[],o=new Map,i=t[0];const l=t=>t[3];for(let e=0;e<i.length;e+=1){let n=fo(t,i,e),s=l(n);o.set(s,r[e]=ho(s,n))}return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=h()},m(t,o){for(let e=0;e<r.length;e+=1)r[e].m(t,o);a(t,e,o),n=!0},p(t,n){1&n&&(i=t[0],j(),r=function(t,e,n,r,o,i,l,s,a,c,u,d){let f=t.length,p=i.length,h=f;const m={};for(;h--;)m[t[h].key]=h;const g=[],y=new Map,_=new Map;for(h=p;h--;){const t=d(o,i,h),s=n(t);let a=l.get(s);a?r&&a.p(t,e):(a=c(s,t),a.c()),y.set(s,g[h]=a),s in m&&_.set(s,Math.abs(h-m[s]))}const v=new Set,b=new Set;function $(t){P(t,1),t.m(s,u),l.set(t.key,t),u=t.first,p--}for(;f&&p;){const e=g[p-1],n=t[f-1],r=e.key,o=n.key;e===n?(u=e.first,f--,p--):y.has(o)?!l.has(r)||v.has(r)?$(e):b.has(o)?f--:_.get(r)>_.get(o)?(b.add(r),$(e)):(v.add(o),f--):(a(n,l),f--)}for(;f--;){const e=t[f];y.has(e.key)||a(e,l)}for(;p;)$(g[p-1]);return g}(r,n,l,1,t,i,o,e.parentNode,U,ho,e,fo),q())},i(t){if(!n){for(let t=0;t<i.length;t+=1)P(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)F(r[t]);n=!1},d(t){for(let e=0;e<r.length;e+=1)r[e].d(t);t&&c(e)}}}function ho(t,e){let n,r,o;return r=new uo({props:{recipe:e[3]}}),{key:t,first:null,c(){n=h(),G(r.$$.fragment),this.first=n},m(t,e){a(t,n,e),W(r,t,e),o=!0},p(t,n){e=t},i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),Y(r,t)}}}function mo(t){let e,n,r=t[0].length&&po(t);return{c(){r&&r.c(),e=h()},m(t,o){r&&r.m(t,o),a(t,e,o),n=!0},p(t,[e]){t[0].length&&r.p(t,e)},i(t){n||(P(r),n=!0)},o(t){F(r),n=!1},d(t){r&&r.d(t),t&&c(e)}}}function go(t,e,n){let{item_id:r}=e,o=S("data").byType("recipe").filter((t=>"recipe"===t.type&&t.result===r&&!t.obsolete));return t.$$set=t=>{"item_id"in t&&n(1,r=t.item_id)},[o,r]}class yo extends J{constructor(t){super(),z(this,t,go,mo,i,{item_id:1})}}function _o(t,e,n){const r=t.slice();return r[7]=e[n],r}function vo(t){let e,n,r,o,i,l,u,h,m=t[7].sym+"",_=et(t[7])+"";return{c(){e=d("li"),n=d("span"),r=f(m),i=p(),l=d("span"),u=f(_),v(n,"font-family","monospace"),g(n,"class",o="c_"+t[7].color),g(l,"title",h=t[7].id)},m(t,o){a(t,e,o),s(e,n),s(n,r),s(e,i),s(e,l),s(l,u)},p(t,e){1&e&&m!==(m=t[7].sym+"")&&y(r,m),1&e&&o!==(o="c_"+t[7].color)&&g(n,"class",o),1&e&&_!==(_=et(t[7])+"")&&y(u,_),1&e&&h!==(h=t[7].id)&&g(l,"title",h)},d(t){t&&c(e)}}}function bo(e){let n,r,o;return{c(){n=d("button"),n.textContent="See all...",g(n,"class","disclosure")},m(t,i){a(t,n,i),r||(o=m(n,"click",e[3]),r=!0)},p:t,d(t){t&&c(n),r=!1,o()}}}function $o(e){let n,r=e[1].length&&function(t){let e,n,r,o,i,l=t[1].slice(0,t[0]),f=[];for(let e=0;e<l.length;e+=1)f[e]=vo(_o(t,l,e));let h=t[1].length>t[0]&&bo(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Loot",r=p(),o=d("ul");for(let t=0;t<f.length;t+=1)f[t].c();i=p(),h&&h.c()},m(t,l){a(t,e,l),s(e,n),s(e,r),s(e,o);for(let t=0;t<f.length;t+=1)f[t].m(o,null);s(e,i),h&&h.m(e,null)},p(t,n){if(3&n){let e;for(l=t[1].slice(0,t[0]),e=0;e<l.length;e+=1){const r=_o(t,l,e);f[e]?f[e].p(r,n):(f[e]=vo(r),f[e].c(),f[e].m(o,null))}for(;e<f.length;e+=1)f[e].d(1);f.length=l.length}t[1].length>t[0]?h?h.p(t,n):(h=bo(t),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},d(t){t&&c(e),u(f,t),h&&h.d()}}}(e);return{c(){r&&r.c(),n=h()},m(t,e){r&&r.m(t,e),a(t,n,e)},p(t,[e]){t[1].length&&r.p(t,e)},i:t,o:t,d(t){r&&r.d(t),t&&c(n)}}}function xo(t,e,n){let{item_id:r}=e,o=S("data");const i=o.byType("mapgen").filter((t=>o.mapgenSpawnItems(t).includes(r))),l=new Set;for(const t of i){if(!t.om_terrain)continue;let e;e="string"==typeof t.om_terrain?[t.om_terrain]:"string"==typeof t.om_terrain[0]?t.om_terrain:t.om_terrain.flatMap((t=>t)),e.forEach((t=>{const e=o.byId("overmap_terrain",t);var n;e&&e.id&&!(n=e.id,"string"==typeof n?[n]:n).some((t=>/necropolis|ranch_camp|robofachq|mapgen-test/.test(t)))&&l.add(e)}))}const s=[...l].sort(((t,e)=>et(t).localeCompare(et(e))));let a=10;return t.$$set=t=>{"item_id"in t&&n(2,r=t.item_id)},[a,s,r,t=>{t.preventDefault(),n(0,a=1/0)}]}class wo extends J{constructor(t){super(),z(this,t,xo,$o,i,{item_id:2})}}function So(e){let n,r,o,i,l,u,h,m,g,_,v,b,$=(e[0].diameter??0)+"",x=(e[0].width??0)+"";return{c(){n=d("section"),r=d("h1"),r.textContent="Wheel",o=p(),i=d("dl"),l=d("dt"),l.textContent="Diameter",u=d("dd"),h=f($),m=f('"'),g=d("dt"),g.textContent="Width",_=d("dd"),v=f(x),b=f('"')},m(t,e){a(t,n,e),s(n,r),s(n,o),s(n,i),s(i,l),s(i,u),s(u,h),s(u,m),s(i,g),s(i,_),s(_,v),s(_,b)},p(t,[e]){1&e&&$!==($=(t[0].diameter??0)+"")&&y(h,$),1&e&&x!==(x=(t[0].width??0)+"")&&y(v,x)},i:t,o:t,d(t){t&&c(n)}}}function Eo(t,e,n){let{item:r}=e;return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r]}class Co extends J{constructor(t){super(),z(this,t,Eo,So,i,{item:0})}}function To(t,e,n){const r=t.slice();return r[21]=e[n],r}function ko(t,e,n){const r=t.slice();return r[0]=e[n],r}function Oo(t,e,n){const r=t.slice();return r[26]=e[n],r}function Io(t,e,n){const r=t.slice();return r[29]=e[n][0],r[30]=e[n][1],r}function Mo(t,e,n){const r=t.slice();return r[29]=e[n],r}function Ro(t,e,n){const r=t.slice();return r[29]=e[n].id,r[30]=e[n].count,r}function Ao(t,e,n){const r=t.slice();return r[37]=e[n],r}function No(t,e,n){const r=t.slice();return r[40]=e[n].quality,r[41]=e[n].level,r}function Lo(t,e,n){const r=t.slice();return r[44]=e[n],r}function Do(t,e,n){const r=t.slice();return r[47]=e[n],r}function Bo(t,e,n){const r=t.slice();return r[50]=e[n],r}function jo(t,e,n){const r=t.slice();return r[53]=e[n].id,r[54]=e[n].max_charges,r}function qo(t,e,n){const r=t.slice();return r[57]=e[n],r}function Po(e){let n,r,o;return r=new wt({props:{type:"material",id:e[57].id}}),{c(){n=d("li"),G(r.$$.fragment)},m(t,e){a(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),Y(r)}}}function Fo(t){let e,n,r,o,i,l,u,h,m,g=t[54]+"",_="GUN"===t[0].type?"round":"charge",v=1===t[54]?"":"s";return u=new wt({props:{type:"ammunition_type",id:t[53]}}),{c(){e=d("li"),n=f(g),r=p(),o=f(_),i=f(v),l=f(" of\n        "),G(u.$$.fragment),h=p()},m(t,c){a(t,e,c),s(e,n),s(e,r),s(e,o),s(e,i),s(e,l),W(u,e,null),s(e,h),m=!0},p(t,e){(!m||1&e[0])&&_!==(_="GUN"===t[0].type?"round":"charge")&&y(o,_)},i(t){m||(P(u.$$.fragment,t),m=!0)},o(t){F(u.$$.fragment,t),m=!1},d(t){t&&c(e),Y(u)}}}function Ho(e){let n,r,o;return r=new wt({props:{type:"item",id:e[50]}}),{c(){n=d("li"),G(r.$$.fragment)},m(t,e){a(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),Y(r)}}}function Uo(t){let e;return{c(){e=d("li"),e.innerHTML="<em>none</em>"},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Go(e){let n,r,o;return r=new wt({props:{type:"json_flag",id:e[47].id}}),{c(){n=d("li"),G(r.$$.fragment)},m(t,e){a(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),Y(r)}}}function Wo(e){let n,r,o;return r=new wt({props:{type:"fault",id:e[44].id}}),{c(){n=d("li"),G(r.$$.fragment)},m(t,e){a(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),Y(r)}}}function Yo(e){let n,r,o,i,l,u,h,m,g=e[41]+"";return u=new wt({props:{type:"tool_quality",id:e[40].id}}),{c(){n=d("li"),r=f("Has level "),o=d("strong"),i=f(g),l=p(),G(u.$$.fragment),h=f(" quality.")},m(t,e){a(t,n,e),s(n,r),s(n,o),s(o,i),s(o,l),W(u,o,null),s(n,h),m=!0},p:t,i(t){m||(P(u.$$.fragment,t),m=!0)},o(t){F(u.$$.fragment,t),m=!1},d(t){t&&c(n),Y(u)}}}function Vo(e){let n,r,o;return r=new wt({props:{type:"vehicle_part",id:e[37].id}}),{c(){n=d("li"),G(r.$$.fragment)},m(t,e){a(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),Y(r)}}}function zo(e){let n,r,o;return r=new wt({props:{id:e[29],count:e[30],type:"item"}}),{c(){n=d("li"),G(r.$$.fragment)},m(t,e){a(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),Y(r)}}}function Jo(t){let e,n;return e=new dn({props:{item:t[0]}}),{c(){G(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.item=t[0]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function Ko(t){let e,n;return e=new nn({props:{item:t[0]}}),{c(){G(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.item=t[0]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function Xo(t){let e,n,r,o,i,l,u,h,m=t[0].displacement+"";return{c(){e=d("section"),n=d("h1"),n.textContent="Engine",r=p(),o=d("dl"),i=d("dt"),i.textContent="Displacement",l=d("dd"),u=f(m),h=f(" cc")},m(t,c){a(t,e,c),s(e,n),s(e,r),s(e,o),s(o,i),s(o,l),s(l,u),s(l,h)},p(t,e){1&e[0]&&m!==(m=t[0].displacement+"")&&y(u,m)},d(t){t&&c(e)}}}function Qo(t){let e,n;return e=new vn({props:{item:t[0]}}),{c(){G(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.item=t[0]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function Zo(t){let e,n;return e=new Co({props:{item:t[0]}}),{c(){G(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.item=t[0]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function ti(t){let e,n,r,o,i,l,h,m,_,v,b,$,x=t[0].seed_data.grow+"",w=[t[0].seed_data.fruit].concat(t[0].seed_data.byproducts??[]),S=[];for(let e=0;e<w.length;e+=1)S[e]=ei(Mo(t,w,e));const E=t=>F(S[t],1,1,(()=>{S[t]=null}));return{c(){e=d("section"),n=d("h1"),n.textContent="Grows Into",r=p(),o=d("dl"),i=d("dt"),i.textContent="Harvest Results",l=d("dd"),h=d("ul");for(let t=0;t<S.length;t+=1)S[t].c();m=p(),_=d("dt"),_.textContent="Growing Time",v=d("dd"),b=f(x),g(h,"class","comma-separated")},m(t,c){a(t,e,c),s(e,n),s(e,r),s(e,o),s(o,i),s(o,l),s(l,h);for(let t=0;t<S.length;t+=1)S[t].m(h,null);s(l,m),s(o,_),s(o,v),s(v,b),$=!0},p(t,e){if(1&e[0]){let n;for(w=[t[0].seed_data.fruit].concat(t[0].seed_data.byproducts??[]),n=0;n<w.length;n+=1){const r=Mo(t,w,n);S[n]?(S[n].p(r,e),P(S[n],1)):(S[n]=ei(r),S[n].c(),P(S[n],1),S[n].m(h,null))}for(j(),n=w.length;n<S.length;n+=1)E(n);q()}(!$||1&e[0])&&x!==(x=t[0].seed_data.grow+"")&&y(b,x)},i(t){if(!$){for(let t=0;t<w.length;t+=1)P(S[t]);$=!0}},o(t){S=S.filter(Boolean);for(let t=0;t<S.length;t+=1)F(S[t]);$=!1},d(t){t&&c(e),u(S,t)}}}function ei(t){let e,n,r;return n=new wt({props:{type:"item",id:t[29]}}),{c(){e=d("li"),G(n.$$.fragment)},m(t,o){a(t,e,o),W(n,e,null),r=!0},p(t,e){const r={};1&e[0]&&(r.id=t[29]),n.$set(r)},i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){t&&c(e),Y(n)}}}function ni(t){let e,n,r,o,i,l;n=new gr({props:{item:t[0]}});const u=[oi,ri],f=[];function h(t,e){return"GUN"===t[0].type?0:"AMMO"===t[0].type?1:-1}return~(o=h(t))&&(i=f[o]=u[o](t)),{c(){e=d("div"),G(n.$$.fragment),r=p(),i&&i.c(),g(e,"class","side-by-side")},m(t,i){a(t,e,i),W(n,e,null),s(e,r),~o&&f[o].m(e,null),l=!0},p(t,r){const l={};1&r[0]&&(l.item=t[0]),n.$set(l);let s=o;o=h(t),o===s?~o&&f[o].p(t,r):(i&&(j(),F(f[s],1,1,(()=>{f[s]=null})),q()),~o?(i=f[o],i?i.p(t,r):(i=f[o]=u[o](t),i.c()),P(i,1),i.m(e,null)):i=null)},i(t){l||(P(n.$$.fragment,t),P(i),l=!0)},o(t){F(n.$$.fragment,t),F(i),l=!1},d(t){t&&c(e),Y(n),~o&&f[o].d()}}}function ri(t){let e,n;return e=new be({props:{item:t[0]}}),{c(){G(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.item=t[0]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function oi(t){let e,n;return e=new ar({props:{item:t[0]}}),{c(){G(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.item=t[0]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function ii(e){let n,r,o,i,l,u,p,h=e[30]+"",m=1===e[30]?"":"s";return u=new wt({props:{id:e[29],type:"ammunition_type"}}),{c(){n=d("li"),r=f(h),o=f(" round"),i=f(m),l=f(" of "),G(u.$$.fragment)},m(t,e){a(t,n,e),s(n,r),s(n,o),s(n,i),s(n,l),W(u,n,null),p=!0},p:t,i(t){p||(P(u.$$.fragment,t),p=!0)},o(t){F(u.$$.fragment,t),p=!1},d(t){t&&c(n),Y(u)}}}function li(e){let n,r,o=e[26]+"";return{c(){n=d("li"),r=f(o)},m(t,e){a(t,n,e),s(n,r)},p:t,d(t){t&&c(n)}}}function si(e){let n,r,o;return r=new wt({props:{type:"item",id:e[0]}}),{c(){n=d("li"),G(r.$$.fragment)},m(t,e){a(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),Y(r)}}}function ai(e){let n,r,o,i,l,m,y,_,v,b,$=e[21].moves+"",x=null!=e[21].max_contains_volume&&function(e){let n,r,o,i=e[21].max_contains_volume+"";return{c(){n=d("dt"),n.textContent="Volume Capacity",r=d("dd"),o=f(i)},m(t,e){a(t,n,e),a(t,r,e),s(r,o)},p:t,d(t){t&&c(n),t&&c(r)}}}(e),w=null!=e[21].max_contains_weight&&function(e){let n,r,o,i=e[21].max_contains_weight+"";return{c(){n=d("dt"),n.textContent="Weight Capacity",r=d("dd"),o=f(i)},m(t,e){a(t,n,e),a(t,r,e),s(r,o)},p:t,d(t){t&&c(n),t&&c(r)}}}(e),S=e[21].ammo_restriction&&function(t){let e,n,r,o,i,l=[...Object.entries(t[21].ammo_restriction)],f=[];for(let e=0;e<l.length;e+=1)f[e]=ii(Io(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));return{c(){e=d("dt"),e.textContent="Ammo Restriction",n=d("dd"),r=d("ul");for(let t=0;t<f.length;t+=1)f[t].c();o=p()},m(t,l){a(t,e,l),a(t,n,l),s(n,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null);s(n,o),i=!0},p(t,e){if(64&e[0]){let n;for(l=[...Object.entries(t[21].ammo_restriction)],n=0;n<l.length;n+=1){const o=Io(t,l,n);f[n]?(f[n].p(o,e),P(f[n],1)):(f[n]=ii(o),f[n].c(),P(f[n],1),f[n].m(r,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),t&&c(n),u(f,t)}}}(e),E=e[21].max_item_length&&function(e){let n,r,o,i=e[21].max_item_length+"";return{c(){n=d("dt"),n.textContent="Max Item Length",r=d("dd"),o=f(i)},m(t,e){a(t,n,e),a(t,r,e),s(r,o)},p:t,d(t){t&&c(n),t&&c(r)}}}(e),C="0 ml"!==e[21].min_item_volume&&function(e){let n,r,o,i=e[21].min_item_volume+"";return{c(){n=d("dt"),n.textContent="Min Item Volume",r=d("dd"),o=f(i)},m(t,e){a(t,n,e),a(t,r,e),s(r,o)},p:t,d(t){t&&c(n),t&&c(r)}}}(e),T=e[21].flag_restriction&&function(t){let e,n,r,o,i=t[21].flag_restriction,l=[];for(let e=0;e<i.length;e+=1)l[e]=li(Oo(t,i,e));return{c(){e=d("dt"),e.textContent="Flag Restriction",n=d("dd"),r=d("ul");for(let t=0;t<l.length;t+=1)l[t].c();o=p(),g(r,"class","comma-separated")},m(t,i){a(t,e,i),a(t,n,i),s(n,r);for(let t=0;t<l.length;t+=1)l[t].m(r,null);s(n,o)},p(t,e){if(64&e[0]){let n;for(i=t[21].flag_restriction,n=0;n<i.length;n+=1){const o=Oo(t,i,n);l[n]?l[n].p(o,e):(l[n]=li(o),l[n].c(),l[n].m(r,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=i.length}},d(t){t&&c(e),t&&c(n),u(l,t)}}}(e),k=e[21].item_restriction&&function(t){let e,n,r,o,i,l=t[21].item_restriction,f=[];for(let e=0;e<l.length;e+=1)f[e]=si(ko(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));return{c(){e=d("dt"),e.textContent="Item Restriction",n=d("dd"),r=d("ul");for(let t=0;t<f.length;t+=1)f[t].c();o=p(),g(r,"class","comma-separated")},m(t,l){a(t,e,l),a(t,n,l),s(n,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null);s(n,o),i=!0},p(t,e){if(64&e[0]){let n;for(l=t[21].item_restriction,n=0;n<l.length;n+=1){const o=ko(t,l,n);f[n]?(f[n].p(o,e),P(f[n],1)):(f[n]=si(o),f[n].c(),P(f[n],1),f[n].m(r,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),t&&c(n),u(f,t)}}}(e);return{c(){n=d("dl"),x&&x.c(),r=h(),w&&w.c(),o=h(),S&&S.c(),i=h(),E&&E.c(),l=h(),C&&C.c(),m=d("dt"),m.textContent="Moves to Remove Item",y=d("dd"),_=f($),T&&T.c(),v=h(),k&&k.c()},m(t,e){a(t,n,e),x&&x.m(n,null),s(n,r),w&&w.m(n,null),s(n,o),S&&S.m(n,null),s(n,i),E&&E.m(n,null),s(n,l),C&&C.m(n,null),s(n,m),s(n,y),s(y,_),T&&T.m(n,null),s(n,v),k&&k.m(n,null),b=!0},p(t,e){null!=t[21].max_contains_volume&&x.p(t,e),null!=t[21].max_contains_weight&&w.p(t,e),t[21].ammo_restriction&&S.p(t,e),t[21].max_item_length&&E.p(t,e),"0 ml"!==t[21].min_item_volume&&C.p(t,e),t[21].flag_restriction&&T.p(t,e),t[21].item_restriction&&k.p(t,e)},i(t){b||(P(S),P(k),b=!0)},o(t){F(S),F(k),b=!1},d(t){t&&c(n),x&&x.d(),w&&w.d(),S&&S.d(),E&&E.d(),C&&C.d(),T&&T.d(),k&&k.d()}}}function ci(e){let n,r,o,i,l,m,_,b,$,x,w,S,E,C,T,k,O,I,M,R,A,N,L,D,B,H,U,V,z,J,K,X,Q,Z,nt,rt,ot,it,at,ct,ut,dt,ft,pt,ht,mt,gt,yt,_t,vt,bt,$t,xt,wt,St,Et,Tt,kt,Ot,It=et(e[0])+"",Mt=lt(e[0].volume)+"",Rt=st(e[0].weight)+"",At=e[1](e[0])+"",Nt=tt(e[0].description)+"",Lt=e[6].filter(ui).length;r=new Ct({props:{item:e[0]}});let Dt=e[3].length&&function(t){let e,n,r,o,i,l=t[3],f=[];for(let e=0;e<l.length;e+=1)f[e]=Po(qo(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));return{c(){e=d("dt"),e.textContent="Material",n=d("dd"),r=d("ul");for(let t=0;t<f.length;t+=1)f[t].c();o=p(),g(r,"class","comma-separated")},m(t,l){a(t,e,l),a(t,n,l),s(n,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null);s(n,o),i=!0},p(t,e){if(8&e[0]){let n;for(l=t[3],n=0;n<l.length;n+=1){const o=qo(t,l,n);f[n]?(f[n].p(o,e),P(f[n],1)):(f[n]=Po(o),f[n].c(),P(f[n],1),f[n].m(r,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),t&&c(n),u(f,t)}}}(e),Bt=e[9].length&&function(t){let e,n,r,o,i,l=t[9].map(t[13]),f=[];for(let e=0;e<l.length;e+=1)f[e]=Fo(jo(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));return{c(){e=d("dt"),e.textContent="Ammo",n=d("dd"),r=d("ul");for(let t=0;t<f.length;t+=1)f[t].c();o=p(),g(r,"class","no-bullets")},m(t,l){a(t,e,l),a(t,n,l),s(n,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null);s(n,o),i=!0},p(t,e){if(769&e[0]){let n;for(l=t[9].map(t[13]),n=0;n<l.length;n+=1){const o=jo(t,l,n);f[n]?(f[n].p(o,e),P(f[n],1)):(f[n]=Fo(o),f[n].c(),P(f[n],1),f[n].m(r,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),t&&c(n),u(f,t)}}}(e),jt=e[7].length&&function(t){let e,n,r,o,i,l=t[7],f=[];for(let e=0;e<l.length;e+=1)f[e]=Ho(Bo(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));return{c(){e=d("dt"),e.textContent="Compatible Magazines",n=d("dd"),r=d("ul");for(let t=0;t<f.length;t+=1)f[t].c();o=p(),g(r,"class","comma-separated")},m(t,l){a(t,e,l),a(t,n,l),s(n,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null);s(n,o),i=!0},p(t,e){if(128&e[0]){let n;for(l=t[7],n=0;n<l.length;n+=1){const o=Bo(t,l,n);f[n]?(f[n].p(o,e),P(f[n],1)):(f[n]=Ho(o),f[n].c(),P(f[n],1),f[n].m(r,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),t&&c(n),u(f,t)}}}(e),qt=e[4],Pt=[];for(let t=0;t<qt.length;t+=1)Pt[t]=Go(Do(e,qt,t));const Ft=t=>F(Pt[t],1,1,(()=>{Pt[t]=null}));let Ht=null;qt.length||(Ht=Uo());let Ut=e[5].length&&function(t){let e,n,r,o,i,l=t[5],f=[];for(let e=0;e<l.length;e+=1)f[e]=Wo(Lo(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));return{c(){e=d("dt"),e.textContent="Possible Faults",n=d("dd"),r=d("ul");for(let t=0;t<f.length;t+=1)f[t].c();o=p(),g(r,"class","comma-separated")},m(t,l){a(t,e,l),a(t,n,l),s(n,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null);s(n,o),i=!0},p(t,e){if(32&e[0]){let n;for(l=t[5],n=0;n<l.length;n+=1){const o=Lo(t,l,n);f[n]?(f[n].p(o,e),P(f[n],1)):(f[n]=Wo(o),f[n].c(),P(f[n],1),f[n].m(r,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),t&&c(n),u(f,t)}}}(e),Gt=e[2].length&&function(t){let e,n,r,o,i,l=t[2],f=[];for(let e=0;e<l.length;e+=1)f[e]=Yo(No(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));return{c(){e=d("dt"),e.textContent="Qualities",n=d("dd"),r=d("ul");for(let t=0;t<f.length;t+=1)f[t].c();o=p(),g(r,"class","no-bullets")},m(t,l){a(t,e,l),a(t,n,l),s(n,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null);s(n,o),i=!0},p(t,e){if(4&e[0]){let n;for(l=t[2],n=0;n<l.length;n+=1){const o=No(t,l,n);f[n]?(f[n].p(o,e),P(f[n],1)):(f[n]=Yo(o),f[n].c(),P(f[n],1),f[n].m(r,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),t&&c(n),u(f,t)}}}(e),Wt=e[11].length&&function(t){let e,n,r,o,i,l=t[11],f=[];for(let e=0;e<l.length;e+=1)f[e]=Vo(Ao(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));return{c(){e=d("dt"),e.textContent="Vehicle Parts",n=d("dd"),r=d("ul");for(let t=0;t<f.length;t+=1)f[t].c();o=p(),g(r,"class","comma-separated")},m(t,l){a(t,e,l),a(t,n,l),s(n,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null);s(n,o),i=!0},p(t,e){if(2048&e[0]){let n;for(l=t[11],n=0;n<l.length;n+=1){const o=Ao(t,l,n);f[n]?(f[n].p(o,e),P(f[n],1)):(f[n]=Vo(o),f[n].c(),P(f[n],1),f[n].m(r,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),t&&c(n),u(f,t)}}}(e),Yt=e[10]&&function(t){let e,n,r,o,i=t[10].components,l=[];for(let e=0;e<i.length;e+=1)l[e]=zo(Ro(t,i,e));const f=t=>F(l[t],1,1,(()=>{l[t]=null}));return{c(){e=d("dt"),e.textContent="Disassembles Into",n=d("dd"),r=d("ul");for(let t=0;t<l.length;t+=1)l[t].c();g(r,"class","comma-separated")},m(t,i){a(t,e,i),a(t,n,i),s(n,r);for(let t=0;t<l.length;t+=1)l[t].m(r,null);o=!0},p(t,e){if(1024&e[0]){let n;for(i=t[10].components,n=0;n<i.length;n+=1){const o=Ro(t,i,n);l[n]?(l[n].p(o,e),P(l[n],1)):(l[n]=zo(o),l[n].c(),P(l[n],1),l[n].m(r,null))}for(j(),n=i.length;n<l.length;n+=1)f(n);q()}},i(t){if(!o){for(let t=0;t<i.length;t+=1)P(l[t]);o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)F(l[t]);o=!1},d(t){t&&c(e),t&&c(n),u(l,t)}}}(e),Vt=e[12]&&function(e){let n,r;return n=new he({props:{picture:e[12]}}),{c(){G(n.$$.fragment)},m(t,e){W(n,t,e),r=!0},p:t,i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){Y(n,t)}}}(e),zt="BOOK"===e[0].type&&Jo(e),Jt=("ARMOR"===e[0].type||"TOOL_ARMOR"===e[0].type)&&Ko(e),Kt="ENGINE"===e[0].type&&e[0].displacement&&Xo(e),Xt="COMESTIBLE"===e[0].type&&Qo(e),Qt="WHEEL"===e[0].type&&Zo(e),Zt=e[0].seed_data&&ti(e),te=(e[0].bashing||e[0].cutting||"GUN"===e[0].type||"AMMO"===e[0].type)&&ni(e),ee=Lt&&function(t){let e,n,r,o,i=t[6].filter(di),l=[];for(let e=0;e<i.length;e+=1)l[e]=ai(To(t,i,e));const f=t=>F(l[t],1,1,(()=>{l[t]=null}));return{c(){e=d("section"),n=d("h1"),n.textContent="Pockets",r=p();for(let t=0;t<l.length;t+=1)l[t].c()},m(t,i){a(t,e,i),s(e,n),s(e,r);for(let t=0;t<l.length;t+=1)l[t].m(e,null);o=!0},p(t,n){if(64&n[0]){let r;for(i=t[6].filter(di),r=0;r<i.length;r+=1){const o=To(t,i,r);l[r]?(l[r].p(o,n),P(l[r],1)):(l[r]=ai(o),l[r].c(),P(l[r],1),l[r].m(e,null))}for(j(),r=i.length;r<l.length;r+=1)f(r);q()}},i(t){if(!o){for(let t=0;t<i.length;t+=1)P(l[t]);o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)F(l[t]);o=!1},d(t){t&&c(e),u(l,t)}}}(e);return ft=new En({props:{item_id:e[0].id}}),yt=new yo({props:{item_id:e[0].id}}),vt=new Kn({props:{item_id:e[0].id}}),$t=new nr({props:{item_id:e[0].id}}),wt=new Fn({props:{item_id:e[0].id}}),Et=new Ln({props:{item_id:e[0].id}}),kt=new wo({props:{item_id:e[0].id}}),{c(){n=d("h1"),G(r.$$.fragment),o=p(),i=f(It),l=p(),m=d("section"),_=d("h1"),_.textContent="General",b=p(),$=d("div"),x=d("div"),w=d("dl"),Dt&&Dt.c(),S=d("dt"),S.textContent="Volume",E=d("dd"),C=f(Mt),T=d("dt"),T.textContent="Weight",k=d("dd"),O=f(Rt),I=d("dt"),I.textContent="Length",M=d("dd"),R=f(At),Bt&&Bt.c(),A=h(),jt&&jt.c(),N=d("dt"),N.textContent="Flags",L=d("dd"),D=d("ul");for(let t=0;t<Pt.length;t+=1)Pt[t].c();Ht&&Ht.c(),B=p(),Ut&&Ut.c(),H=h(),Gt&&Gt.c(),U=h(),Wt&&Wt.c(),V=h(),Yt&&Yt.c(),z=p(),J=d("p"),K=f(Nt),X=p(),Q=d("div"),Vt&&Vt.c(),Z=p(),zt&&zt.c(),nt=p(),Jt&&Jt.c(),rt=p(),Kt&&Kt.c(),ot=p(),Xt&&Xt.c(),it=p(),Qt&&Qt.c(),at=p(),Zt&&Zt.c(),ct=p(),te&&te.c(),ut=p(),ee&&ee.c(),dt=p(),G(ft.$$.fragment),pt=p(),ht=d("div"),mt=d("h2"),mt.textContent="Obtaining",gt=p(),G(yt.$$.fragment),_t=p(),G(vt.$$.fragment),bt=p(),G($t.$$.fragment),xt=p(),G(wt.$$.fragment),St=p(),G(Et.$$.fragment),Tt=p(),G(kt.$$.fragment),g(D,"class","comma-separated"),v(J,"color","var(--cata-color-gray)"),v(J,"margin-bottom","0"),g($,"class","side-by-side no-margin"),g(mt,"class","svelte-18ijh8q"),g(ht,"class","hide-header-if-no-sections svelte-18ijh8q")},m(t,e){a(t,n,e),W(r,n,null),s(n,o),s(n,i),a(t,l,e),a(t,m,e),s(m,_),s(m,b),s(m,$),s($,x),s(x,w),Dt&&Dt.m(w,null),s(w,S),s(w,E),s(E,C),s(w,T),s(w,k),s(k,O),s(w,I),s(w,M),s(M,R),Bt&&Bt.m(w,null),s(w,A),jt&&jt.m(w,null),s(w,N),s(w,L),s(L,D);for(let t=0;t<Pt.length;t+=1)Pt[t].m(D,null);Ht&&Ht.m(D,null),s(L,B),Ut&&Ut.m(w,null),s(w,H),Gt&&Gt.m(w,null),s(w,U),Wt&&Wt.m(w,null),s(w,V),Yt&&Yt.m(w,null),s(x,z),s(x,J),s(J,K),s($,X),s($,Q),Vt&&Vt.m(Q,null),a(t,Z,e),zt&&zt.m(t,e),a(t,nt,e),Jt&&Jt.m(t,e),a(t,rt,e),Kt&&Kt.m(t,e),a(t,ot,e),Xt&&Xt.m(t,e),a(t,it,e),Qt&&Qt.m(t,e),a(t,at,e),Zt&&Zt.m(t,e),a(t,ct,e),te&&te.m(t,e),a(t,ut,e),ee&&ee.m(t,e),a(t,dt,e),W(ft,t,e),a(t,pt,e),a(t,ht,e),s(ht,mt),s(ht,gt),W(yt,ht,null),s(ht,_t),W(vt,ht,null),s(ht,bt),W($t,ht,null),s(ht,xt),W(wt,ht,null),s(ht,St),W(Et,ht,null),s(ht,Tt),W(kt,ht,null),Ot=!0},p(t,e){const n={};if(1&e[0]&&(n.item=t[0]),r.$set(n),(!Ot||1&e[0])&&It!==(It=et(t[0])+"")&&y(i,It),t[3].length&&Dt.p(t,e),(!Ot||1&e[0])&&Mt!==(Mt=lt(t[0].volume)+"")&&y(C,Mt),(!Ot||1&e[0])&&Rt!==(Rt=st(t[0].weight)+"")&&y(O,Rt),(!Ot||1&e[0])&&At!==(At=t[1](t[0])+"")&&y(R,At),t[9].length&&Bt.p(t,e),t[7].length&&jt.p(t,e),16&e[0]){let n;for(qt=t[4],n=0;n<qt.length;n+=1){const r=Do(t,qt,n);Pt[n]?(Pt[n].p(r,e),P(Pt[n],1)):(Pt[n]=Go(r),Pt[n].c(),P(Pt[n],1),Pt[n].m(D,null))}for(j(),n=qt.length;n<Pt.length;n+=1)Ft(n);q(),qt.length?Ht&&(Ht.d(1),Ht=null):Ht||(Ht=Uo(),Ht.c(),Ht.m(D,null))}t[5].length&&Ut.p(t,e),t[2].length&&Gt.p(t,e),t[11].length&&Wt.p(t,e),t[10]&&Yt.p(t,e),(!Ot||1&e[0])&&Nt!==(Nt=tt(t[0].description)+"")&&y(K,Nt),t[12]&&Vt.p(t,e),"BOOK"===t[0].type?zt?(zt.p(t,e),1&e[0]&&P(zt,1)):(zt=Jo(t),zt.c(),P(zt,1),zt.m(nt.parentNode,nt)):zt&&(j(),F(zt,1,1,(()=>{zt=null})),q()),"ARMOR"===t[0].type||"TOOL_ARMOR"===t[0].type?Jt?(Jt.p(t,e),1&e[0]&&P(Jt,1)):(Jt=Ko(t),Jt.c(),P(Jt,1),Jt.m(rt.parentNode,rt)):Jt&&(j(),F(Jt,1,1,(()=>{Jt=null})),q()),"ENGINE"===t[0].type&&t[0].displacement?Kt?Kt.p(t,e):(Kt=Xo(t),Kt.c(),Kt.m(ot.parentNode,ot)):Kt&&(Kt.d(1),Kt=null),"COMESTIBLE"===t[0].type?Xt?(Xt.p(t,e),1&e[0]&&P(Xt,1)):(Xt=Qo(t),Xt.c(),P(Xt,1),Xt.m(it.parentNode,it)):Xt&&(j(),F(Xt,1,1,(()=>{Xt=null})),q()),"WHEEL"===t[0].type?Qt?(Qt.p(t,e),1&e[0]&&P(Qt,1)):(Qt=Zo(t),Qt.c(),P(Qt,1),Qt.m(at.parentNode,at)):Qt&&(j(),F(Qt,1,1,(()=>{Qt=null})),q()),t[0].seed_data?Zt?(Zt.p(t,e),1&e[0]&&P(Zt,1)):(Zt=ti(t),Zt.c(),P(Zt,1),Zt.m(ct.parentNode,ct)):Zt&&(j(),F(Zt,1,1,(()=>{Zt=null})),q()),t[0].bashing||t[0].cutting||"GUN"===t[0].type||"AMMO"===t[0].type?te?(te.p(t,e),1&e[0]&&P(te,1)):(te=ni(t),te.c(),P(te,1),te.m(ut.parentNode,ut)):te&&(j(),F(te,1,1,(()=>{te=null})),q()),Lt&&ee.p(t,e);const o={};1&e[0]&&(o.item_id=t[0].id),ft.$set(o);const l={};1&e[0]&&(l.item_id=t[0].id),yt.$set(l);const s={};1&e[0]&&(s.item_id=t[0].id),vt.$set(s);const a={};1&e[0]&&(a.item_id=t[0].id),$t.$set(a);const c={};1&e[0]&&(c.item_id=t[0].id),wt.$set(c);const u={};1&e[0]&&(u.item_id=t[0].id),Et.$set(u);const d={};1&e[0]&&(d.item_id=t[0].id),kt.$set(d)},i(t){if(!Ot){P(r.$$.fragment,t),P(Dt),P(Bt),P(jt);for(let t=0;t<qt.length;t+=1)P(Pt[t]);P(Ut),P(Gt),P(Wt),P(Yt),P(Vt),P(zt),P(Jt),P(Xt),P(Qt),P(Zt),P(te),P(ee),P(ft.$$.fragment,t),P(yt.$$.fragment,t),P(vt.$$.fragment,t),P($t.$$.fragment,t),P(wt.$$.fragment,t),P(Et.$$.fragment,t),P(kt.$$.fragment,t),Ot=!0}},o(t){F(r.$$.fragment,t),F(Dt),F(Bt),F(jt),Pt=Pt.filter(Boolean);for(let t=0;t<Pt.length;t+=1)F(Pt[t]);F(Ut),F(Gt),F(Wt),F(Yt),F(Vt),F(zt),F(Jt),F(Xt),F(Qt),F(Zt),F(te),F(ee),F(ft.$$.fragment,t),F(yt.$$.fragment,t),F(vt.$$.fragment,t),F($t.$$.fragment,t),F(wt.$$.fragment,t),F(Et.$$.fragment,t),F(kt.$$.fragment,t),Ot=!1},d(t){t&&c(n),Y(r),t&&c(l),t&&c(m),Dt&&Dt.d(),Bt&&Bt.d(),jt&&jt.d(),u(Pt,t),Ht&&Ht.d(),Ut&&Ut.d(),Gt&&Gt.d(),Wt&&Wt.d(),Yt&&Yt.d(),Vt&&Vt.d(),t&&c(Z),zt&&zt.d(t),t&&c(nt),Jt&&Jt.d(t),t&&c(rt),Kt&&Kt.d(t),t&&c(ot),Xt&&Xt.d(t),t&&c(it),Qt&&Qt.d(t),t&&c(at),Zt&&Zt.d(t),t&&c(ct),te&&te.d(t),t&&c(ut),ee&&ee.d(t),t&&c(dt),Y(ft,t),t&&c(pt),t&&c(ht),Y(yt),Y(vt),Y($t),Y(wt),Y(Et),Y(kt)}}}const ui=t=>"CONTAINER"===t.pocket_type,di=t=>"CONTAINER"===t.pocket_type;function fi(t,e,n){var r,o,i,l,s;let{item:a}=e,c=S("data");let u=(null!==(r=a.qualities)&&void 0!==r?r:[]).map((([t,e])=>({quality:c.byId("tool_quality",t),level:e}))),d=("string"==typeof a.material?[a.material]:null!==(o=a.material)&&void 0!==o?o:[]).map((t=>c.byId("material",t))),f=(null!==(i=a.flags)&&void 0!==i?i:[]).map((t=>{var e;return null!==(e=c.byId("json_flag",t))&&void 0!==e?e:{id:t}})),p=(null!==(l=a.faults)&&void 0!==l?l:[]).map((t=>c.byId("fault",t)));const h={pocket_type:"CONTAINER",min_item_volume:"0 ml",moves:100,fire_protection:!1,watertight:!1,airtight:!1,open_container:!1,rigid:!1,holster:!1};let m=(null!==(s=a.pocket_data)&&void 0!==s?s:[]).map((t=>({...h,...t}))),g=m.filter((t=>"MAGAZINE_WELL"===t.pocket_type)).flatMap((t=>t.item_restriction));function y(t){var e;let n=0;for(const r of m)"MAGAZINE"===r.pocket_type&&r.ammo_restriction&&(n+=null!==(e=r.ammo_restriction[t])&&void 0!==e?e:0);return n}let _=m.flatMap((t=>{var e;return"MAGAZINE"===t.pocket_type?Object.keys(null!==(e=t.ammo_restriction)&&void 0!==e?e:{}):[]}));const v=(()=>{const t=c.uncraftRecipe(a.id);if(!t)return;return{components:(t.using?Array.isArray(t.using)?t.using:[[t.using,1]]:[]).map((([t,e])=>[c.byId("requirement",t),e])).concat([[t,1]]).flatMap((([t,e])=>{var n;return c.flattenRequirement(null!==(n=t.components)&&void 0!==n?n:[],(t=>t.components)).map((t=>t.map((t=>({...t,count:t.count*e})))))})).map((t=>t[0]))}})(),b=c.byType("vehicle_part").filter((t=>t.id&&t.item===a.id)),$=a.ascii_picture&&c.byId("ascii_art",a.ascii_picture);return t.$$set=t=>{"item"in t&&n(0,a=t.item)},[a,function(t){return t.longest_side?t.longest_side:`${Math.round(Math.cbrt(ot(t.volume)))} cm`},u,d,f,p,m,g,y,_,v,b,$,t=>({id:t,max_charges:y(t)})]}class pi extends J{constructor(t){super(),z(this,t,fi,ci,i,{item:0},[-1,-1])}}function hi(e){let n,r,o=JSON.stringify(e[0],null,2)+"";return{c(){n=d("pre"),r=f(o)},m(t,e){a(t,n,e),s(n,r)},p(t,[e]){1&e&&o!==(o=JSON.stringify(t[0],null,2)+"")&&y(r,o)},i:t,o:t,d(t){t&&c(n)}}}function mi(t,e,n){let{item:r}=e;return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r]}class gi extends J{constructor(t){super(),z(this,t,mi,hi,i,{item:0})}}function yi(t){let e,n,r,o;return r=new wt({props:{type:"item",id:t[0].repaired_with}}),{c(){e=d("dt"),e.textContent="Repaired With",n=d("dd"),G(r.$$.fragment)},m(t,i){a(t,e,i),a(t,n,i),W(r,n,null),o=!0},p(t,e){const n={};1&e&&(n.id=t[0].repaired_with),r.$set(n)},i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(e),t&&c(n),Y(r)}}}function _i(t){let e,n,r,o;return r=new wt({props:{type:"item",id:t[0].salvaged_into}}),{c(){e=d("dt"),e.textContent="Salvaged Into",n=d("dd"),G(r.$$.fragment)},m(t,i){a(t,e,i),a(t,n,i),W(r,n,null),o=!0},p(t,e){const n={};1&e&&(n.id=t[0].salvaged_into),r.$set(n)},i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(e),t&&c(n),Y(r)}}}function vi(t){let e,n,r,o,i,l,u,m,_,v,b,$,x,w,S,E,C,T,k,O,I,M,R,A,N,L,D,B,H,U,G,W,Y,V,z,J,K,X,Q,Z,tt,et,nt,rt,ot,it,lt,st,at,ct,ut=t[0].name+"",dt=t[0].density+"",ft=(t[0].specific_heat_liquid??4.186)+"",pt=(t[0].specific_heat_solid??2.108)+"",ht=(t[0].latent_heat??333)+"",mt=(t[0].bash_resist??0)+"",gt=(t[0].cut_resist??0)+"",yt=(t[0].bullet_resist??0)+"",_t=(t[0].acid_resist??0)+"",vt=(t[0].elec_resist??0)+"",bt=(t[0].chip_resist??0)+"",$t=t[0].edible?"yes":"no",xt=t[0].rotting?"yes":"no",wt=t[0].repaired_with&&yi(t),St=t[0].salvaged_into&&_i(t);return{c(){e=d("h1"),n=f("Material: "),r=f(ut),o=p(),i=d("section"),l=d("h1"),l.textContent="Properties",u=p(),m=d("dl"),_=d("dt"),_.textContent="Density",v=d("dd"),b=f(dt),$=d("dt"),$.textContent="Specific Heat",x=d("dd"),w=f(ft),S=f(" (liquid) / "),E=f(pt),C=f(" (solid)"),T=d("dt"),T.textContent="Latent Heat",k=d("dd"),O=f(ht),I=d("dt"),I.textContent="Resistance",M=d("dd"),R=d("dl"),A=d("dt"),A.textContent="Bash",N=d("dd"),L=f(mt),D=d("dt"),D.textContent="Cut",B=d("dd"),H=f(gt),U=d("dt"),U.textContent="Ballistic",G=d("dd"),W=f(yt),Y=d("dt"),Y.textContent="Acid",V=d("dd"),z=f(_t),J=d("dt"),J.textContent="Electricity",K=d("dd"),X=f(vt),Q=d("dt"),Q.textContent="Chip",Z=d("dd"),tt=f(bt),et=p(),wt&&wt.c(),nt=h(),St&&St.c(),rt=d("dt"),rt.textContent="Edible",ot=d("dd"),it=f($t),lt=d("dt"),lt.textContent="Rots",st=d("dd"),at=f(xt),g(_,"title","Relative to 'powder', which is 1"),g(Q,"title","Resistance to physical damage of the item itself"),g(lt,"title","Corpses made of this material will go bad")},m(t,c){a(t,e,c),s(e,n),s(e,r),a(t,o,c),a(t,i,c),s(i,l),s(i,u),s(i,m),s(m,_),s(m,v),s(v,b),s(m,$),s(m,x),s(x,w),s(x,S),s(x,E),s(x,C),s(m,T),s(m,k),s(k,O),s(m,I),s(m,M),s(M,R),s(R,A),s(R,N),s(N,L),s(R,D),s(R,B),s(B,H),s(R,U),s(R,G),s(G,W),s(R,Y),s(R,V),s(V,z),s(R,J),s(R,K),s(K,X),s(R,Q),s(R,Z),s(Z,tt),s(M,et),wt&&wt.m(m,null),s(m,nt),St&&St.m(m,null),s(m,rt),s(m,ot),s(ot,it),s(m,lt),s(m,st),s(st,at),ct=!0},p(t,[e]){(!ct||1&e)&&ut!==(ut=t[0].name+"")&&y(r,ut),(!ct||1&e)&&dt!==(dt=t[0].density+"")&&y(b,dt),(!ct||1&e)&&ft!==(ft=(t[0].specific_heat_liquid??4.186)+"")&&y(w,ft),(!ct||1&e)&&pt!==(pt=(t[0].specific_heat_solid??2.108)+"")&&y(E,pt),(!ct||1&e)&&ht!==(ht=(t[0].latent_heat??333)+"")&&y(O,ht),(!ct||1&e)&&mt!==(mt=(t[0].bash_resist??0)+"")&&y(L,mt),(!ct||1&e)&&gt!==(gt=(t[0].cut_resist??0)+"")&&y(H,gt),(!ct||1&e)&&yt!==(yt=(t[0].bullet_resist??0)+"")&&y(W,yt),(!ct||1&e)&&_t!==(_t=(t[0].acid_resist??0)+"")&&y(z,_t),(!ct||1&e)&&vt!==(vt=(t[0].elec_resist??0)+"")&&y(X,vt),(!ct||1&e)&&bt!==(bt=(t[0].chip_resist??0)+"")&&y(tt,bt),t[0].repaired_with?wt?(wt.p(t,e),1&e&&P(wt,1)):(wt=yi(t),wt.c(),P(wt,1),wt.m(m,nt)):wt&&(j(),F(wt,1,1,(()=>{wt=null})),q()),t[0].salvaged_into?St?(St.p(t,e),1&e&&P(St,1)):(St=_i(t),St.c(),P(St,1),St.m(m,rt)):St&&(j(),F(St,1,1,(()=>{St=null})),q()),(!ct||1&e)&&$t!==($t=t[0].edible?"yes":"no")&&y(it,$t),(!ct||1&e)&&xt!==(xt=t[0].rotting?"yes":"no")&&y(at,xt)},i(t){ct||(P(wt),P(St),ct=!0)},o(t){F(wt),F(St),ct=!1},d(t){t&&c(e),t&&c(o),t&&c(i),wt&&wt.d(),St&&St.d()}}}function bi(t,e,n){let{item:r}=e;return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r]}class $i extends J{constructor(t){super(),z(this,t,bi,vi,i,{item:0})}}function xi(t,e,n){const r=t.slice();return r[3]=e[n],r}function wi(t){let e;return{c(){e=f("(default)")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Si(t){let e,n,r,o,i;n=new wt({props:{type:"item",id:t[3].id}});let l=t[3].id===t[0].default&&wi();return{c(){e=d("li"),G(n.$$.fragment),r=p(),l&&l.c(),o=p()},m(t,c){a(t,e,c),W(n,e,null),s(e,r),l&&l.m(e,null),s(e,o),i=!0},p(t,n){t[3].id===t[0].default?l||(l=wi(),l.c(),l.m(e,o)):l&&(l.d(1),l=null)},i(t){i||(P(n.$$.fragment,t),i=!0)},o(t){F(n.$$.fragment,t),i=!1},d(t){t&&c(e),Y(n),l&&l.d()}}}function Ei(t){let e,n,r,o,i,l,h,m,g,_=et(t[0])+"",v=t[1],b=[];for(let e=0;e<v.length;e+=1)b[e]=Si(xi(t,v,e));const $=t=>F(b[t],1,1,(()=>{b[t]=null}));return{c(){e=d("h1"),n=f("Ammunition Type: "),r=f(_),o=p(),i=d("section"),l=d("h1"),l.textContent="Compatible Variants",h=p(),m=d("ul");for(let t=0;t<b.length;t+=1)b[t].c()},m(t,c){a(t,e,c),s(e,n),s(e,r),a(t,o,c),a(t,i,c),s(i,l),s(i,h),s(i,m);for(let t=0;t<b.length;t+=1)b[t].m(m,null);g=!0},p(t,[e]){if((!g||1&e)&&_!==(_=et(t[0])+"")&&y(r,_),3&e){let n;for(v=t[1],n=0;n<v.length;n+=1){const r=xi(t,v,n);b[n]?(b[n].p(r,e),P(b[n],1)):(b[n]=Si(r),b[n].c(),P(b[n],1),b[n].m(m,null))}for(j(),n=v.length;n<b.length;n+=1)$(n);q()}},i(t){if(!g){for(let t=0;t<v.length;t+=1)P(b[t]);g=!0}},o(t){b=b.filter(Boolean);for(let t=0;t<b.length;t+=1)F(b[t]);g=!1},d(t){t&&c(e),t&&c(o),t&&c(i),u(b,t)}}}function Ci(t,e,n){let{item:r}=e;const o=S("data").byType("item").flatMap((t=>"AMMO"===t.type&&t.id&&t.ammo_type===r.id?[t]:[]));return o.sort(((t,e)=>et(t).localeCompare(et(e)))),t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r,o]}class Ti extends J{constructor(t){super(),z(this,t,Ci,Ei,i,{item:0})}}function ki(t,e,n){const r=t.slice();return r[8]=e[n],r}function Oi(t,e,n){const r=t.slice();return r[11]=e[n].id,r}function Ii(t,e,n){const r=t.slice();return r[8]=e[n],r}function Mi(t,e,n){const r=t.slice();return r[11]=e[n].id,r}function Ri(t,e,n){const r=t.slice();return r[8]=e[n][0],r[18]=e[n][1],r}function Ai(t,e,n){const r=t.slice();return r[21]=e[n],r}function Ni(t){let e,n,r,o,i=t[0].usages,l=[];for(let e=0;e<i.length;e+=1)l[e]=Di(Ri(t,i,e));return{c(){e=d("section"),n=d("h1"),n.textContent="Usages",r=p(),o=d("dl");for(let t=0;t<l.length;t+=1)l[t].c()},m(t,i){a(t,e,i),s(e,n),s(e,r),s(e,o);for(let t=0;t<l.length;t+=1)l[t].m(o,null)},p(t,e){if(1&e){let n;for(i=t[0].usages,n=0;n<i.length;n+=1){const r=Ri(t,i,n);l[n]?l[n].p(r,e):(l[n]=Di(r),l[n].c(),l[n].m(o,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=i.length}},d(t){t&&c(e),u(l,t)}}}function Li(t){let e,n,r=t[21]+"";return{c(){e=d("li"),n=f(r)},m(t,r){a(t,e,r),s(e,n)},p(t,e){1&e&&r!==(r=t[21]+"")&&y(n,r)},d(t){t&&c(e)}}}function Di(t){let e,n,r,o,i,l,h=t[8]+"",m=t[18],_=[];for(let e=0;e<m.length;e+=1)_[e]=Li(Ai(t,m,e));return{c(){e=d("dt"),n=f("At Level "),r=f(h),o=d("dd"),i=d("ul");for(let t=0;t<_.length;t+=1)_[t].c();l=p(),g(i,"class","comma-separated")},m(t,c){a(t,e,c),s(e,n),s(e,r),a(t,o,c),s(o,i);for(let t=0;t<_.length;t+=1)_[t].m(i,null);s(o,l)},p(t,e){if(1&e&&h!==(h=t[8]+"")&&y(r,h),1&e){let n;for(m=t[18],n=0;n<m.length;n+=1){const r=Ai(t,m,n);_[n]?_[n].p(r,e):(_[n]=Li(r),_[n].c(),_[n].m(i,null))}for(;n<_.length;n+=1)_[n].d(1);_.length=m.length}},d(t){t&&c(e),t&&c(o),u(_,t)}}}function Bi(e){let n,r,o;return r=new wt({props:{type:"item",id:e[11]}}),{c(){n=d("li"),G(r.$$.fragment)},m(t,e){a(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),Y(r)}}}function ji(t){let e,n,r,o,i,l,h,m=t[8]+"",g=t[1].get(t[8]).sort(t[3]),y=[];for(let e=0;e<g.length;e+=1)y[e]=Bi(Mi(t,g,e));const _=t=>F(y[t],1,1,(()=>{y[t]=null}));return{c(){e=d("dt"),n=f("Level "),r=f(m),o=d("dd"),i=d("ul");for(let t=0;t<y.length;t+=1)y[t].c();l=p()},m(t,c){a(t,e,c),s(e,n),s(e,r),a(t,o,c),s(o,i);for(let t=0;t<y.length;t+=1)y[t].m(i,null);s(o,l),h=!0},p(t,e){if(2&e){let n;for(g=t[1].get(t[8]).sort(t[3]),n=0;n<g.length;n+=1){const r=Mi(t,g,n);y[n]?(y[n].p(r,e),P(y[n],1)):(y[n]=Bi(r),y[n].c(),P(y[n],1),y[n].m(i,null))}for(j(),n=g.length;n<y.length;n+=1)_(n);q()}},i(t){if(!h){for(let t=0;t<g.length;t+=1)P(y[t]);h=!0}},o(t){y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)F(y[t]);h=!1},d(t){t&&c(e),t&&c(o),u(y,t)}}}function qi(e){let n,r,o;return r=new wt({props:{type:"vehicle_part",id:e[11]}}),{c(){n=d("li"),G(r.$$.fragment)},m(t,e){a(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),Y(r)}}}function Pi(t){let e,n,r,o,i,l,h,m=t[8]+"",g=t[2].get(t[8]).sort(t[4]),y=[];for(let e=0;e<g.length;e+=1)y[e]=qi(Oi(t,g,e));const _=t=>F(y[t],1,1,(()=>{y[t]=null}));return{c(){e=d("dt"),n=f("Level "),r=f(m),o=d("dd"),i=d("ul");for(let t=0;t<y.length;t+=1)y[t].c();l=p()},m(t,c){a(t,e,c),s(e,n),s(e,r),a(t,o,c),s(o,i);for(let t=0;t<y.length;t+=1)y[t].m(i,null);s(o,l),h=!0},p(t,e){if(4&e){let n;for(g=t[2].get(t[8]).sort(t[4]),n=0;n<g.length;n+=1){const r=Oi(t,g,n);y[n]?(y[n].p(r,e),P(y[n],1)):(y[n]=qi(r),y[n].c(),P(y[n],1),y[n].m(i,null))}for(j(),n=g.length;n<y.length;n+=1)_(n);q()}},i(t){if(!h){for(let t=0;t<g.length;t+=1)P(y[t]);h=!0}},o(t){y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)F(y[t]);h=!1},d(t){t&&c(e),t&&c(o),u(y,t)}}}function Fi(t){let e,n,r,o,i,l,m,g,_,v,b,$,x=et(t[0])+"",w=t[0].usages&&Ni(t),S=[...t[1].keys()].sort(Hi),E=[];for(let e=0;e<S.length;e+=1)E[e]=ji(Ii(t,S,e));const C=t=>F(E[t],1,1,(()=>{E[t]=null}));let T=t[2].size>0&&function(t){let e,n,r,o,i,l=[...t[2].keys()].sort(Ui),f=[];for(let e=0;e<l.length;e+=1)f[e]=Pi(ki(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));return{c(){e=d("section"),n=d("h1"),n.textContent="Vehicle Parts",r=p(),o=d("dl");for(let t=0;t<f.length;t+=1)f[t].c()},m(t,l){a(t,e,l),s(e,n),s(e,r),s(e,o);for(let t=0;t<f.length;t+=1)f[t].m(o,null);i=!0},p(t,e){if(4&e){let n;for(l=[...t[2].keys()].sort(Ui),n=0;n<l.length;n+=1){const r=ki(t,l,n);f[n]?(f[n].p(r,e),P(f[n],1)):(f[n]=Pi(r),f[n].c(),P(f[n],1),f[n].m(o,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),u(f,t)}}}(t);return{c(){e=d("h1"),n=f("Quality: "),r=f(x),o=p(),w&&w.c(),i=p(),l=d("section"),m=d("h1"),m.textContent="Tools",g=p(),_=d("dl");for(let t=0;t<E.length;t+=1)E[t].c();v=p(),T&&T.c(),b=h()},m(t,c){a(t,e,c),s(e,n),s(e,r),a(t,o,c),w&&w.m(t,c),a(t,i,c),a(t,l,c),s(l,m),s(l,g),s(l,_);for(let t=0;t<E.length;t+=1)E[t].m(_,null);a(t,v,c),T&&T.m(t,c),a(t,b,c),$=!0},p(t,[e]){if((!$||1&e)&&x!==(x=et(t[0])+"")&&y(r,x),t[0].usages?w?w.p(t,e):(w=Ni(t),w.c(),w.m(i.parentNode,i)):w&&(w.d(1),w=null),2&e){let n;for(S=[...t[1].keys()].sort(Hi),n=0;n<S.length;n+=1){const r=Ii(t,S,n);E[n]?(E[n].p(r,e),P(E[n],1)):(E[n]=ji(r),E[n].c(),P(E[n],1),E[n].m(_,null))}for(j(),n=S.length;n<E.length;n+=1)C(n);q()}t[2].size>0&&T.p(t,e)},i(t){if(!$){for(let t=0;t<S.length;t+=1)P(E[t]);P(T),$=!0}},o(t){E=E.filter(Boolean);for(let t=0;t<E.length;t+=1)F(E[t]);F(T),$=!1},d(t){t&&c(e),t&&c(o),w&&w.d(t),t&&c(i),t&&c(l),u(E,t),t&&c(v),T&&T.d(t),t&&c(b)}}}const Hi=(t,e)=>t-e,Ui=(t,e)=>t-e;function Gi(t,e,n){var r,o;let{item:i}=e,l=S("data"),s=new Map;for(const t of l.byType("item")){if(!t.id)continue;const e=(null!==(r=t.qualities)&&void 0!==r?r:[]).find((([t,e])=>t===i.id));if(e){const[,n]=e;s.has(n)||s.set(n,[]),s.get(n).push(t)}}const a=new Map;for(const t of l.byType("vehicle_part")){if(!t.id)continue;const e=(null!==(o=t.qualities)&&void 0!==o?o:[]).find((([t,e])=>t===i.id));if(e){const[,n]=e;a.has(n)||a.set(n,[]),a.get(n).push(t)}}return t.$$set=t=>{"item"in t&&n(0,i=t.item)},[i,s,a,(t,e)=>et(t).localeCompare(et(e)),(t,e)=>et(t).localeCompare(et(e))]}class Wi extends J{constructor(t){super(),z(this,t,Gi,Fi,i,{item:0})}}function Yi(t,e,n){const r=t.slice();return r[9]=e[n],r}function Vi(t,e,n){const r=t.slice();return r[12]=e[n].id,r[13]=e[n].count,r[15]=n,r}function zi(t,e,n){const r=t.slice();return r[16]=e[n],r}function Ji(t,e,n){const r=t.slice();return r[19]=e[n],r[15]=n,r}function Ki(t,e,n){const r=t.slice();return r[21]=e[n],r}function Xi(t,e,n){const r=t.slice();return r[24]=e[n],r[15]=n,r}function Qi(t,e,n){const r=t.slice();return r[12]=e[n][0],r[26]=e[n][1],r[15]=n,r}function Zi(t){let e,n,r,o;const i=[el,tl],l=[];function s(t,e){return t[0].skill?0:1}return e=s(t),n=l[e]=i[e](t),{c(){n.c(),r=h()},m(t,n){l[e].m(t,n),a(t,r,n),o=!0},p(t,o){let a=e;e=s(t),e===a?l[e].p(t,o):(j(),F(l[a],1,1,(()=>{l[a]=null})),q(),n=l[e],n?n.p(t,o):(n=l[e]=i[e](t),n.c()),P(n,1),n.m(r.parentNode,r))},i(t){o||(P(n),o=!0)},o(t){F(n),o=!1},d(t){l[e].d(t),t&&c(r)}}}function tl(e){let n;return{c(){n=d("em"),n.textContent="none"},m(t,e){a(t,n,e)},p:t,i:t,o:t,d(t){t&&c(n)}}}function el(t){let e,n,r,o,i,l=(t[0].difficulty??0)+"";return e=new wt({props:{type:"skill",id:t[0].skill}}),{c(){G(e.$$.fragment),n=f(" ("),r=f(l),o=f(")")},m(t,l){W(e,t,l),a(t,n,l),a(t,r,l),a(t,o,l),i=!0},p(t,n){const o={};1&n&&(o.id=t[0].skill),e.$set(o),(!i||1&n)&&l!==(l=(t[0].difficulty??0)+"")&&y(r,l)},i(t){i||(P(e.$$.fragment,t),i=!0)},o(t){F(e.$$.fragment,t),i=!1},d(t){Y(e,t),t&&c(n),t&&c(r),t&&c(o)}}}function nl(t){let e;return{c(){e=f(", ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function rl(t){let e;return{c(){e=f(" and ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function ol(t){let e,n,r,o,i,l,s=t[26]+"";function u(t,e){return t[15]===t[0].required_skills.length-2?rl:t[15]!==t[0].required_skills.length-1?nl:void 0}e=new wt({props:{type:"skill",id:t[12]}});let d=u(t),p=d&&d(t);return{c(){G(e.$$.fragment),n=f(" ("),r=f(s),o=f(")"),p&&p.c(),i=h()},m(t,s){W(e,t,s),a(t,n,s),a(t,r,s),a(t,o,s),p&&p.m(t,s),a(t,i,s),l=!0},p(t,n){const o={};1&n&&(o.id=t[12]),e.$set(o),(!l||1&n)&&s!==(s=t[26]+"")&&y(r,s),d!==(d=u(t))&&(p&&p.d(1),p=d&&d(t),p&&(p.c(),p.m(i.parentNode,i)))},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){Y(e,t),t&&c(n),t&&c(r),t&&c(o),p&&p.d(t),t&&c(i)}}}function il(t){let e,n,r,o;return r=new wt({props:{type:"furniture",id:t[0].pre_terrain}}),{c(){e=d("dt"),e.textContent="Requires",n=d("dd"),G(r.$$.fragment)},m(t,i){a(t,e,i),a(t,n,i),W(r,n,null),o=!0},p(t,e){const n={};1&e&&(n.id=t[0].pre_terrain),r.$set(n)},i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(e),t&&c(n),Y(r)}}}function ll(e){let n,r,o,i,l,s,u,d,h,m,g,y=(e[24].amount??1)+"",_=1===(e[24].amount??1)?"":"s",v=e[24].level+"",b=0!==e[15]&&function(t){let e;return{c(){e=f(" OR ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}();return s=new wt({props:{type:"tool_quality",id:e[24].id}}),{c(){b&&b.c(),n=p(),r=f(y),o=f(" tool"),i=f(_),l=f("\n          with "),G(s.$$.fragment),u=f(" of "),d=f(v),h=f(" or more"),m=f("")},m(t,e){b&&b.m(t,e),a(t,n,e),a(t,r,e),a(t,o,e),a(t,i,e),a(t,l,e),W(s,t,e),a(t,u,e),a(t,d,e),a(t,h,e),a(t,m,e),g=!0},p:t,i(t){g||(P(s.$$.fragment,t),g=!0)},o(t){F(s.$$.fragment,t),g=!1},d(t){b&&b.d(t),t&&c(n),t&&c(r),t&&c(o),t&&c(i),t&&c(l),Y(s,t),t&&c(u),t&&c(d),t&&c(h),t&&c(m)}}}function sl(t){let e,n,r,o=t[21],i=[];for(let e=0;e<o.length;e+=1)i[e]=ll(Xi(t,o,e));const l=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=d("li");for(let t=0;t<i.length;t+=1)i[t].c();n=f(".")},m(t,o){a(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);s(e,n),r=!0},p(t,r){if(16&r){let s;for(o=t[21],s=0;s<o.length;s+=1){const l=Xi(t,o,s);i[s]?(i[s].p(l,r),P(i[s],1)):(i[s]=ll(l),i[s].c(),P(i[s],1),i[s].m(e,n))}for(j(),s=o.length;s<i.length;s+=1)l(s);q()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)P(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);r=!1},d(t){t&&c(e),u(i,t)}}}function al(e){let n,r;return n=new wt({props:{type:"item",id:e[19].id}}),{c(){G(n.$$.fragment)},m(t,e){W(n,t,e),r=!0},p:t,i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){Y(n,t)}}}function cl(e){let n,r,o=et(e[1].byId("item",e[19].id))+"";return{c(){n=d("a"),r=f(o),g(n,"href","#/furniture/"+e[1].craftingPseudoItem(e[19].id))},m(t,e){a(t,n,e),s(n,r)},p:t,i:t,o:t,d(t){t&&c(n)}}}function ul(e){let n,r,o,i,l=e[19].count+"",s=1!==e[19].count&&function(t){let e;return{c(){e=f("s")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}();return{c(){n=f("("),r=f(l),o=f(" charge"),s&&s.c(),i=f(")")},m(t,e){a(t,n,e),a(t,r,e),a(t,o,e),s&&s.m(t,e),a(t,i,e)},p:t,d(t){t&&c(n),t&&c(r),t&&c(o),s&&s.d(t),t&&c(i)}}}function dl(t){let e,n,r,o,i,l,s=0!==t[15]&&function(t){let e;return{c(){e=f(" OR ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}();const u=[cl,al],d=[];n=function(t,e){return t[1].craftingPseudoItem(t[19].id)?0:1}(t),r=d[n]=u[n](t);let m=t[19].count>0&&ul(t);return{c(){s&&s.c(),e=p(),r.c(),o=p(),m&&m.c(),i=h()},m(t,r){s&&s.m(t,r),a(t,e,r),d[n].m(t,r),a(t,o,r),m&&m.m(t,r),a(t,i,r),l=!0},p(t,e){r.p(t,e),t[19].count>0&&m.p(t,e)},i(t){l||(P(r),l=!0)},o(t){F(r),l=!1},d(t){s&&s.d(t),t&&c(e),d[n].d(t),t&&c(o),m&&m.d(t),t&&c(i)}}}function fl(t){let e,n,r,o=t[16],i=[];for(let e=0;e<o.length;e+=1)i[e]=dl(Ji(t,o,e));const l=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=d("li");for(let t=0;t<i.length;t+=1)i[t].c();n=p()},m(t,o){a(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);s(e,n),r=!0},p(t,r){if(6&r){let s;for(o=t[16],s=0;s<o.length;s+=1){const l=Ji(t,o,s);i[s]?(i[s].p(l,r),P(i[s],1)):(i[s]=dl(l),i[s].c(),P(i[s],1),i[s].m(e,n))}for(j(),s=o.length;s<i.length;s+=1)l(s);q()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)P(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);r=!1},d(t){t&&c(e),u(i,t)}}}function pl(e){let n,r,o,i=0!==e[15]&&function(t){let e;return{c(){e=f(" OR ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}();return r=new wt({props:{id:e[12],count:e[13],type:"item"}}),{c(){i&&i.c(),n=p(),G(r.$$.fragment)},m(t,e){i&&i.m(t,e),a(t,n,e),W(r,t,e),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){i&&i.d(t),t&&c(n),Y(r,t)}}}function hl(t){let e,n,r,o=t[9].map(t[5]),i=[];for(let e=0;e<o.length;e+=1)i[e]=pl(Vi(t,o,e));const l=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=d("li");for(let t=0;t<i.length;t+=1)i[t].c();n=p()},m(t,o){a(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);s(e,n),r=!0},p(t,r){if(10&r){let s;for(o=t[9].map(t[5]),s=0;s<o.length;s+=1){const l=Vi(t,o,s);i[s]?(i[s].p(l,r),P(i[s],1)):(i[s]=pl(l),i[s].c(),P(i[s],1),i[s].m(e,n))}for(j(),s=o.length;s<i.length;s+=1)l(s);q()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)P(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);r=!1},d(t){t&&c(e),u(i,t)}}}function ml(t){let e,n,r=t[0].pre_note+"";return{c(){e=d("p"),n=f(r),v(e,"color","var(--cata-color-gray)")},m(t,r){a(t,e,r),s(e,n)},p(t,e){1&e&&r!==(r=t[0].pre_note+"")&&y(n,r)},d(t){t&&c(e)}}}function gl(t){let e,n,r,o,i,l,m,g,_,v,b,$,x,w,S,E,C,T,k,O,I,M=et(t[1].byId("construction_group",t[0].group))+"",R=("number"==typeof t[0].time?`${t[0].time} m`:t[0].time??"0 m")+"",A=t[0].pre_terrain?.startsWith("f_"),N=JSON.stringify(t[0],null,2)+"",L=t[0].required_skills??[],D=[];for(let e=0;e<L.length;e+=1)D[e]=ol(Qi(t,L,e));const B=t=>F(D[t],1,1,(()=>{D[t]=null}));let H=null;L.length||(H=Zi(t));let U=A&&il(t),G=(t[4].length||t[2].length)&&function(t){let e,n,r,o,i,l,f=t[4]??[],h=[];for(let e=0;e<f.length;e+=1)h[e]=sl(Ki(t,f,e));const m=t=>F(h[t],1,1,(()=>{h[t]=null}));let g=t[2],y=[];for(let e=0;e<g.length;e+=1)y[e]=fl(zi(t,g,e));const _=t=>F(y[t],1,1,(()=>{y[t]=null}));return{c(){e=d("dt"),e.textContent="Tools Required",n=d("dd"),r=d("ul");for(let t=0;t<h.length;t+=1)h[t].c();o=p();for(let t=0;t<y.length;t+=1)y[t].c();i=p()},m(t,c){a(t,e,c),a(t,n,c),s(n,r);for(let t=0;t<h.length;t+=1)h[t].m(r,null);s(r,o);for(let t=0;t<y.length;t+=1)y[t].m(r,null);s(n,i),l=!0},p(t,e){if(16&e){let n;for(f=t[4]??[],n=0;n<f.length;n+=1){const i=Ki(t,f,n);h[n]?(h[n].p(i,e),P(h[n],1)):(h[n]=sl(i),h[n].c(),P(h[n],1),h[n].m(r,o))}for(j(),n=f.length;n<h.length;n+=1)m(n);q()}if(6&e){let n;for(g=t[2],n=0;n<g.length;n+=1){const o=zi(t,g,n);y[n]?(y[n].p(o,e),P(y[n],1)):(y[n]=fl(o),y[n].c(),P(y[n],1),y[n].m(r,null))}for(j(),n=g.length;n<y.length;n+=1)_(n);q()}},i(t){if(!l){for(let t=0;t<f.length;t+=1)P(h[t]);for(let t=0;t<g.length;t+=1)P(y[t]);l=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)F(h[t]);y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)F(y[t]);l=!1},d(t){t&&c(e),t&&c(n),u(h,t),u(y,t)}}}(t),W=t[3].length&&function(t){let e,n,r,o,i=t[3],l=[];for(let e=0;e<i.length;e+=1)l[e]=hl(Yi(t,i,e));const f=t=>F(l[t],1,1,(()=>{l[t]=null}));return{c(){e=d("dt"),e.textContent="Components",n=d("dd"),r=d("ul");for(let t=0;t<l.length;t+=1)l[t].c()},m(t,i){a(t,e,i),a(t,n,i),s(n,r);for(let t=0;t<l.length;t+=1)l[t].m(r,null);o=!0},p(t,e){if(10&e){let n;for(i=t[3],n=0;n<i.length;n+=1){const o=Yi(t,i,n);l[n]?(l[n].p(o,e),P(l[n],1)):(l[n]=hl(o),l[n].c(),P(l[n],1),l[n].m(r,null))}for(j(),n=i.length;n<l.length;n+=1)f(n);q()}},i(t){if(!o){for(let t=0;t<i.length;t+=1)P(l[t]);o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)F(l[t]);o=!1},d(t){t&&c(e),t&&c(n),u(l,t)}}}(t),Y=t[0].pre_note&&ml(t);return{c(){e=d("section"),n=d("h1"),r=f(M),o=p(),i=d("dl"),l=d("dt"),l.textContent="Required Skills",m=d("dd");for(let t=0;t<D.length;t+=1)D[t].c();H&&H.c(),g=p(),_=d("dt"),_.textContent="Time",v=d("dd"),b=f(R),U&&U.c(),$=h(),G&&G.c(),x=h(),W&&W.c(),w=p(),Y&&Y.c(),S=p(),E=d("details"),C=d("summary"),C.textContent="Construction JSON",T=p(),k=d("pre"),O=f(N)},m(t,c){a(t,e,c),s(e,n),s(n,r),s(e,o),s(e,i),s(i,l),s(i,m);for(let t=0;t<D.length;t+=1)D[t].m(m,null);H&&H.m(m,null),s(m,g),s(i,_),s(i,v),s(v,b),U&&U.m(i,null),s(i,$),G&&G.m(i,null),s(i,x),W&&W.m(i,null),s(e,w),Y&&Y.m(e,null),s(e,S),s(e,E),s(E,C),s(E,T),s(E,k),s(k,O),I=!0},p(t,[n]){if((!I||1&n)&&M!==(M=et(t[1].byId("construction_group",t[0].group))+"")&&y(r,M),1&n){let e;for(L=t[0].required_skills??[],e=0;e<L.length;e+=1){const r=Qi(t,L,e);D[e]?(D[e].p(r,n),P(D[e],1)):(D[e]=ol(r),D[e].c(),P(D[e],1),D[e].m(m,g))}for(j(),e=L.length;e<D.length;e+=1)B(e);q(),!L.length&&H?H.p(t,n):L.length?H&&(j(),F(H,1,1,(()=>{H=null})),q()):(H=Zi(t),H.c(),P(H,1),H.m(m,g))}(!I||1&n)&&R!==(R=("number"==typeof t[0].time?`${t[0].time} m`:t[0].time??"0 m")+"")&&y(b,R),1&n&&(A=t[0].pre_terrain?.startsWith("f_")),A?U?(U.p(t,n),1&n&&P(U,1)):(U=il(t),U.c(),P(U,1),U.m(i,$)):U&&(j(),F(U,1,1,(()=>{U=null})),q()),(t[4].length||t[2].length)&&G.p(t,n),t[3].length&&W.p(t,n),t[0].pre_note?Y?Y.p(t,n):(Y=ml(t),Y.c(),Y.m(e,S)):Y&&(Y.d(1),Y=null),(!I||1&n)&&N!==(N=JSON.stringify(t[0],null,2)+"")&&y(O,N)},i(t){if(!I){for(let t=0;t<L.length;t+=1)P(D[t]);P(U),P(G),P(W),I=!0}},o(t){D=D.filter(Boolean);for(let t=0;t<D.length;t+=1)F(D[t]);F(U),F(G),F(W),I=!1},d(t){t&&c(e),u(D,t),H&&H.d(),U&&U.d(),G&&G.d(),W&&W.d(),Y&&Y.d()}}}function yl(t,e,n){var r;const o=S("data");let{construction:i}=e;const l=("string"==typeof i.using?[[i.using,1]]:null!==(r=i.using)&&void 0!==r?r:[]).map((([t,e])=>[o.byId("requirement",t),e])).concat([[i,1]]),s=l.flatMap((([t,e])=>{var n;return o.flattenRequirement(null!==(n=t.tools)&&void 0!==n?n:[],(t=>t.tools),{expandSubstitutes:!0}).map((t=>t.map((t=>({...t,count:t.count*e})))))})),a=l.flatMap((([t,e])=>{var n;return o.flattenRequirement(null!==(n=t.components)&&void 0!==n?n:[],(t=>t.components)).map((t=>t.map((t=>({...t,count:t.count*e})))))})),c=l.flatMap((([t,e])=>{var n;return(null!==(n=t.qualities)&&void 0!==n?n:[]).map((t=>Array.isArray(t)?t:[t]))}));return t.$$set=t=>{"construction"in t&&n(0,i=t.construction)},[i,o,s,a,c,t=>({...t,item:o.byId("item",t.id)})]}class _l extends J{constructor(t){super(),z(this,t,yl,gl,i,{construction:0})}}function vl(t,e,n){const r=t.slice();return r[8]=e[n],r}function bl(t,e,n){const r=t.slice();return r[11]=e[n],r}function $l(t,e,n){const r=t.slice();return r[14]=e[n][0],r[15]=e[n][1],r}function xl(t,e,n){const r=t.slice();return r[18]=e[n].id,r[19]=e[n].prob,r[20]=e[n].count,r}function wl(t){let e,n,r=50*t[0].move_cost_mod+"";return{c(){e=f("+"),n=f(r)},m(t,r){a(t,e,r),a(t,n,r)},p(t,e){1&e&&r!==(r=50*t[0].move_cost_mod+"")&&y(n,r)},d(t){t&&c(e),t&&c(n)}}}function Sl(e){let n;return{c(){n=d("em"),n.textContent="impassable"},m(t,e){a(t,n,e)},p:t,d(t){t&&c(n)}}}function El(e){let n,r,o,i,l,s,u=e[20][0]+"",d=e[20][1]+"";return{c(){n=f(" "),r=f("("),o=f(u),i=f("â€“"),l=f(d),s=f(")")},m(t,e){a(t,n,e),a(t,r,e),a(t,o,e),a(t,i,e),a(t,l,e),a(t,s,e)},p:t,d(t){t&&c(n),t&&c(r),t&&c(o),t&&c(i),t&&c(l),t&&c(s)}}}function Cl(e){let n,r=1!==e[20][0]&&function(e){let n,r,o,i,l=" ",s=e[20][0]+"";return{c(){n=f(l),r=f("("),o=f(s),i=f(")")},m(t,e){a(t,n,e),a(t,r,e),a(t,o,e),a(t,i,e)},p:t,d(t){t&&c(n),t&&c(r),t&&c(o),t&&c(i)}}}(e);return{c(){r&&r.c(),n=h()},m(t,e){r&&r.m(t,e),a(t,n,e)},p(t,e){1!==t[20][0]&&r.p(t,e)},d(t){r&&r.d(t),t&&c(n)}}}function Tl(e){let n,r,o,i,l;r=new wt({props:{type:"item",id:e[18]}});let u=function(t,e){return t[20][0]===t[20][1]?Cl:El}(e)(e),p=1!==e[19]&&function(e){let n,r,o,i,l=function(t){const e=(100*t).toFixed(2);return"0.00"===e?"< 0.01%":e+"%"}(e[19])+"";return{c(){n=f(" "),r=f("("),o=f(l),i=f(")")},m(t,e){a(t,n,e),a(t,r,e),a(t,o,e),a(t,i,e)},p:t,d(t){t&&c(n),t&&c(r),t&&c(o),t&&c(i)}}}(e);return{c(){n=d("li"),G(r.$$.fragment),o=f(""),u.c(),i=f(""),p&&p.c()},m(t,e){a(t,n,e),W(r,n,null),s(n,o),u.m(n,null),s(n,i),p&&p.m(n,null),l=!0},p(t,e){u.p(t,e),1!==t[19]&&p.p(t,e)},i(t){l||(P(r.$$.fragment,t),l=!0)},o(t){F(r.$$.fragment,t),l=!1},d(t){t&&c(n),Y(r),u.d(),p&&p.d()}}}function kl(t){let e,n,r=t[15].length&&function(t){let e,n,r,o,i,l,h=t[14]+"",m=t[15],y=[];for(let e=0;e<m.length;e+=1)y[e]=Tl(xl(t,m,e));const _=t=>F(y[t],1,1,(()=>{y[t]=null}));return{c(){e=d("dt"),n=f(h),r=d("dd"),o=d("ul");for(let t=0;t<y.length;t+=1)y[t].c();i=p(),g(o,"class","comma-separated")},m(t,c){a(t,e,c),s(e,n),a(t,r,c),s(r,o);for(let t=0;t<y.length;t+=1)y[t].m(o,null);s(r,i),l=!0},p(t,e){if(4&e){let n;for(m=t[15],n=0;n<m.length;n+=1){const r=xl(t,m,n);y[n]?(y[n].p(r,e),P(y[n],1)):(y[n]=Tl(r),y[n].c(),P(y[n],1),y[n].m(o,null))}for(j(),n=m.length;n<y.length;n+=1)_(n);q()}},i(t){if(!l){for(let t=0;t<m.length;t+=1)P(y[t]);l=!0}},o(t){y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)F(y[t]);l=!1},d(t){t&&c(e),t&&c(r),u(y,t)}}}(t);return{c(){r&&r.c(),e=h()},m(t,o){r&&r.m(t,o),a(t,e,o),n=!0},p(t,e){t[15].length&&r.p(t,e)},i(t){n||(P(r),n=!0)},o(t){F(r),n=!1},d(t){r&&r.d(t),t&&c(e)}}}function Ol(t){let e;return{c(){e=d("li"),e.innerHTML="<em>none</em>"},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Il(t){let e,n,r=t[11]+"";return{c(){e=d("li"),n=f(r)},m(t,r){a(t,e,r),s(e,n)},p(t,e){1&e&&r!==(r=t[11]+"")&&y(n,r)},d(t){t&&c(e)}}}function Ml(e){let n,r;return n=new _l({props:{construction:e[8]}}),{c(){G(n.$$.fragment)},m(t,e){W(n,t,e),r=!0},p:t,i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){Y(n,t)}}}function Rl(t){let e,n,r,o,i,l,m,_,b,$,x,w,S,E,C,T,k,O,I,M,R,A,N,L,D,B,H,U,V,z,J=et(t[0])+"",K=(t[0].required_str>=0?t[0].required_str:"not movable")+"",X=(t[0].coverage??0)+"",Q=(t[0].comfort??0)+"",Z=t[0].description+"";function tt(t,e){return t[0].move_cost_mod<0?Sl:wl}n=new On({props:{item:t[0]}});let nt=tt(t),rt=nt(t),ot=t[2],it=[];for(let e=0;e<ot.length;e+=1)it[e]=kl($l(t,ot,e));const lt=t=>F(it[t],1,1,(()=>{it[t]=null}));let st=t[0].flags??[],at=[];for(let e=0;e<st.length;e+=1)at[e]=Il(bl(t,st,e));let ct=null;st.length||(ct=Ol());let ut=t[1].length&&function(t){let e,n,r,o,i=t[1],l=[];for(let e=0;e<i.length;e+=1)l[e]=Ml(vl(t,i,e));const s=t=>F(l[t],1,1,(()=>{l[t]=null}));return{c(){e=d("h2"),e.textContent="Construction",n=p();for(let t=0;t<l.length;t+=1)l[t].c();r=h()},m(t,i){a(t,e,i),a(t,n,i);for(let e=0;e<l.length;e+=1)l[e].m(t,i);a(t,r,i),o=!0},p(t,e){if(2&e){let n;for(i=t[1],n=0;n<i.length;n+=1){const o=vl(t,i,n);l[n]?(l[n].p(o,e),P(l[n],1)):(l[n]=Ml(o),l[n].c(),P(l[n],1),l[n].m(r.parentNode,r))}for(j(),n=i.length;n<l.length;n+=1)s(n);q()}},i(t){if(!o){for(let t=0;t<i.length;t+=1)P(l[t]);o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)F(l[t]);o=!1},d(t){t&&c(e),t&&c(n),u(l,t),t&&c(r)}}}(t);return{c(){e=d("h1"),G(n.$$.fragment),r=p(),o=f(J),i=p(),l=d("section"),m=d("h1"),m.textContent="General",_=p(),b=d("dl"),$=d("dt"),$.textContent="Move Cost Modifier",x=d("dd"),rt.c(),w=d("dt"),w.textContent="Strength Required to Drag",S=d("dd"),E=f(K),C=d("dt"),C.textContent="Coverage",T=d("dd"),k=f(X),O=f("%"),I=d("dt"),I.textContent="Comfort",M=d("dd"),R=f(Q);for(let t=0;t<it.length;t+=1)it[t].c();A=d("dt"),A.textContent="Flags",N=d("dd"),L=d("ul");for(let t=0;t<at.length;t+=1)at[t].c();ct&&ct.c(),D=p(),B=d("p"),H=f(Z),U=p(),ut&&ut.c(),V=h(),g(L,"class","comma-separated"),v(B,"color","var(--cata-color-gray)")},m(t,c){a(t,e,c),W(n,e,null),s(e,r),s(e,o),a(t,i,c),a(t,l,c),s(l,m),s(l,_),s(l,b),s(b,$),s(b,x),rt.m(x,null),s(b,w),s(b,S),s(S,E),s(b,C),s(b,T),s(T,k),s(T,O),s(b,I),s(b,M),s(M,R);for(let t=0;t<it.length;t+=1)it[t].m(b,null);s(b,A),s(b,N),s(N,L);for(let t=0;t<at.length;t+=1)at[t].m(L,null);ct&&ct.m(L,null),s(l,D),s(l,B),s(B,H),a(t,U,c),ut&&ut.m(t,c),a(t,V,c),z=!0},p(t,[e]){const r={};if(1&e&&(r.item=t[0]),n.$set(r),(!z||1&e)&&J!==(J=et(t[0])+"")&&y(o,J),nt===(nt=tt(t))&&rt?rt.p(t,e):(rt.d(1),rt=nt(t),rt&&(rt.c(),rt.m(x,null))),(!z||1&e)&&K!==(K=(t[0].required_str>=0?t[0].required_str:"not movable")+"")&&y(E,K),(!z||1&e)&&X!==(X=(t[0].coverage??0)+"")&&y(k,X),(!z||1&e)&&Q!==(Q=(t[0].comfort??0)+"")&&y(R,Q),4&e){let n;for(ot=t[2],n=0;n<ot.length;n+=1){const r=$l(t,ot,n);it[n]?(it[n].p(r,e),P(it[n],1)):(it[n]=kl(r),it[n].c(),P(it[n],1),it[n].m(b,A))}for(j(),n=ot.length;n<it.length;n+=1)lt(n);q()}if(1&e){let n;for(st=t[0].flags??[],n=0;n<st.length;n+=1){const r=bl(t,st,n);at[n]?at[n].p(r,e):(at[n]=Il(r),at[n].c(),at[n].m(L,null))}for(;n<at.length;n+=1)at[n].d(1);at.length=st.length,st.length?ct&&(ct.d(1),ct=null):ct||(ct=Ol(),ct.c(),ct.m(L,null))}(!z||1&e)&&Z!==(Z=t[0].description+"")&&y(H,Z),t[1].length&&ut.p(t,e)},i(t){if(!z){P(n.$$.fragment,t);for(let t=0;t<ot.length;t+=1)P(it[t]);P(ut),z=!0}},o(t){F(n.$$.fragment,t),it=it.filter(Boolean);for(let t=0;t<it.length;t+=1)F(it[t]);F(ut),z=!1},d(t){t&&c(e),Y(n),t&&c(i),t&&c(l),rt.d(),u(it,t),u(at,t),ct&&ct.d(),t&&c(U),ut&&ut.d(t),t&&c(V)}}}function Al(t,e,n){var r,o;const i=S("data");let{item:l}=e;const s=(null===(r=l.deconstruct)||void 0===r?void 0:r.items)?ct(i,{subtype:"collection",entries:l.deconstruct.items}):[],a=(null===(o=l.bash)||void 0===o?void 0:o.items)?ct(i,{subtype:"collection",entries:l.bash.items}):[],c=i.byType("construction").filter((t=>t.post_terrain===l.id)),u=[["Deconstruct",s],["Bash",a]];return t.$$set=t=>{"item"in t&&n(0,l=t.item)},[l,c,u]}class Nl extends J{constructor(t){super(),z(this,t,Al,Rl,i,{item:0})}}function Ll(e){let n,r,o,i,l,u,h,m=et(e[0])+"",g=e[0].description+"";return{c(){n=d("h1"),r=f("Skill: "),o=f(m),i=p(),l=d("section"),u=d("p"),h=f(g),v(u,"color","var(--cata-color-gray)")},m(t,e){a(t,n,e),s(n,r),s(n,o),a(t,i,e),a(t,l,e),s(l,u),s(u,h)},p(t,[e]){1&e&&m!==(m=et(t[0])+"")&&y(o,m),1&e&&g!==(g=t[0].description+"")&&y(h,g)},i:t,o:t,d(t){t&&c(n),t&&c(i),t&&c(l)}}}function Dl(t,e,n){let{item:r}=e;return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r]}class Bl extends J{constructor(t){super(),z(this,t,Dl,Ll,i,{item:0})}}function jl(t,e,n){const r=t.slice();return r[1]=e[n],r}function ql(t){let e,n,r,o,i=t[0].required_proficiencies,l=[];for(let e=0;e<i.length;e+=1)l[e]=Pl(jl(t,i,e));const f=t=>F(l[t],1,1,(()=>{l[t]=null}));return{c(){e=d("dt"),e.textContent="Required Proficiencies",n=d("dd"),r=d("ul");for(let t=0;t<l.length;t+=1)l[t].c();g(r,"class","comma-separated")},m(t,i){a(t,e,i),a(t,n,i),s(n,r);for(let t=0;t<l.length;t+=1)l[t].m(r,null);o=!0},p(t,e){if(1&e){let n;for(i=t[0].required_proficiencies,n=0;n<i.length;n+=1){const o=jl(t,i,n);l[n]?(l[n].p(o,e),P(l[n],1)):(l[n]=Pl(o),l[n].c(),P(l[n],1),l[n].m(r,null))}for(j(),n=i.length;n<l.length;n+=1)f(n);q()}},i(t){if(!o){for(let t=0;t<i.length;t+=1)P(l[t]);o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)F(l[t]);o=!1},d(t){t&&c(e),t&&c(n),u(l,t)}}}function Pl(t){let e,n,r;return n=new wt({props:{id:t[1],type:"proficiency"}}),{c(){e=d("li"),G(n.$$.fragment)},m(t,o){a(t,e,o),W(n,e,null),r=!0},p(t,e){const r={};1&e&&(r.id=t[1]),n.$set(r)},i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){t&&c(e),Y(n)}}}function Fl(t){let e,n,r,o,i,l,u,h,m,g,_,b,$,x,w,S,E,C,T,k,O,I=et(t[0])+"",M=(t[0].can_learn?t[0].time_to_learn:"not learnable")+"",R=(t[0].default_time_multiplier??2)+"",A=(t[0].default_fail_multiplier??2)+"",N=t[0].description+"",L=t[0].required_proficiencies&&ql(t);return{c(){e=d("h1"),n=f("Proficiency: "),r=f(I),o=p(),i=d("section"),l=d("dl"),u=d("dt"),u.textContent="Time to Learn",h=d("dd"),m=f(M),g=d("dt"),g.textContent="Default Time Multiplier",_=d("dd"),b=f(R),$=f("Ã—"),x=d("dt"),x.textContent="Default Fail Multiplier",w=d("dd"),S=f(A),E=f("Ã—"),L&&L.c(),C=p(),T=d("p"),k=f(N),v(T,"color","var(--cata-color-gray)")},m(t,c){a(t,e,c),s(e,n),s(e,r),a(t,o,c),a(t,i,c),s(i,l),s(l,u),s(l,h),s(h,m),s(l,g),s(l,_),s(_,b),s(_,$),s(l,x),s(l,w),s(w,S),s(w,E),L&&L.m(l,null),s(i,C),s(i,T),s(T,k),O=!0},p(t,[e]){(!O||1&e)&&I!==(I=et(t[0])+"")&&y(r,I),(!O||1&e)&&M!==(M=(t[0].can_learn?t[0].time_to_learn:"not learnable")+"")&&y(m,M),(!O||1&e)&&R!==(R=(t[0].default_time_multiplier??2)+"")&&y(b,R),(!O||1&e)&&A!==(A=(t[0].default_fail_multiplier??2)+"")&&y(S,A),t[0].required_proficiencies?L?(L.p(t,e),1&e&&P(L,1)):(L=ql(t),L.c(),P(L,1),L.m(l,null)):L&&(j(),F(L,1,1,(()=>{L=null})),q()),(!O||1&e)&&N!==(N=t[0].description+"")&&y(k,N)},i(t){O||(P(L),O=!0)},o(t){F(L),O=!1},d(t){t&&c(e),t&&c(o),t&&c(i),L&&L.d()}}}function Hl(t,e,n){let{item:r}=e;return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r]}class Ul extends J{constructor(t){super(),z(this,t,Hl,Fl,i,{item:0})}}function Gl(t,e,n){const r=t.slice();return r[13]=e[n].id,r}function Wl(t,e,n){const r=t.slice();return r[13]=e[n].id,r}function Yl(t,e,n){const r=t.slice();return r[5]=e[n].color,r[18]=e[n].string,r}function Vl(t){let e,n,r=t[3],o=[];for(let e=0;e<r.length;e+=1)o[e]=zl(Yl(t,r,e));return{c(){e=d("section"),n=d("p");for(let t=0;t<o.length;t+=1)o[t].c()},m(t,r){a(t,e,r),s(e,n);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,e){if(24&e){let i;for(r=t[3],i=0;i<r.length;i+=1){const l=Yl(t,r,i);o[i]?o[i].p(l,e):(o[i]=zl(l),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},d(t){t&&c(e),u(o,t)}}}function zl(e){let n,r,o=e[18]+"";return{c(){n=d("span"),r=f(o),v(n,"color","var(--cata-color-"+e[4](e[5])+")")},m(t,e){a(t,n,e),s(n,r)},p:t,d(t){t&&c(n)}}}function Jl(e){let n,r,o;return r=new wt({props:{type:"item",id:e[13]}}),{c(){n=d("li"),G(r.$$.fragment)},m(t,e){a(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),Y(r)}}}function Kl(e){let n,r,o;return r=new wt({props:{type:"vehicle_part",id:e[13]}}),{c(){n=d("li"),G(r.$$.fragment)},m(t,e){a(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),Y(r)}}}function Xl(t){let e,n,r,o,i,l,m,g,_=t[0].id+"",v=t[0].info&&Vl(t),b=t[1].length&&function(t){let e,n,r,o,i,l=t[1].sort(t[6]),f=[];for(let e=0;e<l.length;e+=1)f[e]=Jl(Wl(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));return{c(){e=d("section"),n=d("h1"),n.textContent="Items",r=p(),o=d("ul");for(let t=0;t<f.length;t+=1)f[t].c()},m(t,l){a(t,e,l),s(e,n),s(e,r),s(e,o);for(let t=0;t<f.length;t+=1)f[t].m(o,null);i=!0},p(t,e){if(2&e){let n;for(l=t[1].sort(t[6]),n=0;n<l.length;n+=1){const r=Wl(t,l,n);f[n]?(f[n].p(r,e),P(f[n],1)):(f[n]=Jl(r),f[n].c(),P(f[n],1),f[n].m(o,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),u(f,t)}}}(t),$=t[2].length&&function(t){let e,n,r,o,i,l=t[2].sort(t[7]),f=[];for(let e=0;e<l.length;e+=1)f[e]=Kl(Gl(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));return{c(){e=d("section"),n=d("h1"),n.textContent="Vehicle Parts",r=p(),o=d("ul");for(let t=0;t<f.length;t+=1)f[t].c()},m(t,l){a(t,e,l),s(e,n),s(e,r),s(e,o);for(let t=0;t<f.length;t+=1)f[t].m(o,null);i=!0},p(t,e){if(4&e){let n;for(l=t[2].sort(t[7]),n=0;n<l.length;n+=1){const r=Gl(t,l,n);f[n]?(f[n].p(r,e),P(f[n],1)):(f[n]=Kl(r),f[n].c(),P(f[n],1),f[n].m(o,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),u(f,t)}}}(t);return{c(){e=d("h1"),n=f("Flag: "),r=f(_),o=p(),v&&v.c(),i=p(),b&&b.c(),l=p(),$&&$.c(),m=h()},m(t,c){a(t,e,c),s(e,n),s(e,r),a(t,o,c),v&&v.m(t,c),a(t,i,c),b&&b.m(t,c),a(t,l,c),$&&$.m(t,c),a(t,m,c),g=!0},p(t,[e]){(!g||1&e)&&_!==(_=t[0].id+"")&&y(r,_),t[0].info?v?v.p(t,e):(v=Vl(t),v.c(),v.m(i.parentNode,i)):v&&(v.d(1),v=null),t[1].length&&b.p(t,e),t[2].length&&$.p(t,e)},i(t){g||(P(b),P($),g=!0)},o(t){F(b),F($),g=!1},d(t){t&&c(e),t&&c(o),v&&v.d(t),t&&c(i),b&&b.d(t),t&&c(l),$&&$.d(t),t&&c(m)}}}function Ql(t,e,n){var r,o,i;let{item:l}=e,s=S("data"),a=new Array;for(const t of s.byType("item")){if(!t.id)continue;(null!==(r=t.flags)&&void 0!==r?r:[]).find((t=>t===l.id))&&a.push(t)}let c=new Array;for(const t of s.byType("vehicle_part")){if(!t.id)continue;(null!==(o=t.flags)&&void 0!==o?o:[]).find((t=>t===l.id))&&c.push(t)}let u=["gray"];const d=[];let f=null!==(i=l.info)&&void 0!==i?i:"";for(;;){const t=f.match(/<\/?(info|good|bad)>/);if(!t)break;t.index>0&&d.push({string:f.substr(0,t.index),color:u[0]}),"/"===t[0][1]&&u.length>1?u.shift():u.unshift(t[1]),f=f.substr(t.index+t[0].length)}f.length&&d.push({string:f,color:u[0]});return t.$$set=t=>{"item"in t&&n(0,l=t.item)},[l,a,c,d,t=>"info"===t?"cyan":"good"===t?"green":"bad"===t?"red":"gray",u,(t,e)=>et(t).localeCompare(et(e)),(t,e)=>et(t).localeCompare(et(e))]}class Zl extends J{constructor(t){super(),z(this,t,Ql,Xl,i,{item:0})}}function ts(t,e,n){const r=t.slice();return r[5]=e[n].tools,r[6]=e[n].components,r[7]=e[n].qualities,r[8]=e[n].mending_method,r}function es(t,e,n){const r=t.slice();return r[11]=e[n],r}function ns(t,e,n){const r=t.slice();return r[14]=e[n].id,r[15]=e[n].count,r[17]=n,r}function rs(t,e,n){const r=t.slice();return r[18]=e[n],r}function os(t,e,n){const r=t.slice();return r[21]=e[n],r[17]=n,r}function is(t,e,n){const r=t.slice();return r[23]=e[n],r}function ls(t,e,n){const r=t.slice();return r[26]=e[n],r[17]=n,r}function ss(t,e,n){const r=t.slice();return r[14]=e[n].id,r[28]=e[n].level,r[17]=n,r}function as(t,e,n){const r=t.slice();return r[30]=e[n],r}function cs(t){let e;return{c(){e=d("li"),e.innerHTML="<em>none</em>"},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function us(t){let e,n,r=t[30]+"";return{c(){e=d("li"),n=f(r)},m(t,r){a(t,e,r),s(e,n)},p(t,e){1&e[0]&&r!==(r=t[30]+"")&&y(n,r)},d(t){t&&c(e)}}}function ds(t){let e;return{c(){e=f("none")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function fs(t){let e;return{c(){e=f(", ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function ps(t){let e;return{c(){e=f(" and ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function hs(e){let n,r,o,i,l,s,u=e[28]+"";n=new wt({props:{type:"skill",id:e[14]}});let d=function(t,e){return t[17]===t[8].skills.length-2?ps:t[17]!==t[8].skills.length-1?fs:void 0}(e),p=d&&d(e);return{c(){G(n.$$.fragment),r=f(" ("),o=f(u),i=f(")"),p&&p.c(),l=h()},m(t,e){W(n,t,e),a(t,r,e),a(t,o,e),a(t,i,e),p&&p.m(t,e),a(t,l,e),s=!0},p:t,i(t){s||(P(n.$$.fragment,t),s=!0)},o(t){F(n.$$.fragment,t),s=!1},d(t){Y(n,t),t&&c(r),t&&c(o),t&&c(i),p&&p.d(t),t&&c(l)}}}function ms(e){let n,r,o,i,l,s,u,d,h,m,g,y=(e[26].amount??1)+"",_=1===(e[26].amount??1)?"":"s",v=e[26].level+"",b=0!==e[17]&&function(t){let e;return{c(){e=f(" OR ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}();return s=new wt({props:{type:"tool_quality",id:e[26].id}}),{c(){b&&b.c(),n=p(),r=f(y),o=f(" tool"),i=f(_),l=f("\n        with "),G(s.$$.fragment),u=f(" of "),d=f(v),h=f(" or more"),m=f("")},m(t,e){b&&b.m(t,e),a(t,n,e),a(t,r,e),a(t,o,e),a(t,i,e),a(t,l,e),W(s,t,e),a(t,u,e),a(t,d,e),a(t,h,e),a(t,m,e),g=!0},p:t,i(t){g||(P(s.$$.fragment,t),g=!0)},o(t){F(s.$$.fragment,t),g=!1},d(t){b&&b.d(t),t&&c(n),t&&c(r),t&&c(o),t&&c(i),t&&c(l),Y(s,t),t&&c(u),t&&c(d),t&&c(h),t&&c(m)}}}function gs(t){let e,n,r,o=t[23],i=[];for(let e=0;e<o.length;e+=1)i[e]=ms(ls(t,o,e));const l=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=d("li");for(let t=0;t<i.length;t+=1)i[t].c();n=f(".")},m(t,o){a(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);s(e,n),r=!0},p(t,r){if(4&r[0]){let s;for(o=t[23],s=0;s<o.length;s+=1){const l=ls(t,o,s);i[s]?(i[s].p(l,r),P(i[s],1)):(i[s]=ms(l),i[s].c(),P(i[s],1),i[s].m(e,n))}for(j(),s=o.length;s<i.length;s+=1)l(s);q()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)P(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);r=!1},d(t){t&&c(e),u(i,t)}}}function ys(e){let n,r;return n=new wt({props:{type:"item",id:e[21].id}}),{c(){G(n.$$.fragment)},m(t,e){W(n,t,e),r=!0},p:t,i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){Y(n,t)}}}function _s(e){let n,r,o=et(e[1].byId("item",e[21].id))+"";return{c(){n=d("a"),r=f(o),g(n,"href","#/furniture/"+e[1].craftingPseudoItem(e[21].id))},m(t,e){a(t,n,e),s(n,r)},p:t,i:t,o:t,d(t){t&&c(n)}}}function vs(e){let n,r,o,i,l=e[21].count+"",s=1!==e[21].count&&function(t){let e;return{c(){e=f("s")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}();return{c(){n=f("("),r=f(l),o=f(" charge"),s&&s.c(),i=f(")")},m(t,e){a(t,n,e),a(t,r,e),a(t,o,e),s&&s.m(t,e),a(t,i,e)},p:t,d(t){t&&c(n),t&&c(r),t&&c(o),s&&s.d(t),t&&c(i)}}}function bs(t){let e,n,r,o,i,l,s=0!==t[17]&&function(t){let e;return{c(){e=f(" OR ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}();const u=[_s,ys],d=[];n=function(t,e){return t[1].craftingPseudoItem(t[21].id)?0:1}(t),r=d[n]=u[n](t);let m=t[21].count>0&&vs(t);return{c(){s&&s.c(),e=p(),r.c(),o=p(),m&&m.c(),i=h()},m(t,r){s&&s.m(t,r),a(t,e,r),d[n].m(t,r),a(t,o,r),m&&m.m(t,r),a(t,i,r),l=!0},p(t,e){r.p(t,e),t[21].count>0&&m.p(t,e)},i(t){l||(P(r),l=!0)},o(t){F(r),l=!1},d(t){s&&s.d(t),t&&c(e),d[n].d(t),t&&c(o),m&&m.d(t),t&&c(i)}}}function $s(t){let e,n,r,o=t[18],i=[];for(let e=0;e<o.length;e+=1)i[e]=bs(os(t,o,e));const l=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=d("li");for(let t=0;t<i.length;t+=1)i[t].c();n=p()},m(t,o){a(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);s(e,n),r=!0},p(t,r){if(6&r[0]){let s;for(o=t[18],s=0;s<o.length;s+=1){const l=os(t,o,s);i[s]?(i[s].p(l,r),P(i[s],1)):(i[s]=bs(l),i[s].c(),P(i[s],1),i[s].m(e,n))}for(j(),s=o.length;s<i.length;s+=1)l(s);q()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)P(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);r=!1},d(t){t&&c(e),u(i,t)}}}function xs(e){let n,r,o,i=0!==e[17]&&function(t){let e;return{c(){e=f(" OR ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}();return r=new wt({props:{id:e[14],count:e[15],type:"item"}}),{c(){i&&i.c(),n=p(),G(r.$$.fragment)},m(t,e){i&&i.m(t,e),a(t,n,e),W(r,t,e),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){i&&i.d(t),t&&c(n),Y(r,t)}}}function ws(t){let e,n,r,o=t[11].map(t[3]),i=[];for(let e=0;e<o.length;e+=1)i[e]=xs(ns(t,o,e));const l=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=d("li");for(let t=0;t<i.length;t+=1)i[t].c();n=p()},m(t,o){a(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);s(e,n),r=!0},p(t,r){if(6&r[0]){let s;for(o=t[11].map(t[3]),s=0;s<o.length;s+=1){const l=ns(t,o,s);i[s]?(i[s].p(l,r),P(i[s],1)):(i[s]=xs(l),i[s].c(),P(i[s],1),i[s].m(e,n))}for(j(),s=o.length;s<i.length;s+=1)l(s);q()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)P(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);r=!1},d(t){t&&c(e),u(i,t)}}}function Ss(e){let n,r,o,i,l,m,g,y,_,v,b,$,x,w,S,E=et(e[8])+"",C=e[8].time+"",T=e[8].skills,k=[];for(let t=0;t<T.length;t+=1)k[t]=hs(ss(e,T,t));const O=t=>F(k[t],1,1,(()=>{k[t]=null}));let I=null;T.length||(I=ds());let M=(e[7].length||e[5].length)&&function(t){let e,n,r,o,i,l,f=t[7]??[],h=[];for(let e=0;e<f.length;e+=1)h[e]=gs(is(t,f,e));const m=t=>F(h[t],1,1,(()=>{h[t]=null}));let g=t[5],y=[];for(let e=0;e<g.length;e+=1)y[e]=$s(rs(t,g,e));const _=t=>F(y[t],1,1,(()=>{y[t]=null}));return{c(){e=d("dt"),e.textContent="Tools Required",n=d("dd"),r=d("ul");for(let t=0;t<h.length;t+=1)h[t].c();o=p();for(let t=0;t<y.length;t+=1)y[t].c();i=p()},m(t,c){a(t,e,c),a(t,n,c),s(n,r);for(let t=0;t<h.length;t+=1)h[t].m(r,null);s(r,o);for(let t=0;t<y.length;t+=1)y[t].m(r,null);s(n,i),l=!0},p(t,e){if(4&e[0]){let n;for(f=t[7]??[],n=0;n<f.length;n+=1){const i=is(t,f,n);h[n]?(h[n].p(i,e),P(h[n],1)):(h[n]=gs(i),h[n].c(),P(h[n],1),h[n].m(r,o))}for(j(),n=f.length;n<h.length;n+=1)m(n);q()}if(6&e[0]){let n;for(g=t[5],n=0;n<g.length;n+=1){const o=rs(t,g,n);y[n]?(y[n].p(o,e),P(y[n],1)):(y[n]=$s(o),y[n].c(),P(y[n],1),y[n].m(r,null))}for(j(),n=g.length;n<y.length;n+=1)_(n);q()}},i(t){if(!l){for(let t=0;t<f.length;t+=1)P(h[t]);for(let t=0;t<g.length;t+=1)P(y[t]);l=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)F(h[t]);y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)F(y[t]);l=!1},d(t){t&&c(e),t&&c(n),u(h,t),u(y,t)}}}(e),R=e[6].length&&function(t){let e,n,r,o,i,l=t[6],f=[];for(let e=0;e<l.length;e+=1)f[e]=ws(es(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));return{c(){e=d("dt"),e.textContent="Components",n=d("dd"),r=d("ul");for(let t=0;t<f.length;t+=1)f[t].c();o=p()},m(t,l){a(t,e,l),a(t,n,l),s(n,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null);s(n,o),i=!0},p(t,e){if(6&e[0]){let n;for(l=t[6],n=0;n<l.length;n+=1){const o=es(t,l,n);f[n]?(f[n].p(o,e),P(f[n],1)):(f[n]=ws(o),f[n].c(),P(f[n],1),f[n].m(r,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),t&&c(n),u(f,t)}}}(e),A=e[8].turns_into&&function(e){let n,r,o,i;return o=new wt({props:{type:"fault",id:e[8].turns_into}}),{c(){n=d("dt"),n.textContent="Turns Into",r=d("dd"),G(o.$$.fragment)},m(t,e){a(t,n,e),a(t,r,e),W(o,r,null),i=!0},p:t,i(t){i||(P(o.$$.fragment,t),i=!0)},o(t){F(o.$$.fragment,t),i=!1},d(t){t&&c(n),t&&c(r),Y(o)}}}(e);return{c(){n=d("section"),r=d("h1"),o=f(E),i=p(),l=d("dl"),m=d("dt"),m.textContent="Skills Used",g=d("dd");for(let t=0;t<k.length;t+=1)k[t].c();I&&I.c(),y=p(),_=d("dt"),_.textContent="Time to Complete",v=d("dd"),b=f(C),M&&M.c(),$=h(),R&&R.c(),x=h(),A&&A.c(),w=p()},m(t,e){a(t,n,e),s(n,r),s(r,o),s(n,i),s(n,l),s(l,m),s(l,g);for(let t=0;t<k.length;t+=1)k[t].m(g,null);I&&I.m(g,null),s(g,y),s(l,_),s(l,v),s(v,b),M&&M.m(l,null),s(l,$),R&&R.m(l,null),s(l,x),A&&A.m(l,null),s(n,w),S=!0},p(t,e){if(4&e[0]){let n;for(T=t[8].skills,n=0;n<T.length;n+=1){const r=ss(t,T,n);k[n]?(k[n].p(r,e),P(k[n],1)):(k[n]=hs(r),k[n].c(),P(k[n],1),k[n].m(g,y))}for(j(),n=T.length;n<k.length;n+=1)O(n);q(),T.length?I&&(I.d(1),I=null):I||(I=ds(),I.c(),I.m(g,y))}(t[7].length||t[5].length)&&M.p(t,e),t[6].length&&R.p(t,e),t[8].turns_into&&A.p(t,e)},i(t){if(!S){for(let t=0;t<T.length;t+=1)P(k[t]);P(M),P(R),P(A),S=!0}},o(t){k=k.filter(Boolean);for(let t=0;t<k.length;t+=1)F(k[t]);F(M),F(R),F(A),S=!1},d(t){t&&c(n),u(k,t),I&&I.d(),M&&M.d(),R&&R.d(),A&&A.d()}}}function Es(t){let e,n,r,o,i,l,m,_,b,$,x,w,S,E,C,T,k=et(t[0])+"",O=t[0].description+"",I=t[0].flags??[],M=[];for(let e=0;e<I.length;e+=1)M[e]=us(as(t,I,e));let R=null;I.length||(R=cs());let A=t[2].length&&function(t){let e;return{c(){e=d("h2"),e.textContent="Mending Methods"},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}(),N=t[2],L=[];for(let e=0;e<N.length;e+=1)L[e]=Ss(ts(t,N,e));const D=t=>F(L[t],1,1,(()=>{L[t]=null}));return{c(){e=d("h1"),n=f("Fault: "),r=f(k),o=p(),i=d("section"),l=d("dl"),m=d("dt"),m.textContent="Flags",_=d("dd"),b=d("ul");for(let t=0;t<M.length;t+=1)M[t].c();R&&R.c(),$=p(),x=d("p"),w=f(O),S=p(),A&&A.c(),E=p();for(let t=0;t<L.length;t+=1)L[t].c();C=h(),g(b,"class","comma-separated"),v(x,"color","var(--cata-color-gray)")},m(t,c){a(t,e,c),s(e,n),s(e,r),a(t,o,c),a(t,i,c),s(i,l),s(l,m),s(l,_),s(_,b);for(let t=0;t<M.length;t+=1)M[t].m(b,null);R&&R.m(b,null),s(i,$),s(i,x),s(x,w),a(t,S,c),A&&A.m(t,c),a(t,E,c);for(let e=0;e<L.length;e+=1)L[e].m(t,c);a(t,C,c),T=!0},p(t,e){if((!T||1&e[0])&&k!==(k=et(t[0])+"")&&y(r,k),1&e[0]){let n;for(I=t[0].flags??[],n=0;n<I.length;n+=1){const r=as(t,I,n);M[n]?M[n].p(r,e):(M[n]=us(r),M[n].c(),M[n].m(b,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=I.length,I.length?R&&(R.d(1),R=null):R||(R=cs(),R.c(),R.m(b,null))}if((!T||1&e[0])&&O!==(O=t[0].description+"")&&y(w,O),6&e[0]){let n;for(N=t[2],n=0;n<N.length;n+=1){const r=ts(t,N,n);L[n]?(L[n].p(r,e),P(L[n],1)):(L[n]=Ss(r),L[n].c(),P(L[n],1),L[n].m(C.parentNode,C))}for(j(),n=N.length;n<L.length;n+=1)D(n);q()}},i(t){if(!T){for(let t=0;t<N.length;t+=1)P(L[t]);T=!0}},o(t){L=L.filter(Boolean);for(let t=0;t<L.length;t+=1)F(L[t]);T=!1},d(t){t&&c(e),t&&c(o),t&&c(i),u(M,t),R&&R.d(),t&&c(S),A&&A.d(t),t&&c(E),u(L,t),t&&c(C)}}}function Cs(t,e,n){var r;const o=S("data");let{item:i}=e;const l=(null!==(r=i.mending_methods)&&void 0!==r?r:[]).map((t=>{var e,n,r;const i="string"==typeof t.requirements?o.byId("requirement",t.requirements):t.requirements;return{mending_method:t,tools:o.flattenRequirement(null!==(e=i.tools)&&void 0!==e?e:[],(t=>t.tools),{expandSubstitutes:!0}),components:o.flattenRequirement(null!==(n=i.components)&&void 0!==n?n:[],(t=>t.components)),qualities:dt(null!==(r=i.qualities)&&void 0!==r?r:[])}}));return t.$$set=t=>{"item"in t&&n(0,i=t.item)},[i,o,l,t=>({...t,item:o.byId("item",t.id)})]}class Ts extends J{constructor(t){super(),z(this,t,Cs,Es,i,{item:0},[-1,-1])}}function ks(t,e,n){const r=t.slice();return r[3]=e[n],r}function Os(t,e,n){const r=t.slice();return r[6]=e[n].name,r[7]=e[n].level,r[9]=n,r}function Is(t){let e;return{c(){e=d("em"),e.textContent="none"},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Ms(t){let e;return{c(){e=f(", ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Rs(t){let e;return{c(){e=f(" and ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function As(t){let e,n,r,o,i,l,s=t[7]+"";function u(t,e){return t[9]===t[0].skill_requirements.length-2?Rs:t[9]!==t[0].skill_requirements.length-1?Ms:void 0}e=new wt({props:{type:"skill",id:t[6]}});let d=u(t),p=d&&d(t);return{c(){G(e.$$.fragment),n=f(" ("),r=f(s),o=f(")"),p&&p.c(),i=h()},m(t,s){W(e,t,s),a(t,n,s),a(t,r,s),a(t,o,s),p&&p.m(t,s),a(t,i,s),l=!0},p(t,n){const o={};1&n&&(o.id=t[6]),e.$set(o),(!l||1&n)&&s!==(s=t[7]+"")&&y(r,s),d!==(d=u(t))&&(p&&p.d(1),p=d&&d(t),p&&(p.c(),p.m(i.parentNode,i)))},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){Y(e,t),t&&c(n),t&&c(r),t&&c(o),p&&p.d(t),t&&c(i)}}}function Ns(t){let e,n,r,o=t[0].stun_dur+"";return{c(){e=d("dt"),e.textContent="Stun Duration",n=d("dd"),r=f(o)},m(t,o){a(t,e,o),a(t,n,o),s(n,r)},p(t,e){1&e&&o!==(o=t[0].stun_dur+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function Ls(t){let e,n,r,o=t[0].down_dur+"";return{c(){e=d("dt"),e.textContent="Down Duration",n=d("dd"),r=f(o)},m(t,o){a(t,e,o),a(t,n,o),s(n,r)},p(t,e){1&e&&o!==(o=t[0].down_dur+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function Ds(t){let e,n,r,o=t[0].knockback_dist+"";return{c(){e=d("dt"),e.textContent="Knockback Distance",n=d("dd"),r=f(o)},m(t,o){a(t,e,o),a(t,n,o),s(n,r)},p(t,e){1&e&&o!==(o=t[0].knockback_dist+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function Bs(t){let e,n,r,o=t[0].weighting+"";return{c(){e=d("dt"),e.textContent="Weighting",n=d("dd"),r=f(o)},m(t,o){a(t,e,o),a(t,n,o),s(n,r)},p(t,e){1&e&&o!==(o=t[0].weighting+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function js(t){let e,n,r,o=t[0].aoe+"";return{c(){e=d("dt"),e.textContent="AoE Shape",n=d("dd"),r=f(o)},m(t,o){a(t,e,o),a(t,n,o),s(n,r)},p(t,e){1&e&&o!==(o=t[0].aoe+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function qs(e){let n,r,o;return r=new wt({props:{type:"item",id:e[3].id}}),{c(){n=d("li"),G(r.$$.fragment)},m(t,e){a(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),Y(r)}}}function Ps(t){let e,n,r,o,i,l,m,g,_,b,$,x,w,S,E,C,T,k,O,I=t[0].name+"",M=t[0].description+"",R=t[0].skill_requirements??[],A=[];for(let e=0;e<R.length;e+=1)A[e]=As(Os(t,R,e));const N=t=>F(A[t],1,1,(()=>{A[t]=null}));let L=null;R.length||(L=Is());let D=t[0].stun_dur&&Ns(t),B=t[0].down_dur&&Ls(t),H=t[0].knockback_dist&&Ds(t),U=t[0].weighting&&Bs(t),G=t[0].aoe&&js(t),W=t[1].length&&function(t){let e,n,r,o,i,l=t[1],f=[];for(let e=0;e<l.length;e+=1)f[e]=qs(ks(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));return{c(){e=d("section"),n=d("h1"),n.textContent="Weapons",r=p(),o=d("ul");for(let t=0;t<f.length;t+=1)f[t].c()},m(t,l){a(t,e,l),s(e,n),s(e,r),s(e,o);for(let t=0;t<f.length;t+=1)f[t].m(o,null);i=!0},p(t,e){if(2&e){let n;for(l=t[1],n=0;n<l.length;n+=1){const r=ks(t,l,n);f[n]?(f[n].p(r,e),P(f[n],1)):(f[n]=qs(r),f[n].c(),P(f[n],1),f[n].m(o,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),u(f,t)}}}(t);return{c(){e=d("h1"),n=f("Technique: "),r=f(I),o=p(),i=d("section"),l=d("dl"),m=d("dt"),m.textContent="Required Skills",g=d("dd");for(let t=0;t<A.length;t+=1)A[t].c();L&&L.c(),_=p(),D&&D.c(),b=h(),B&&B.c(),$=h(),H&&H.c(),x=h(),U&&U.c(),w=h(),G&&G.c(),S=p(),E=d("p"),C=f(M),T=p(),W&&W.c(),k=h(),v(E,"color","var(--cata-color-gray)")},m(t,c){a(t,e,c),s(e,n),s(e,r),a(t,o,c),a(t,i,c),s(i,l),s(l,m),s(l,g);for(let t=0;t<A.length;t+=1)A[t].m(g,null);L&&L.m(g,null),s(g,_),D&&D.m(l,null),s(l,b),B&&B.m(l,null),s(l,$),H&&H.m(l,null),s(l,x),U&&U.m(l,null),s(l,w),G&&G.m(l,null),s(i,S),s(i,E),s(E,C),a(t,T,c),W&&W.m(t,c),a(t,k,c),O=!0},p(t,[e]){if((!O||1&e)&&I!==(I=t[0].name+"")&&y(r,I),1&e){let n;for(R=t[0].skill_requirements??[],n=0;n<R.length;n+=1){const r=Os(t,R,n);A[n]?(A[n].p(r,e),P(A[n],1)):(A[n]=As(r),A[n].c(),P(A[n],1),A[n].m(g,_))}for(j(),n=R.length;n<A.length;n+=1)N(n);q(),R.length?L&&(L.d(1),L=null):L||(L=Is(),L.c(),L.m(g,_))}t[0].stun_dur?D?D.p(t,e):(D=Ns(t),D.c(),D.m(l,b)):D&&(D.d(1),D=null),t[0].down_dur?B?B.p(t,e):(B=Ls(t),B.c(),B.m(l,$)):B&&(B.d(1),B=null),t[0].knockback_dist?H?H.p(t,e):(H=Ds(t),H.c(),H.m(l,x)):H&&(H.d(1),H=null),t[0].weighting?U?U.p(t,e):(U=Bs(t),U.c(),U.m(l,w)):U&&(U.d(1),U=null),t[0].aoe?G?G.p(t,e):(G=js(t),G.c(),G.m(l,null)):G&&(G.d(1),G=null),(!O||1&e)&&M!==(M=t[0].description+"")&&y(C,M),t[1].length&&W.p(t,e)},i(t){if(!O){for(let t=0;t<R.length;t+=1)P(A[t]);P(W),O=!0}},o(t){A=A.filter(Boolean);for(let t=0;t<A.length;t+=1)F(A[t]);F(W),O=!1},d(t){t&&c(e),t&&c(o),t&&c(i),u(A,t),L&&L.d(),D&&D.d(),B&&B.d(),H&&H.d(),U&&U.d(),G&&G.d(),t&&c(T),W&&W.d(t),t&&c(k)}}}function Fs(t,e,n){let{item:r}=e;const o=S("data").byType("item").filter((t=>{var e;return t.id&&(null!==(e=t.techniques)&&void 0!==e?e:[]).includes(r.id)})).sort(((t,e)=>t.id.localeCompare(e.id)));return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r,o]}class Hs extends J{constructor(t){super(),z(this,t,Fs,Ps,i,{item:0})}}function Us(t,e,n){const r=t.slice();return r[7]=e[n].comestible,r[8]=e[n].pct,r}function Gs(t,e,n){const r=t.slice();return r[11]=e[n],r}function Ws(t,e,n){const r=t.slice();return r[11]=e[n],r}function Ys(t){let e,n,r,o,i=t[3],l=[];for(let e=0;e<i.length;e+=1)l[e]=Vs(Ws(t,i,e));return{c(){e=d("dt"),e.textContent="Excess",n=d("dd"),r=d("ul");for(let t=0;t<l.length;t+=1)l[t].c();o=p(),g(r,"class","comma-separated")},m(t,i){a(t,e,i),a(t,n,i),s(n,r);for(let t=0;t<l.length;t+=1)l[t].m(r,null);s(n,o)},p(t,e){if(8&e){let n;for(i=t[3],n=0;n<i.length;n+=1){const o=Ws(t,i,n);l[n]?l[n].p(o,e):(l[n]=Vs(o),l[n].c(),l[n].m(r,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=i.length}},d(t){t&&c(e),t&&c(n),u(l,t)}}}function Vs(e){let n,r,o=tt(e[11])+"";return{c(){n=d("li"),r=f(o)},m(t,e){a(t,n,e),s(n,r)},p:t,d(t){t&&c(n)}}}function zs(t){let e,n,r,o=t[4],i=[];for(let e=0;e<o.length;e+=1)i[e]=Js(Gs(t,o,e));return{c(){e=d("dt"),e.textContent="Deficiency",n=d("dd"),r=d("ul");for(let t=0;t<i.length;t+=1)i[t].c();g(r,"class","comma-separated")},m(t,o){a(t,e,o),a(t,n,o),s(n,r);for(let t=0;t<i.length;t+=1)i[t].m(r,null)},p(t,e){if(16&e){let n;for(o=t[4],n=0;n<o.length;n+=1){const l=Gs(t,o,n);i[n]?i[n].p(l,e):(i[n]=Js(l),i[n].c(),i[n].m(r,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}},d(t){t&&c(e),t&&c(n),u(i,t)}}}function Js(e){let n,r,o=tt(e[11])+"";return{c(){n=d("li"),r=f(o)},m(t,e){a(t,n,e),s(n,r)},p:t,d(t){t&&c(n)}}}function Ks(t){let e,n,r,o,i,l,u=t[8]+"";return n=new wt({props:{id:t[7].id,type:"item"}}),{c(){e=d("li"),G(n.$$.fragment),r=f(" ("),o=f(u),i=f("% RDA)")},m(t,c){a(t,e,c),W(n,e,null),s(e,r),s(e,o),s(e,i),l=!0},p(t,e){const r={};2&e&&(r.id=t[7].id),n.$set(r),(!l||2&e)&&u!==(u=t[8]+"")&&y(o,u)},i(t){l||(P(n.$$.fragment,t),l=!0)},o(t){F(n.$$.fragment,t),l=!1},d(t){t&&c(e),Y(n)}}}function Xs(e){let n,r,o;return{c(){n=d("button"),n.textContent="See all...",g(n,"class","disclosure")},m(t,i){a(t,n,i),r||(o=m(n,"click",e[5]),r=!0)},p:t,d(t){t&&c(n),r=!1,o()}}}function Qs(t){let e,n,r,o,i,l,m,g,_,v,b,$,x,w,S,E,C,T,k,O,I,M,R,A,N,L,D=et(t[0])+"",B=t[0].vit_type+"",H=(t[0].min??0)+"",U=(t[0].max??0)+"",G=(t[0].rate??"0 m")+"",W=t[0].excess&&Ys(t),Y=t[0].deficiency&&zs(t),V=t[2].slice(0,t[1]),z=[];for(let e=0;e<V.length;e+=1)z[e]=Ks(Us(t,V,e));const J=t=>F(z[t],1,1,(()=>{z[t]=null}));let K=t[2].length>t[1]&&Xs(t);return{c(){e=d("h1"),n=f("Vitamin: "),r=f(D),o=p(),i=d("section"),l=d("dl"),m=d("dt"),m.textContent="Type",g=d("dd"),_=f(B),W&&W.c(),v=h(),Y&&Y.c(),b=d("dt"),b.textContent="Min",$=d("dd"),x=f(H),w=d("dt"),w.textContent="Max",S=d("dd"),E=f(U),C=d("dt"),C.textContent="Rate",T=d("dd"),k=f(G),O=p(),I=d("section"),M=d("h1"),M.textContent="Comestibles",R=p(),A=d("ul");for(let t=0;t<z.length;t+=1)z[t].c();N=p(),K&&K.c()},m(t,c){a(t,e,c),s(e,n),s(e,r),a(t,o,c),a(t,i,c),s(i,l),s(l,m),s(l,g),s(g,_),W&&W.m(l,null),s(l,v),Y&&Y.m(l,null),s(l,b),s(l,$),s($,x),s(l,w),s(l,S),s(S,E),s(l,C),s(l,T),s(T,k),a(t,O,c),a(t,I,c),s(I,M),s(I,R),s(I,A);for(let t=0;t<z.length;t+=1)z[t].m(A,null);s(I,N),K&&K.m(I,null),L=!0},p(t,[e]){if((!L||1&e)&&D!==(D=et(t[0])+"")&&y(r,D),(!L||1&e)&&B!==(B=t[0].vit_type+"")&&y(_,B),t[0].excess?W?W.p(t,e):(W=Ys(t),W.c(),W.m(l,v)):W&&(W.d(1),W=null),t[0].deficiency?Y?Y.p(t,e):(Y=zs(t),Y.c(),Y.m(l,b)):Y&&(Y.d(1),Y=null),(!L||1&e)&&H!==(H=(t[0].min??0)+"")&&y(x,H),(!L||1&e)&&U!==(U=(t[0].max??0)+"")&&y(E,U),(!L||1&e)&&G!==(G=(t[0].rate??"0 m")+"")&&y(k,G),6&e){let n;for(V=t[2].slice(0,t[1]),n=0;n<V.length;n+=1){const r=Us(t,V,n);z[n]?(z[n].p(r,e),P(z[n],1)):(z[n]=Ks(r),z[n].c(),P(z[n],1),z[n].m(A,null))}for(j(),n=V.length;n<z.length;n+=1)J(n);q()}t[2].length>t[1]?K?K.p(t,e):(K=Xs(t),K.c(),K.m(I,null)):K&&(K.d(1),K=null)},i(t){if(!L){for(let t=0;t<V.length;t+=1)P(z[t]);L=!0}},o(t){z=z.filter(Boolean);for(let t=0;t<z.length;t+=1)F(z[t]);L=!1},d(t){t&&c(e),t&&c(o),t&&c(i),W&&W.d(),Y&&Y.d(),t&&c(O),t&&c(I),u(z,t),K&&K.d()}}}function Zs(t,e,n){let{item:r}=e;const o=S("data"),i=o.byType("item").filter((t=>{var e;return"COMESTIBLE"===t.type&&t.id&&(null!==(e=t.vitamins)&&void 0!==e?e:[]).some((t=>t[0]===r.id))})).map((t=>({comestible:t,pct:t.vitamins.find((t=>t[0]===r.id))[1]})));i.sort(((t,e)=>e.pct-t.pct));const l=r.excess?o.byId("effect_type",r.excess).name:[],s=r.deficiency?o.byId("effect_type",r.deficiency).name:[];let a=10;return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r,a,i,l,s,t=>{t.preventDefault(),n(1,a=1/0)}]}class ta extends J{constructor(t){super(),z(this,t,Zs,Qs,i,{item:0})}}function ea(t,e,n){const r=t.slice();return r[3]=e[n][0],r[4]=e[n][1],r[6]=n,r}function na(t,e,n){const r=t.slice();return r[3]=e[n][0],r[4]=e[n][1],r[6]=n,r}function ra(t,e,n){const r=t.slice();return r[3]=e[n][0],r[4]=e[n][1],r[6]=n,r}function oa(t,e,n){const r=t.slice();return r[9]=e[n],r}function ia(t,e,n){const r=t.slice();return r[12]=e[n].id,r[13]=e[n].count,r[14]=e[n].prob,r}function la(t,e,n){const r=t.slice();return r[17]=e[n][0],r[4]=e[n][1],r}function sa(t){let e,n,r,o;return r=new wt({props:{type:"item",id:t[0].fuel_type}}),{c(){e=d("dt"),e.textContent="Charge",n=d("dd"),G(r.$$.fragment)},m(t,i){a(t,e,i),a(t,n,i),W(r,n,null),o=!0},p(t,e){const n={};1&e&&(n.id=t[0].fuel_type),r.$set(n)},i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(e),t&&c(n),Y(r)}}}function aa(t){let e,n,r,o=lt(t[0].folded_volume)+"";return{c(){e=d("dt"),e.textContent="Folded Volume",n=d("dd"),r=f(o)},m(t,o){a(t,e,o),a(t,n,o),s(n,r)},p(t,e){1&e&&o!==(o=lt(t[0].folded_volume)+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function ca(t){let e,n,r,o,i,l=t[0].qualities,f=[];for(let e=0;e<l.length;e+=1)f[e]=ua(la(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));return{c(){e=d("dt"),e.textContent="Qualities",n=d("dd"),r=d("ul");for(let t=0;t<f.length;t+=1)f[t].c();o=p(),g(r,"class","no-bullets")},m(t,l){a(t,e,l),a(t,n,l),s(n,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null);s(n,o),i=!0},p(t,e){if(1&e){let n;for(l=t[0].qualities,n=0;n<l.length;n+=1){const o=la(t,l,n);f[n]?(f[n].p(o,e),P(f[n],1)):(f[n]=ua(o),f[n].c(),P(f[n],1),f[n].m(r,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),t&&c(n),u(f,t)}}}function ua(t){let e,n,r,o,i,l,u,h,m=(t[4]??1)+"";return l=new wt({props:{type:"tool_quality",id:t[17]}}),{c(){e=d("li"),n=f("Has level "),r=d("strong"),o=f(m),i=p(),G(l.$$.fragment),u=f(" quality.")},m(t,c){a(t,e,c),s(e,n),s(e,r),s(r,o),s(r,i),W(l,r,null),s(e,u),h=!0},p(t,e){(!h||1&e)&&m!==(m=(t[4]??1)+"")&&y(o,m);const n={};1&e&&(n.id=t[17]),l.$set(n)},i(t){h||(P(l.$$.fragment,t),h=!0)},o(t){F(l.$$.fragment,t),h=!1},d(t){t&&c(e),Y(l)}}}function da(t){let e,n,r,o=t[0].comfort+"";return{c(){e=d("dt"),e.textContent="Comfort",n=d("dd"),r=f(o)},m(t,o){a(t,e,o),a(t,n,o),s(n,r)},p(t,e){1&e&&o!==(o=t[0].comfort+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function fa(t){let e,n,r,o=t[0].floor_bedding_warmth+"";return{c(){e=d("dt"),e.textContent="Bedding Warmth",n=d("dd"),r=f(o)},m(t,o){a(t,e,o),a(t,n,o),s(n,r)},p(t,e){1&e&&o!==(o=t[0].floor_bedding_warmth+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function pa(t){let e,n,r,o=t[0].epower+"";return{c(){e=d("dt"),e.textContent="Electric Power",n=d("dd"),r=f(o)},m(t,o){a(t,e,o),a(t,n,o),s(n,r)},p(t,e){1&e&&o!==(o=t[0].epower+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function ha(t){let e,n,r,o=-t[0].energy_consumption+"";return{c(){e=d("dt"),e.textContent="Drain",n=d("dd"),r=f(o)},m(t,o){a(t,e,o),a(t,n,o),s(n,r)},p(t,e){1&e&&o!==(o=-t[0].energy_consumption+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function ma(t){let e,n,r,o,i,l=t[0].power+"",u=t[0].muscle_power_factor&&ga(t);return{c(){e=d("dt"),e.textContent="Power",n=d("dd"),r=f(l),o=p(),u&&u.c(),i=p()},m(t,l){a(t,e,l),a(t,n,l),s(n,r),s(n,o),u&&u.m(n,null),s(n,i)},p(t,e){1&e&&l!==(l=t[0].power+"")&&y(r,l),t[0].muscle_power_factor?u?u.p(t,e):(u=ga(t),u.c(),u.m(n,i)):u&&(u.d(1),u=null)},d(t){t&&c(e),t&&c(n),u&&u.d()}}}function ga(t){let e,n,r=t[0].muscle_power_factor+"";return{c(){e=f("+ (str âˆ’ 8) Ã— "),n=f(r)},m(t,r){a(t,e,r),a(t,n,r)},p(t,e){1&e&&r!==(r=t[0].muscle_power_factor+"")&&y(n,r)},d(t){t&&c(e),t&&c(n)}}}function ya(t){let e,n,r,o,i=Da(t[0])+"",l=t[0].bonus+"";return{c(){e=d("dt"),n=f(i),r=d("dd"),o=f(l)},m(t,i){a(t,e,i),s(e,n),a(t,r,i),s(r,o)},p(t,e){1&e&&i!==(i=Da(t[0])+"")&&y(n,i),1&e&&l!==(l=t[0].bonus+"")&&y(o,l)},d(t){t&&c(e),t&&c(r)}}}function _a(e){let n,r,o;r=new wt({props:{id:e[12],count:e[13],type:"item"}});let i=1!==e[14]&&function(e){let n,r,o,i=function(t){const e=(100*t).toFixed(2);return"0.00"===e?"< 0.01%":e+"%"}(e[14])+"";return{c(){n=f("("),r=f(i),o=f(")")},m(t,e){a(t,n,e),a(t,r,e),a(t,o,e)},p:t,d(t){t&&c(n),t&&c(r),t&&c(o)}}}(e);return{c(){n=d("li"),G(r.$$.fragment),i&&i.c()},m(t,e){a(t,n,e),W(r,n,null),i&&i.m(n,null),o=!0},p(t,e){1!==t[14]&&i.p(t,e)},i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),Y(r),i&&i.d()}}}function va(t){let e;return{c(){e=d("em"),e.textContent="none"},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function ba(t){let e,n,r;return n=new wt({props:{type:"json_flag",id:t[9]}}),{c(){e=d("li"),G(n.$$.fragment)},m(t,o){a(t,e,o),W(n,e,null),r=!0},p(t,e){const r={};1&e&&(r.id=t[9]),n.$set(r)},i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){t&&c(e),Y(n)}}}function $a(t){let e;return{c(){e=f("none")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function xa(t){let e;return{c(){e=f(", ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function wa(t){let e;return{c(){e=f(" and ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Sa(t){let e,n,r,o,i,l,s=t[4]+"";function u(t,e){return t[6]===t[0].requirements.install.skills.length-2?wa:t[6]!==t[0].requirements.install.skills.length-1?xa:void 0}e=new wt({props:{type:"skill",id:t[3]}});let d=u(t),p=d&&d(t);return{c(){G(e.$$.fragment),n=f(" ("),r=f(s),o=f(")"),p&&p.c(),i=h()},m(t,s){W(e,t,s),a(t,n,s),a(t,r,s),a(t,o,s),p&&p.m(t,s),a(t,i,s),l=!0},p(t,n){const o={};1&n&&(o.id=t[3]),e.$set(o),(!l||1&n)&&s!==(s=t[4]+"")&&y(r,s),d!==(d=u(t))&&(p&&p.d(1),p=d&&d(t),p&&(p.c(),p.m(i.parentNode,i)))},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){Y(e,t),t&&c(n),t&&c(r),t&&c(o),p&&p.d(t),t&&c(i)}}}function Ea(t){let e;return{c(){e=f("none")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Ca(t){let e;return{c(){e=f(", ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Ta(t){let e;return{c(){e=f(" and ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function ka(t){let e,n,r,o,i,l,s=t[4]+"";function u(t,e){return t[6]===t[0].requirements.removal.skills.length-2?Ta:t[6]!==t[0].requirements.removal.skills.length-1?Ca:void 0}e=new wt({props:{type:"skill",id:t[3]}});let d=u(t),p=d&&d(t);return{c(){G(e.$$.fragment),n=f(" ("),r=f(s),o=f(")"),p&&p.c(),i=h()},m(t,s){W(e,t,s),a(t,n,s),a(t,r,s),a(t,o,s),p&&p.m(t,s),a(t,i,s),l=!0},p(t,n){const o={};1&n&&(o.id=t[3]),e.$set(o),(!l||1&n)&&s!==(s=t[4]+"")&&y(r,s),d!==(d=u(t))&&(p&&p.d(1),p=d&&d(t),p&&(p.c(),p.m(i.parentNode,i)))},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){Y(e,t),t&&c(n),t&&c(r),t&&c(o),p&&p.d(t),t&&c(i)}}}function Oa(t){let e,n;return e=new Nr({props:{requirement:t[0].requirements.removal}}),{c(){G(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.requirement=t[0].requirements.removal),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function Ia(t){let e,n,r,o,i,l,h,m,_,b,$,x,w,S,E=(t[0].requirements?.repair?.time??"1 hour")+"",C=t[0].requirements.repair?.skills??[],T=[];for(let e=0;e<C.length;e+=1)T[e]=Na(ea(t,C,e));const k=t=>F(T[t],1,1,(()=>{T[t]=null}));let O=null;return C.length||(O=Ma()),$=new Nr({props:{requirement:t[0].requirements.repair}}),{c(){e=d("section"),n=d("h1"),n.textContent="Repair",r=p(),o=d("dl"),i=d("dt"),i.textContent="Skills Required",l=d("dd");for(let t=0;t<T.length;t+=1)T[t].c();O&&O.c(),h=p(),m=d("dt"),m.textContent="Time",_=d("dd"),b=f(E),G($.$$.fragment),x=p(),w=d("p"),w.textContent="Repair time and requirements are lower for parts that are less damaged.",g(m,"title","Time required goes down with better skills"),v(w,"color","var(--cata-color-gray)"),v(w,"font-style","italic")},m(t,c){a(t,e,c),s(e,n),s(e,r),s(e,o),s(o,i),s(o,l);for(let t=0;t<T.length;t+=1)T[t].m(l,null);O&&O.m(l,null),s(l,h),s(o,m),s(o,_),s(_,b),W($,o,null),s(e,x),s(e,w),S=!0},p(t,e){if(1&e){let n;for(C=t[0].requirements.repair?.skills??[],n=0;n<C.length;n+=1){const r=ea(t,C,n);T[n]?(T[n].p(r,e),P(T[n],1)):(T[n]=Na(r),T[n].c(),P(T[n],1),T[n].m(l,h))}for(j(),n=C.length;n<T.length;n+=1)k(n);q(),C.length?O&&(O.d(1),O=null):O||(O=Ma(),O.c(),O.m(l,h))}(!S||1&e)&&E!==(E=(t[0].requirements?.repair?.time??"1 hour")+"")&&y(b,E);const n={};1&e&&(n.requirement=t[0].requirements.repair),$.$set(n)},i(t){if(!S){for(let t=0;t<C.length;t+=1)P(T[t]);P($.$$.fragment,t),S=!0}},o(t){T=T.filter(Boolean);for(let t=0;t<T.length;t+=1)F(T[t]);F($.$$.fragment,t),S=!1},d(t){t&&c(e),u(T,t),O&&O.d(),Y($)}}}function Ma(t){let e;return{c(){e=f("none")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Ra(t){let e;return{c(){e=f(", ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Aa(t){let e;return{c(){e=f(" and ")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Na(t){let e,n,r,o,i,l,s=t[4]+"";function u(t,e){return t[6]===t[0].requirements.repair.skills.length-2?Aa:t[6]!==t[0].requirements.repair.skills.length-1?Ra:void 0}e=new wt({props:{type:"skill",id:t[3]}});let d=u(t),p=d&&d(t);return{c(){G(e.$$.fragment),n=f(" ("),r=f(s),o=f(")"),p&&p.c(),i=h()},m(t,s){W(e,t,s),a(t,n,s),a(t,r,s),a(t,o,s),p&&p.m(t,s),a(t,i,s),l=!0},p(t,n){const o={};1&n&&(o.id=t[3]),e.$set(o),(!l||1&n)&&s!==(s=t[4]+"")&&y(r,s),d!==(d=u(t))&&(p&&p.d(1),p=d&&d(t),p&&(p.c(),p.m(i.parentNode,i)))},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){Y(e,t),t&&c(n),t&&c(r),t&&c(o),p&&p.d(t),t&&c(i)}}}function La(t){let e,n,r,o,i,l,m,_,b,$,x,w,S,E,C,T,k,O,I,M,R,A,N,L,D,B,H,U,V,z,J,K,X,Q,Z,nt,rt,ot,it,lt,at,ct,ut,dt,ft,pt,ht,mt,gt,yt,_t,vt,bt,$t,xt,St,Et,Ct,Tt,kt,Ot=(t[0].name?et(t[0]):et(t[1].byId("item",t[0].item)))+"",It=st(t[1].byId("item",t[0].item).weight)+"",Mt=(t[0].durability??0)+"",Rt=(t[0].damage_modifier??100)+"",At=t[0].bonus&&Da(t[0]),Nt=tt(t[0].description??t[1].byId("item",t[0].item).description)+"",Lt=(t[0].requirements?.install?.time??"1 hour")+"",Dt=(t[0].requirements?.removal?.time??ja(Ba(t[0].requirements?.install?.time??"1 hour")/2+" s"))+"";$=new wt({props:{id:t[0].item,type:"item"}});let Bt=t[0].fuel_type&&sa(t),jt=t[0].folded_volume&&aa(t),qt=t[0].qualities?.length&&ca(t),Pt=t[0].comfort&&da(t),Ft=t[0].floor_bedding_warmth&&fa(t),Ht=t[0].epower&&pa(t),Ut=t[0].energy_consumption&&ha(t),Gt=t[0].power&&ma(t),Wt=At&&ya(t),Yt=t[2]&&function(t){let e,n,r,o,i,l=t[1].flattenItemGroup(t[2]),f=[];for(let e=0;e<l.length;e+=1)f[e]=_a(ia(t,l,e));const h=t=>F(f[t],1,1,(()=>{f[t]=null}));return{c(){e=d("dt"),e.textContent="Breaks Into",n=d("dd"),r=d("ul");for(let t=0;t<f.length;t+=1)f[t].c();o=p(),g(r,"class","comma-separated")},m(t,l){a(t,e,l),a(t,n,l),s(n,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null);s(n,o),i=!0},p(t,e){if(6&e){let n;for(l=t[1].flattenItemGroup(t[2]),n=0;n<l.length;n+=1){const o=ia(t,l,n);f[n]?(f[n].p(o,e),P(f[n],1)):(f[n]=_a(o),f[n].c(),P(f[n],1),f[n].m(r,null))}for(j(),n=l.length;n<f.length;n+=1)h(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(f[t]);i=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);i=!1},d(t){t&&c(e),t&&c(n),u(f,t)}}}(t),Vt=t[0].flags??[],zt=[];for(let e=0;e<Vt.length;e+=1)zt[e]=ba(oa(t,Vt,e));const Jt=t=>F(zt[t],1,1,(()=>{zt[t]=null}));let Kt=null;Vt.length||(Kt=va());let Xt=t[0].requirements?.install?.skills??[],Qt=[];for(let e=0;e<Xt.length;e+=1)Qt[e]=Sa(ra(t,Xt,e));const Zt=t=>F(Qt[t],1,1,(()=>{Qt[t]=null}));let te=null;Xt.length||(te=$a()),pt=new Nr({props:{requirement:{...t[0].requirements?.install??{},components:(t[0].requirements?.install?.components??[]).concat([[[t[0].item,1]]])}}});let ee=t[0].requirements?.removal?.skills??[],ne=[];for(let e=0;e<ee.length;e+=1)ne[e]=ka(na(t,ee,e));const re=t=>F(ne[t],1,1,(()=>{ne[t]=null}));let oe=null;ee.length||(oe=Ea());let ie=t[0].requirements?.removal&&Oa(t),le=t[0].requirements?.repair&&Ia(t);return{c(){e=d("h1"),n=f(Ot),r=p(),o=d("section"),i=d("h1"),i.textContent="Vehicle Part",l=p(),m=d("dl"),_=d("dt"),_.textContent="Item",b=d("dd"),G($.$$.fragment),x=d("dt"),x.textContent="Weight",w=d("dd"),S=f(It),Bt&&Bt.c(),E=d("dt"),E.textContent="Durability",C=d("dd"),T=f(Mt),jt&&jt.c(),k=h(),qt&&qt.c(),O=h(),Pt&&Pt.c(),I=h(),Ft&&Ft.c(),M=d("dt"),M.textContent="Damage",R=d("dd"),A=f(Rt),N=f("%"),Ht&&Ht.c(),L=h(),Ut&&Ut.c(),D=h(),Gt&&Gt.c(),B=h(),Wt&&Wt.c(),H=h(),Yt&&Yt.c(),U=d("dt"),U.textContent="Flags",V=d("dd"),z=d("ul");for(let t=0;t<zt.length;t+=1)zt[t].c();Kt&&Kt.c(),J=p(),K=d("p"),X=f(Nt),Q=p(),Z=d("div"),nt=d("section"),rt=d("h1"),rt.textContent="Install",ot=p(),it=d("dl"),lt=d("dt"),lt.textContent="Skills Required",at=d("dd");for(let t=0;t<Qt.length;t+=1)Qt[t].c();te&&te.c(),ct=p(),ut=d("dt"),ut.textContent="Time",dt=d("dd"),ft=f(Lt),G(pt.$$.fragment),ht=p(),mt=d("section"),gt=d("h1"),gt.textContent="Remove",yt=p(),_t=d("dl"),vt=d("dt"),vt.textContent="Skills Required",bt=d("dd");for(let t=0;t<ne.length;t+=1)ne[t].c();oe&&oe.c(),$t=p(),xt=d("dt"),xt.textContent="Time",St=d("dd"),Et=f(Dt),ie&&ie.c(),Ct=p(),le&&le.c(),Tt=h(),g(E,"title","Maximum damage part can sustain before being destroyed"),g(z,"class","comma-separated"),v(K,"color","var(--cata-color-gray)"),g(ut,"title","Time required goes down with better skills"),g(xt,"title","Time required goes down with better skills"),g(Z,"class","side-by-side")},m(t,c){a(t,e,c),s(e,n),a(t,r,c),a(t,o,c),s(o,i),s(o,l),s(o,m),s(m,_),s(m,b),W($,b,null),s(m,x),s(m,w),s(w,S),Bt&&Bt.m(m,null),s(m,E),s(m,C),s(C,T),jt&&jt.m(m,null),s(m,k),qt&&qt.m(m,null),s(m,O),Pt&&Pt.m(m,null),s(m,I),Ft&&Ft.m(m,null),s(m,M),s(m,R),s(R,A),s(R,N),Ht&&Ht.m(m,null),s(m,L),Ut&&Ut.m(m,null),s(m,D),Gt&&Gt.m(m,null),s(m,B),Wt&&Wt.m(m,null),s(m,H),Yt&&Yt.m(m,null),s(m,U),s(m,V),s(V,z);for(let t=0;t<zt.length;t+=1)zt[t].m(z,null);Kt&&Kt.m(z,null),s(o,J),s(o,K),s(K,X),a(t,Q,c),a(t,Z,c),s(Z,nt),s(nt,rt),s(nt,ot),s(nt,it),s(it,lt),s(it,at);for(let t=0;t<Qt.length;t+=1)Qt[t].m(at,null);te&&te.m(at,null),s(at,ct),s(it,ut),s(it,dt),s(dt,ft),W(pt,it,null),s(Z,ht),s(Z,mt),s(mt,gt),s(mt,yt),s(mt,_t),s(_t,vt),s(_t,bt);for(let t=0;t<ne.length;t+=1)ne[t].m(bt,null);oe&&oe.m(bt,null),s(bt,$t),s(_t,xt),s(_t,St),s(St,Et),ie&&ie.m(_t,null),a(t,Ct,c),le&&le.m(t,c),a(t,Tt,c),kt=!0},p(t,[e]){(!kt||1&e)&&Ot!==(Ot=(t[0].name?et(t[0]):et(t[1].byId("item",t[0].item)))+"")&&y(n,Ot);const r={};if(1&e&&(r.id=t[0].item),$.$set(r),(!kt||1&e)&&It!==(It=st(t[1].byId("item",t[0].item).weight)+"")&&y(S,It),t[0].fuel_type?Bt?(Bt.p(t,e),1&e&&P(Bt,1)):(Bt=sa(t),Bt.c(),P(Bt,1),Bt.m(m,E)):Bt&&(j(),F(Bt,1,1,(()=>{Bt=null})),q()),(!kt||1&e)&&Mt!==(Mt=(t[0].durability??0)+"")&&y(T,Mt),t[0].folded_volume?jt?jt.p(t,e):(jt=aa(t),jt.c(),jt.m(m,k)):jt&&(jt.d(1),jt=null),t[0].qualities?.length?qt?(qt.p(t,e),1&e&&P(qt,1)):(qt=ca(t),qt.c(),P(qt,1),qt.m(m,O)):qt&&(j(),F(qt,1,1,(()=>{qt=null})),q()),t[0].comfort?Pt?Pt.p(t,e):(Pt=da(t),Pt.c(),Pt.m(m,I)):Pt&&(Pt.d(1),Pt=null),t[0].floor_bedding_warmth?Ft?Ft.p(t,e):(Ft=fa(t),Ft.c(),Ft.m(m,M)):Ft&&(Ft.d(1),Ft=null),(!kt||1&e)&&Rt!==(Rt=(t[0].damage_modifier??100)+"")&&y(A,Rt),t[0].epower?Ht?Ht.p(t,e):(Ht=pa(t),Ht.c(),Ht.m(m,L)):Ht&&(Ht.d(1),Ht=null),t[0].energy_consumption?Ut?Ut.p(t,e):(Ut=ha(t),Ut.c(),Ut.m(m,D)):Ut&&(Ut.d(1),Ut=null),t[0].power?Gt?Gt.p(t,e):(Gt=ma(t),Gt.c(),Gt.m(m,B)):Gt&&(Gt.d(1),Gt=null),1&e&&(At=t[0].bonus&&Da(t[0])),At?Wt?Wt.p(t,e):(Wt=ya(t),Wt.c(),Wt.m(m,H)):Wt&&(Wt.d(1),Wt=null),t[2]&&Yt.p(t,e),1&e){let n;for(Vt=t[0].flags??[],n=0;n<Vt.length;n+=1){const r=oa(t,Vt,n);zt[n]?(zt[n].p(r,e),P(zt[n],1)):(zt[n]=ba(r),zt[n].c(),P(zt[n],1),zt[n].m(z,null))}for(j(),n=Vt.length;n<zt.length;n+=1)Jt(n);q(),Vt.length?Kt&&(Kt.d(1),Kt=null):Kt||(Kt=va(),Kt.c(),Kt.m(z,null))}if((!kt||1&e)&&Nt!==(Nt=tt(t[0].description??t[1].byId("item",t[0].item).description)+"")&&y(X,Nt),1&e){let n;for(Xt=t[0].requirements?.install?.skills??[],n=0;n<Xt.length;n+=1){const r=ra(t,Xt,n);Qt[n]?(Qt[n].p(r,e),P(Qt[n],1)):(Qt[n]=Sa(r),Qt[n].c(),P(Qt[n],1),Qt[n].m(at,ct))}for(j(),n=Xt.length;n<Qt.length;n+=1)Zt(n);q(),Xt.length?te&&(te.d(1),te=null):te||(te=$a(),te.c(),te.m(at,ct))}(!kt||1&e)&&Lt!==(Lt=(t[0].requirements?.install?.time??"1 hour")+"")&&y(ft,Lt);const o={};if(1&e&&(o.requirement={...t[0].requirements?.install??{},components:(t[0].requirements?.install?.components??[]).concat([[[t[0].item,1]]])}),pt.$set(o),1&e){let n;for(ee=t[0].requirements?.removal?.skills??[],n=0;n<ee.length;n+=1){const r=na(t,ee,n);ne[n]?(ne[n].p(r,e),P(ne[n],1)):(ne[n]=ka(r),ne[n].c(),P(ne[n],1),ne[n].m(bt,$t))}for(j(),n=ee.length;n<ne.length;n+=1)re(n);q(),ee.length?oe&&(oe.d(1),oe=null):oe||(oe=Ea(),oe.c(),oe.m(bt,$t))}(!kt||1&e)&&Dt!==(Dt=(t[0].requirements?.removal?.time??ja(Ba(t[0].requirements?.install?.time??"1 hour")/2+" s"))+"")&&y(Et,Dt),t[0].requirements?.removal?ie?(ie.p(t,e),1&e&&P(ie,1)):(ie=Oa(t),ie.c(),P(ie,1),ie.m(_t,null)):ie&&(j(),F(ie,1,1,(()=>{ie=null})),q()),t[0].requirements?.repair?le?(le.p(t,e),1&e&&P(le,1)):(le=Ia(t),le.c(),P(le,1),le.m(Tt.parentNode,Tt)):le&&(j(),F(le,1,1,(()=>{le=null})),q())},i(t){if(!kt){P($.$$.fragment,t),P(Bt),P(qt),P(Yt);for(let t=0;t<Vt.length;t+=1)P(zt[t]);for(let t=0;t<Xt.length;t+=1)P(Qt[t]);P(pt.$$.fragment,t);for(let t=0;t<ee.length;t+=1)P(ne[t]);P(ie),P(le),kt=!0}},o(t){F($.$$.fragment,t),F(Bt),F(qt),F(Yt),zt=zt.filter(Boolean);for(let t=0;t<zt.length;t+=1)F(zt[t]);Qt=Qt.filter(Boolean);for(let t=0;t<Qt.length;t+=1)F(Qt[t]);F(pt.$$.fragment,t),ne=ne.filter(Boolean);for(let t=0;t<ne.length;t+=1)F(ne[t]);F(ie),F(le),kt=!1},d(t){t&&c(e),t&&c(r),t&&c(o),Y($),Bt&&Bt.d(),jt&&jt.d(),qt&&qt.d(),Pt&&Pt.d(),Ft&&Ft.d(),Ht&&Ht.d(),Ut&&Ut.d(),Gt&&Gt.d(),Wt&&Wt.d(),Yt&&Yt.d(),u(zt,t),Kt&&Kt.d(),t&&c(Q),t&&c(Z),u(Qt,t),te&&te.d(),Y(pt),u(ne,t),oe&&oe.d(),ie&&ie.d(),t&&c(Ct),le&&le.d(t),t&&c(Tt)}}}function Da(t){var e;const n=null!==(e=t.flags)&&void 0!==e?e:[];return n.includes("SEATBELT")?"Strength":n.includes("HORN")?"Noise":n.includes("MUFFLER")?"Noise Reduction":n.includes("VISION")?"Range":["LIGHT","CONE_LIGHT","WIDE_CONE_LIGHT","CIRCLE_LIGHT","DOME_LIGHT","AISLE_LIGHT","EVENTURN","ODDTURN","ATOMIC_LIGHT"].some((t=>n.includes(t)))?"Light":n.includes("REAPER")?"Plant Harvested":void 0}function Ba(t){if("number"==typeof t)return t/100;const e=[["turns",1],["turn",1],["t",1],["seconds",1],["second",1],["s",1],["minutes",60],["minute",60],["m",60],["hours",3600],["hour",3600],["h",3600],["days",86400],["day",86400],["d",86400]],[n,r]=t.trim().split(/\s+/),o=e.find((t=>t[0]===r));if(!o)throw new Error(`bad duration: ${JSON.stringify(t)}`);return Number(n)*o[1]}function ja(t){const e=Ba(t);return`${Math.round(e/60)} m`}function qa(t,e,n){let{item:r}=e;const o=S("data"),i="string"==typeof r.breaks_into?o.byId("item_group",r.breaks_into):Array.isArray(r.breaks_into)?{subtype:"collection",entries:r.breaks_into}:r.breaks_into?r.breaks_into:null;return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r,o,i]}class Pa extends J{constructor(t){super(),z(this,t,qa,La,i,{item:0})}}function Fa(t){let e,n,r,o,i,l,u,h,m=JSON.stringify(t[1],null,2)+"";var g=t[2][t[1].type]??gi;function _(t){return{props:{item:t[1]}}}return g&&(e=new g(_(t))),{c(){e&&G(e.$$.fragment),n=p(),r=d("details"),o=d("summary"),o.textContent="Raw JSON",i=p(),l=d("pre"),u=f(m)},m(t,c){e&&W(e,t,c),a(t,n,c),a(t,r,c),s(r,o),s(r,i),s(r,l),s(l,u),h=!0},p(t,r){const o={};if(2&r&&(o.item=t[1]),g!==(g=t[2][t[1].type]??gi)){if(e){j();const t=e;F(t.$$.fragment,1,0,(()=>{Y(t,1)})),q()}g?(e=new g(_(t)),G(e.$$.fragment),P(e.$$.fragment,1),W(e,n.parentNode,n)):e=null}else g&&e.$set(o);(!h||2&r)&&m!==(m=JSON.stringify(t[1],null,2)+"")&&y(u,m)},i(t){h||(e&&P(e.$$.fragment,t),h=!0)},o(t){e&&F(e.$$.fragment,t),h=!1},d(t){e&&Y(e,t),t&&c(n),t&&c(r)}}}function Ha(e){let n,r,o,i,l=e[0].type+"",s=e[0].id+"";return{c(){n=f("Unknown obj: "),r=f(l),o=f("/"),i=f(s)},m(t,e){a(t,n,e),a(t,r,e),a(t,o,e),a(t,i,e)},p(t,e){1&e&&l!==(l=t[0].type+"")&&y(r,l),1&e&&s!==(s=t[0].id+"")&&y(i,s)},i:t,o:t,d(t){t&&c(n),t&&c(r),t&&c(o),t&&c(i)}}}function Ua(t){let e,n,r,o;const i=[Ha,Fa],l=[];function s(t,e){return t[1]?1:0}return e=s(t),n=l[e]=i[e](t),{c(){n.c(),r=h()},m(t,n){l[e].m(t,n),a(t,r,n),o=!0},p(t,[o]){let a=e;e=s(t),e===a?l[e].p(t,o):(j(),F(l[a],1,1,(()=>{l[a]=null})),q(),n=l[e],n?n.p(t,o):(n=l[e]=i[e](t),n.c()),P(n,1),n.m(r.parentNode,r))},i(t){o||(P(n),o=!0)},o(t){F(n),o=!1},d(t){l[e].d(t),t&&c(r)}}}function Ga(t,e,n){var r;let o,{item:i}=e,{data:l}=e;w("data",l);const s={MONSTER:se,AMMO:pi,GUN:pi,ARMOR:pi,PET_ARMOR:pi,TOOL:pi,TOOLMOD:pi,TOOL_ARMOR:pi,BOOK:pi,COMESTIBLE:pi,ENGINE:pi,WHEEL:pi,GUNMOD:pi,MAGAZINE:pi,BATTERY:pi,GENERIC:pi,BIONIC_ITEM:pi,material:$i,ammunition_type:Ti,tool_quality:Wi,furniture:Nl,skill:Bl,proficiency:Ul,json_flag:Zl,fault:Ts,technique:Hs,vitamin:ta,vehicle_part:Pa};return t.$$set=t=>{"item"in t&&n(0,i=t.item),"data"in t&&n(3,l=t.data)},t.$$.update=()=>{var e,s;25&t.$$.dirty&&n(1,o=null!==n(4,r=l.byId(i.type,i.id))&&void 0!==r?r:(e=i.id,"json_flag"===(s=i.type)?{id:e,type:s}:null))},[i,o,s,l,r]}class Wa extends J{constructor(t){super(),z(this,t,Ga,Ua,i,{item:0,data:3})}}function Ya(t){return Array.isArray?Array.isArray(t):"[object Array]"===Za(t)}function Va(t){return"string"==typeof t}function za(t){return"number"==typeof t}function Ja(t){return!0===t||!1===t||function(t){return Ka(t)&&null!==t}(t)&&"[object Boolean]"==Za(t)}function Ka(t){return"object"==typeof t}function Xa(t){return null!=t}function Qa(t){return!t.trim().length}function Za(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const tc=Object.prototype.hasOwnProperty;class ec{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach((t=>{let n=nc(t);e+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,e+=n.weight})),this._keys.forEach((t=>{t.weight/=e}))}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function nc(t){let e=null,n=null,r=null,o=1;if(Va(t)||Ya(t))r=t,e=rc(t),n=oc(t);else{if(!tc.call(t,"name"))throw new Error((t=>`Missing ${t} property in key`)("name"));const i=t.name;if(r=i,tc.call(t,"weight")&&(o=t.weight,o<=0))throw new Error((t=>`Property 'weight' in key '${t}' must be a positive integer`)(i));e=rc(i),n=oc(i)}return{path:e,id:n,weight:o,src:r}}function rc(t){return Ya(t)?t:t.split(".")}function oc(t){return Ya(t)?t.join("."):t}var ic={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(t,e){let n=[],r=!1;const o=(t,e,i)=>{if(Xa(t))if(e[i]){const l=t[e[i]];if(!Xa(l))return;if(i===e.length-1&&(Va(l)||za(l)||Ja(l)))n.push(function(t){return null==t?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}(l));else if(Ya(l)){r=!0;for(let t=0,n=l.length;t<n;t+=1)o(l[t],e,i+1)}else e.length&&o(l,e,i+1)}else n.push(t)};return o(t,Va(e)?e.split("."):e,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1}};const lc=/[^ ]+/g;class sc{constructor({getFn:t=ic.getFn}={}){this.norm=function(t=3){const e=new Map,n=Math.pow(10,t);return{get(t){const r=t.match(lc).length;if(e.has(r))return e.get(r);const o=1/Math.sqrt(r),i=parseFloat(Math.round(o*n)/n);return e.set(r,i),i},clear(){e.clear()}}}(3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach(((t,e)=>{this._keysMap[t.id]=e}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,Va(this.docs[0])?this.docs.forEach(((t,e)=>{this._addString(t,e)})):this.docs.forEach(((t,e)=>{this._addObject(t,e)})),this.norm.clear())}add(t){const e=this.size();Va(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!Xa(t)||Qa(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(t,e){let n={i:e,$:{}};this.keys.forEach(((e,r)=>{let o=this.getFn(t,e.path);if(Xa(o))if(Ya(o)){let t=[];const e=[{nestedArrIndex:-1,value:o}];for(;e.length;){const{nestedArrIndex:n,value:r}=e.pop();if(Xa(r))if(Va(r)&&!Qa(r)){let e={v:r,i:n,n:this.norm.get(r)};t.push(e)}else Ya(r)&&r.forEach(((t,n)=>{e.push({nestedArrIndex:n,value:t})}))}n.$[r]=t}else if(!Qa(o)){let t={v:o,n:this.norm.get(o)};n.$[r]=t}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function ac(t,e,{getFn:n=ic.getFn}={}){const r=new sc({getFn:n});return r.setKeys(t.map(nc)),r.setSources(e),r.create(),r}function cc(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:o=ic.distance,ignoreLocation:i=ic.ignoreLocation}={}){const l=e/t.length;if(i)return l;const s=Math.abs(r-n);return o?l+s/o:s?1:l}const uc=32;function dc(t,e,n,{location:r=ic.location,distance:o=ic.distance,threshold:i=ic.threshold,findAllMatches:l=ic.findAllMatches,minMatchCharLength:s=ic.minMatchCharLength,includeMatches:a=ic.includeMatches,ignoreLocation:c=ic.ignoreLocation}={}){if(e.length>uc)throw new Error(`Pattern length exceeds max of ${uc}.`);const u=e.length,d=t.length,f=Math.max(0,Math.min(r,d));let p=i,h=f;const m=s>1||a,g=m?Array(d):[];let y;for(;(y=t.indexOf(e,h))>-1;){let t=cc(e,{currentLocation:y,expectedLocation:f,distance:o,ignoreLocation:c});if(p=Math.min(t,p),h=y+u,m){let t=0;for(;t<u;)g[y+t]=1,t+=1}}h=-1;let _=[],v=1,b=u+d;const $=1<<u-1;for(let r=0;r<u;r+=1){let i=0,s=b;for(;i<s;){cc(e,{errors:r,currentLocation:f+s,expectedLocation:f,distance:o,ignoreLocation:c})<=p?i=s:b=s,s=Math.floor((b-i)/2+i)}b=s;let a=Math.max(1,f-s+1),y=l?d:Math.min(f+s,d)+u,x=Array(y+2);x[y+1]=(1<<r)-1;for(let i=y;i>=a;i-=1){let l=i-1,s=n[t.charAt(l)];if(m&&(g[l]=+!!s),x[i]=(x[i+1]<<1|1)&s,r&&(x[i]|=(_[i+1]|_[i])<<1|1|_[i+1]),x[i]&$&&(v=cc(e,{errors:r,currentLocation:l,expectedLocation:f,distance:o,ignoreLocation:c}),v<=p)){if(p=v,h=l,h<=f)break;a=Math.max(1,2*f-h)}}if(cc(e,{errors:r+1,currentLocation:f,expectedLocation:f,distance:o,ignoreLocation:c})>p)break;_=x}const x={isMatch:h>=0,score:Math.max(.001,v)};if(m){const t=function(t=[],e=ic.minMatchCharLength){let n=[],r=-1,o=-1,i=0;for(let l=t.length;i<l;i+=1){let l=t[i];l&&-1===r?r=i:l||-1===r||(o=i-1,o-r+1>=e&&n.push([r,o]),r=-1)}return t[i-1]&&i-r>=e&&n.push([r,i-1]),n}(g,s);t.length?a&&(x.indices=t):x.isMatch=!1}return x}function fc(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const o=t.charAt(n);e[o]=(e[o]||0)|1<<r-n-1}return e}class pc{constructor(t,{location:e=ic.location,threshold:n=ic.threshold,distance:r=ic.distance,includeMatches:o=ic.includeMatches,findAllMatches:i=ic.findAllMatches,minMatchCharLength:l=ic.minMatchCharLength,isCaseSensitive:s=ic.isCaseSensitive,ignoreLocation:a=ic.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:l,isCaseSensitive:s,ignoreLocation:a},this.pattern=s?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(t,e)=>{this.chunks.push({pattern:t,alphabet:fc(t),startIndex:e})},u=this.pattern.length;if(u>uc){let t=0;const e=u%uc,n=u-e;for(;t<n;)c(this.pattern.substr(t,uc),t),t+=uc;if(e){const t=u-uc;c(this.pattern.substr(t),t)}}else c(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:n}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return n&&(e.indices=[[0,t.length-1]]),e}const{location:r,distance:o,threshold:i,findAllMatches:l,minMatchCharLength:s,ignoreLocation:a}=this.options;let c=[],u=0,d=!1;this.chunks.forEach((({pattern:e,alphabet:f,startIndex:p})=>{const{isMatch:h,score:m,indices:g}=dc(t,e,f,{location:r+p,distance:o,threshold:i,findAllMatches:l,minMatchCharLength:s,includeMatches:n,ignoreLocation:a});h&&(d=!0),u+=m,h&&g&&(c=[...c,...g])}));let f={isMatch:d,score:d?u/this.chunks.length:1};return d&&n&&(f.indices=c),f}}class hc{constructor(t){this.pattern=t}static isMultiMatch(t){return mc(t,this.multiRegex)}static isSingleMatch(t){return mc(t,this.singleRegex)}search(){}}function mc(t,e){const n=t.match(e);return n?n[1]:null}class gc extends hc{constructor(t,{location:e=ic.location,threshold:n=ic.threshold,distance:r=ic.distance,includeMatches:o=ic.includeMatches,findAllMatches:i=ic.findAllMatches,minMatchCharLength:l=ic.minMatchCharLength,isCaseSensitive:s=ic.isCaseSensitive,ignoreLocation:a=ic.ignoreLocation}={}){super(t),this._bitapSearch=new pc(t,{location:e,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:l,isCaseSensitive:s,ignoreLocation:a})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class yc extends hc{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,n=0;const r=[],o=this.pattern.length;for(;(e=t.indexOf(this.pattern,n))>-1;)n=e+o,r.push([e,n-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const _c=[class extends hc{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},yc,class extends hc{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends hc{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends hc{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends hc{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends hc{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},gc],vc=_c.length,bc=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/;const $c=new Set([gc.type,yc.type]);class xc{constructor(t,{isCaseSensitive:e=ic.isCaseSensitive,includeMatches:n=ic.includeMatches,minMatchCharLength:r=ic.minMatchCharLength,ignoreLocation:o=ic.ignoreLocation,findAllMatches:i=ic.findAllMatches,location:l=ic.location,threshold:s=ic.threshold,distance:a=ic.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:n,minMatchCharLength:r,findAllMatches:i,ignoreLocation:o,location:l,threshold:s,distance:a},this.pattern=e?t:t.toLowerCase(),this.query=function(t,e={}){return t.split("|").map((t=>{let n=t.trim().split(bc).filter((t=>t&&!!t.trim())),r=[];for(let t=0,o=n.length;t<o;t+=1){const o=n[t];let i=!1,l=-1;for(;!i&&++l<vc;){const t=_c[l];let n=t.isMultiMatch(o);n&&(r.push(new t(n,e)),i=!0)}if(!i)for(l=-1;++l<vc;){const t=_c[l];let n=t.isSingleMatch(o);if(n){r.push(new t(n,e));break}}}return r}))}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;t=r?t:t.toLowerCase();let o=0,i=[],l=0;for(let r=0,s=e.length;r<s;r+=1){const s=e[r];i.length=0,o=0;for(let e=0,r=s.length;e<r;e+=1){const r=s[e],{isMatch:a,indices:c,score:u}=r.search(t);if(!a){l=0,o=0,i.length=0;break}if(o+=1,l+=u,n){const t=r.constructor.type;$c.has(t)?i=[...i,...c]:i.push(c)}}if(o){let t={isMatch:!0,score:l/o};return n&&(t.indices=i),t}}return{isMatch:!1,score:1}}}const wc=[];function Sc(t,e){for(let n=0,r=wc.length;n<r;n+=1){let r=wc[n];if(r.condition(t,e))return new r(t,e)}return new pc(t,e)}const Ec="$and",Cc="$or",Tc="$path",kc="$val",Oc=t=>!(!t[Ec]&&!t[Cc]),Ic=t=>({[Ec]:Object.keys(t).map((e=>({[e]:t[e]})))});function Mc(t,e,{auto:n=!0}={}){const r=t=>{let o=Object.keys(t);const i=(t=>!!t[Tc])(t);if(!i&&o.length>1&&!Oc(t))return r(Ic(t));if((t=>!Ya(t)&&Ka(t)&&!Oc(t))(t)){const r=i?t[Tc]:o[0],l=i?t[kc]:t[r];if(!Va(l))throw new Error((t=>`Invalid value for key ${t}`)(r));const s={keyId:oc(r),pattern:l};return n&&(s.searcher=Sc(l,e)),s}let l={children:[],operator:o[0]};return o.forEach((e=>{const n=t[e];Ya(n)&&n.forEach((t=>{l.children.push(r(t))}))})),l};return Oc(t)||(t=Ic(t)),r(t)}function Rc(t,e){const n=t.matches;e.matches=[],Xa(n)&&n.forEach((t=>{if(!Xa(t.indices)||!t.indices.length)return;const{indices:n,value:r}=t;let o={indices:n,value:r};t.key&&(o.key=t.key.src),t.idx>-1&&(o.refIndex=t.idx),e.matches.push(o)}))}function Ac(t,e){e.score=t.score}class Nc{constructor(t,e={},n){this.options={...ic,...e},this.options.useExtendedSearch,this._keyStore=new ec(this.options.keys),this.setCollection(t,n)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof sc))throw new Error("Incorrect 'index' type");this._myIndex=e||ac(this.options.keys,this._docs,{getFn:this.options.getFn})}add(t){Xa(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=(()=>!1)){const e=[];for(let n=0,r=this._docs.length;n<r;n+=1){const o=this._docs[n];t(o,n)&&(this.removeAt(n),n-=1,r-=1,e.push(o))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:o,sortFn:i,ignoreFieldNorm:l}=this.options;let s=Va(t)?Va(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,{ignoreFieldNorm:e=ic.ignoreFieldNorm}){t.forEach((t=>{let n=1;t.matches.forEach((({key:t,norm:r,score:o})=>{const i=t?t.weight:null;n*=Math.pow(0===o&&i?Number.EPSILON:o,(i||1)*(e?1:r))})),t.score=n}))}(s,{ignoreFieldNorm:l}),o&&s.sort(i),za(e)&&e>-1&&(s=s.slice(0,e)),function(t,e,{includeMatches:n=ic.includeMatches,includeScore:r=ic.includeScore}={}){const o=[];return n&&o.push(Rc),r&&o.push(Ac),t.map((t=>{const{idx:n}=t,r={item:e[n],refIndex:n};return o.length&&o.forEach((e=>{e(t,r)})),r}))}(s,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(t){const e=Sc(t,this.options),{records:n}=this._myIndex,r=[];return n.forEach((({v:t,i:n,n:o})=>{if(!Xa(t))return;const{isMatch:i,score:l,indices:s}=e.searchIn(t);i&&r.push({item:t,idx:n,matches:[{score:l,value:t,norm:o,indices:s}]})})),r}_searchLogical(t){const e=Mc(t,this.options),n=(t,e,r)=>{if(!t.children){const{keyId:n,searcher:o}=t,i=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(e,n),searcher:o});return i&&i.length?[{idx:r,item:e,matches:i}]:[]}switch(t.operator){case Ec:{const o=[];for(let i=0,l=t.children.length;i<l;i+=1){const l=t.children[i],s=n(l,e,r);if(!s.length)return[];o.push(...s)}return o}case Cc:{const o=[];for(let i=0,l=t.children.length;i<l;i+=1){const l=t.children[i],s=n(l,e,r);if(s.length){o.push(...s);break}}return o}}},r=this._myIndex.records,o={},i=[];return r.forEach((({$:t,i:r})=>{if(Xa(t)){let l=n(e,t,r);l.length&&(o[r]||(o[r]={idx:r,item:t,matches:[]},i.push(o[r])),l.forEach((({matches:t})=>{o[r].matches.push(...t)})))}})),i}_searchObjectList(t){const e=Sc(t,this.options),{keys:n,records:r}=this._myIndex,o=[];return r.forEach((({$:t,i:r})=>{if(!Xa(t))return;let i=[];n.forEach(((n,r)=>{i.push(...this._findMatches({key:n,value:t[r],searcher:e}))})),i.length&&o.push({idx:r,item:t,matches:i})})),o}_findMatches({key:t,value:e,searcher:n}){if(!Xa(e))return[];let r=[];if(Ya(e))e.forEach((({v:e,i:o,n:i})=>{if(!Xa(e))return;const{isMatch:l,score:s,indices:a}=n.searchIn(e);l&&r.push({score:s,key:t,value:e,idx:o,norm:i,indices:a})}));else{const{v:o,n:i}=e,{isMatch:l,score:s,indices:a}=n.searchIn(o);l&&r.push({score:s,key:t,value:o,norm:i,indices:a})}return r}}function Lc(t,e,n){const r=t.slice();return r[7]=e[n],r}function Dc(t,e,n){const r=t.slice();return r[10]=e[n],r}function Bc(e){let n;return{c(){n=d("pre"),n.textContent="..."},m(t,e){a(t,n,e)},p:t,i:t,o:t,d(t){t&&c(n)}}}function jc(t){let e,n,r=[...t[1].keys()],o=[];for(let e=0;e<r.length;e+=1)o[e]=Uc(Lc(t,r,e));const i=t=>F(o[t],1,1,(()=>{o[t]=null}));let l=null;return r.length||(l=qc()),{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=h(),l&&l.c()},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);a(t,e,r),l&&l.m(t,r),n=!0},p(t,n){if(3&n){let s;for(r=[...t[1].keys()],s=0;s<r.length;s+=1){const i=Lc(t,r,s);o[s]?(o[s].p(i,n),P(o[s],1)):(o[s]=Uc(i),o[s].c(),P(o[s],1),o[s].m(e.parentNode,e))}for(j(),s=r.length;s<o.length;s+=1)i(s);q(),r.length?l&&(l.d(1),l=null):l||(l=qc(),l.c(),l.m(e.parentNode,e))}},i(t){if(!n){for(let t=0;t<r.length;t+=1)P(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)F(o[t]);n=!1},d(t){u(o,t),t&&c(e),l&&l.d(t)}}}function qc(t){let e;return{c(){e=d("em"),e.textContent="No results."},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Pc(t){let e,n;return e=new Ct({props:{item:t[0]._flatten(t[10])}}),{c(){G(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,n){const r={};3&n&&(r.item=t[0]._flatten(t[10])),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function Fc(t){let e,n;return e=new On({props:{item:t[0]._flatten(t[10])}}),{c(){G(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,n){const r={};3&n&&(r.item=t[0]._flatten(t[10])),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function Hc(t){let e,n,r,o,i,l,u,h,m=et(t[0]._flatten(t[10]))+"";const _=[Fc,Pc],v=[];function b(t,e){return"furniture"===t[7]?0:"item"===t[7]||"monster"===t[7]?1:-1}return~(n=b(t))&&(r=v[n]=_[n](t)),{c(){e=d("li"),r&&r.c(),o=p(),i=d("a"),l=f(m),g(i,"href",u="#/"+Z(t[10].type)+"/"+t[10].id)},m(t,r){a(t,e,r),~n&&v[n].m(e,null),s(e,o),s(e,i),s(i,l),h=!0},p(t,s){let a=n;n=b(t),n===a?~n&&v[n].p(t,s):(r&&(j(),F(v[a],1,1,(()=>{v[a]=null})),q()),~n?(r=v[n],r?r.p(t,s):(r=v[n]=_[n](t),r.c()),P(r,1),r.m(e,o)):r=null),(!h||3&s)&&m!==(m=et(t[0]._flatten(t[10]))+"")&&y(l,m),(!h||2&s&&u!==(u="#/"+Z(t[10].type)+"/"+t[10].id))&&g(i,"href",u)},i(t){h||(P(r),h=!0)},o(t){F(r),h=!1},d(t){t&&c(e),~n&&v[n].d()}}}function Uc(t){let e,n,r,o,i,l,h=t[7].replace(/_/g," ")+"",m=t[1].get(t[7]),g=[];for(let e=0;e<m.length;e+=1)g[e]=Hc(Dc(t,m,e));const _=t=>F(g[t],1,1,(()=>{g[t]=null}));return{c(){e=d("h1"),n=f(h),r=p(),o=d("ul");for(let t=0;t<g.length;t+=1)g[t].c();i=p()},m(t,c){a(t,e,c),s(e,n),a(t,r,c),a(t,o,c);for(let t=0;t<g.length;t+=1)g[t].m(o,null);s(o,i),l=!0},p(t,e){if((!l||2&e)&&h!==(h=t[7].replace(/_/g," ")+"")&&y(n,h),3&e){let n;for(m=t[1].get(t[7]),n=0;n<m.length;n+=1){const r=Dc(t,m,n);g[n]?(g[n].p(r,e),P(g[n],1)):(g[n]=Hc(r),g[n].c(),P(g[n],1),g[n].m(o,i))}for(j(),n=m.length;n<g.length;n+=1)_(n);q()}},i(t){if(!l){for(let t=0;t<m.length;t+=1)P(g[t]);l=!0}},o(t){g=g.filter(Boolean);for(let t=0;t<g.length;t+=1)F(g[t]);l=!1},d(t){t&&c(e),t&&c(r),t&&c(o),u(g,t)}}}function Gc(t){let e,n,r,o;const i=[jc,Bc],l=[];function s(t,e){return t[1]?0:1}return e=s(t),n=l[e]=i[e](t),{c(){n.c(),r=h()},m(t,n){l[e].m(t,n),a(t,r,n),o=!0},p(t,[o]){let a=e;e=s(t),e===a?l[e].p(t,o):(j(),F(l[a],1,1,(()=>{l[a]=null})),q(),n=l[e],n?n.p(t,o):(n=l[e]=i[e](t),n.c()),P(n,1),n.m(r.parentNode,r))},i(t){o||(P(n),o=!0)},o(t){F(n),o=!1},d(t){l[e].d(t),t&&c(r)}}}function Wc(t,e,n){let r,o;var i;let s;l(t,ht,(t=>n(0,o=t)));let{search:a}=e;const c=new Set(["item","monster","furniture","vehicle_part"]);return t.$$set=t=>{"search"in t&&n(2,a=t.search)},t.$$.update=()=>{9&t.$$.dirty&&(s=new Nc([...null!==n(3,i=null==o?void 0:o.all())&&void 0!==i?i:[]].filter((t=>"string"==typeof t.id)),{keys:["id","name"],getFn:(t,e)=>{var n,r;return"id"===e[0]?null!==(r=null!==(n=t.id)&&void 0!==n?n:t.abstract)&&void 0!==r?r:"":"name"===e[0]?et(t):void 0},ignoreFieldNorm:!0,ignoreLocation:!0,minMatchCharLength:2,threshold:.2})),5&t.$$.dirty&&n(1,r=a&&a.length>1&&o&&function(t){const e=s.search(t,{limit:100}),n=new Map;for(const{item:t}of e){const e=Z(t.type);c.has(e)&&(n.has(e)||n.set(e,[]),n.get(e).push(t))}return n}(a)),4&t.$$.dirty&&history.replaceState({search:a},"")},[o,r,a,i]}Nc.version="6.4.6",Nc.createIndex=ac,Nc.parseIndex=function(t,{getFn:e=ic.getFn}={}){const{keys:n,records:r}=t,o=new sc({getFn:e});return o.setKeys(n),o.setIndexRecords(r),o},Nc.config=ic,Nc.parseQuery=Mc,function(...t){wc.push(...t)}(xc);class Yc extends J{constructor(t){super(),z(this,t,Wc,Gc,i,{search:2})}}function Vc(t,e,n){const r=t.slice();return r[9]=e[n],r}function zc(t,e,n){const r=t.slice();return r[12]=e[n],r}function Jc(t){let e,n,r;return n=new wt({props:{type:t[0],id:t[12].id}}),{c(){e=d("li"),G(n.$$.fragment)},m(t,o){a(t,e,o),W(n,e,null),r=!0},p(t,e){const r={};1&e&&(r.type=t[0]),2&e&&(r.id=t[12].id),n.$set(r)},i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){t&&c(e),Y(n)}}}function Kc(t){let e,n,r;function o(...e){return t[5](t[9],...e)}return{c(){e=d("button"),e.textContent="See all...",g(e,"class","disclosure")},m(t,i){a(t,e,i),n||(r=m(e,"click",o),n=!0)},p(e,n){t=e},d(t){t&&c(e),n=!1,r()}}}function Xc(e){let n,r,o,i,l,h,m=e[2].get(e[9]).length>e[1].get(e[9]),g=e[9]&&function(e){let n,r,o=e[9]+"";return{c(){n=d("h1"),r=f(o)},m(t,e){a(t,n,e),s(n,r)},p:t,d(t){t&&c(n)}}}(e),y=e[2].get(e[9]).slice(0,e[1].get(e[9])),_=[];for(let t=0;t<y.length;t+=1)_[t]=Jc(zc(e,y,t));const v=t=>F(_[t],1,1,(()=>{_[t]=null}));let b=m&&Kc(e);return{c(){n=d("section"),g&&g.c(),r=p(),o=d("ul");for(let t=0;t<_.length;t+=1)_[t].c();i=p(),b&&b.c(),l=p()},m(t,e){a(t,n,e),g&&g.m(n,null),s(n,r),s(n,o);for(let t=0;t<_.length;t+=1)_[t].m(o,null);s(n,i),b&&b.m(n,null),s(n,l),h=!0},p(t,e){if(t[9]&&g.p(t,e),15&e){let n;for(y=t[2].get(t[9]).slice(0,t[1].get(t[9])),n=0;n<y.length;n+=1){const r=zc(t,y,n);_[n]?(_[n].p(r,e),P(_[n],1)):(_[n]=Jc(r),_[n].c(),P(_[n],1),_[n].m(o,null))}for(j(),n=y.length;n<_.length;n+=1)v(n);q()}2&e&&(m=t[2].get(t[9]).length>t[1].get(t[9])),m?b?b.p(t,e):(b=Kc(t),b.c(),b.m(n,l)):b&&(b.d(1),b=null)},i(t){if(!h){for(let t=0;t<y.length;t+=1)P(_[t]);h=!0}},o(t){_=_.filter(Boolean);for(let t=0;t<_.length;t+=1)F(_[t]);h=!1},d(t){t&&c(n),g&&g.d(),u(_,t),b&&b.d()}}}function Qc(t){let e,n,r,o,i,l=t[3],m=[];for(let e=0;e<l.length;e+=1)m[e]=Xc(Vc(t,l,e));const g=t=>F(m[t],1,1,(()=>{m[t]=null}));return{c(){e=d("h1"),n=f(t[0]),r=p();for(let t=0;t<m.length;t+=1)m[t].c();o=h()},m(t,l){a(t,e,l),s(e,n),a(t,r,l);for(let e=0;e<m.length;e+=1)m[e].m(t,l);a(t,o,l),i=!0},p(t,[e]){if((!i||1&e)&&y(n,t[0]),15&e){let n;for(l=t[3],n=0;n<l.length;n+=1){const r=Vc(t,l,n);m[n]?(m[n].p(r,e),P(m[n],1)):(m[n]=Xc(r),m[n].c(),P(m[n],1),m[n].m(o.parentNode,o))}for(j(),n=l.length;n<m.length;n+=1)g(n);q()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)P(m[t]);i=!0}},o(t){m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)F(m[t]);i=!1},d(t){t&&c(e),t&&c(r),u(m,t),t&&c(o)}}}function Zc(t,e,n){var r;let{type:o}=e,{data:i}=e;w("data",i);const l=i.byType(o).filter((t=>t.id));l.sort(((t,e)=>et(t).localeCompare(et(e))));const s=function(t,e){const n=new Map;for(const r of t){const t=e(r);n.has(t)||n.set(t,[]),n.get(t).push(r)}return n}(l,null!==(r={monster:t=>{var e;return null!==(e=t.default_faction)&&void 0!==e?e:""},item:t=>t.type,vehicle_part:t=>{var e,n;return null!==(n=(null!==(e=t.categories)&&void 0!==e?e:[])[0])&&void 0!==n?n:""}}[o])&&void 0!==r?r:()=>""),a=[...s.keys()].sort();let c=new Map([...a.map((t=>[t,10]))]);return t.$$set=t=>{"type"in t&&n(0,o=t.type),"data"in t&&n(4,i=t.data)},[o,c,s,a,i,(t,e)=>{e.preventDefault(),c.set(t,1/0),n(1,c)}]}class tu extends J{constructor(t){super(),z(this,t,Zc,Qc,i,{type:0,data:4})}}const{window:eu}=H;function nu(e){let n,r,o,i,l,u,h,m,y,_,b,$,x,w,S,E=e[2]&&iu(e);return{c(){n=d("img"),o=p(),i=d("p"),i.innerHTML='The <strong>Hitchhiker&#39;s Guide to the Cataclysm</strong> is a guide to the\n    zombie survival roguelike game <a href="https://cataclysmdda.org/">Cataclysm:\n    Dark Days Ahead</a>. You can search for things in the game, like items (e.g. a\n    <a href="#/item/flashlight">flashlight</a>), furniture (e.g. a <a href="#/furniture/f_table">table</a>), or monsters (e.g. a <a href="#/monster/mon_zombie">zombie</a>), and find useful information about\n    them. The data in the Guide comes directly from the JSON files in the game\n    itself.',l=p(),u=d("p"),h=f("The Guide stores all its data locally and is offline-capable, so you can\n    take it with you whereever you go. There's nothing to do to make the Guide\n    work offline, just visit the page and it will work even without internet\n    access, as long as you've visited it once before.\n    "),E&&E.c(),m=p(),y=d("p"),y.textContent="More popular than the Celestial Home Care\n    Omnibus, better selling than Fifty-three More Things to do in Zero Gravity, and\n    more controversial than Oolon Colluphid's trilogy of philosophical blockbusters\n    Where God Went Wrong, Some More of God's Greatest Mistakes and Who is this God\n    Person Anyway?",_=p(),b=d("p"),b.innerHTML='The guide is developed on <a href="https://github.com/nornagon/cdda-guide">GitHub</a> by <a href="https://www.nornagon.net">nornagon</a>. If you notice any problems,\n    please <a href="https://github.com/nornagon/cdda-guide/issues">file an\n    issue</a>!',$=p(),x=d("h2"),x.textContent="Catalogs",w=p(),S=d("ul"),S.innerHTML='<li><a href="#/item">Items</a></li> \n      <li><a href="#/monster">Monsters</a></li> \n      <li><a href="#/furniture">Furniture</a></li> \n      <li><a href="#/vehicle_part">Vehicle Parts</a></li> \n      <li><a href="#/tool_quality">Qualities</a></li> \n      <li><a href="#/json_flag">Flags</a></li>',n.src!==(r="dont_panic.png")&&g(n,"src","dont_panic.png"),g(n,"height","200"),g(n,"width","343"),v(n,"float","right"),g(n,"alt","The words 'Don't Panic' in big friendly letters"),v(y,"font-style","italic"),v(y,"color","var(--cata-color-gray)")},m(t,e){a(t,n,e),a(t,o,e),a(t,i,e),a(t,l,e),a(t,u,e),s(u,h),E&&E.m(u,null),a(t,m,e),a(t,y,e),a(t,_,e),a(t,b,e),a(t,$,e),a(t,x,e),a(t,w,e),a(t,S,e)},p(t,e){t[2]?E?E.p(t,e):(E=iu(t),E.c(),E.m(u,null)):E&&(E.d(1),E=null)},i:t,o:t,d(t){t&&c(n),t&&c(o),t&&c(i),t&&c(l),t&&c(u),E&&E.d(),t&&c(m),t&&c(y),t&&c(_),t&&c(b),t&&c($),t&&c(x),t&&c(w),t&&c(S)}}}function ru(e){let n,r,o=e[1],l=lu(e);return{c(){l.c(),n=h()},m(t,e){l.m(t,e),a(t,n,e),r=!0},p(e,r){2&r&&i(o,o=e[1])?(j(),F(l,1,1,t),q(),l=lu(e),l.c(),P(l),l.m(n.parentNode,n)):l.p(e,r)},i(t){r||(P(l),r=!0)},o(t){F(l),r=!1},d(t){t&&c(n),l.d(t)}}}function ou(t){let e,n,r,o;const i=[au,su],l=[];function s(t,e){return t[3]?0:1}return e=s(t),n=l[e]=i[e](t),{c(){n.c(),r=h()},m(t,n){l[e].m(t,n),a(t,r,n),o=!0},p(t,o){let a=e;e=s(t),e===a?l[e].p(t,o):(j(),F(l[a],1,1,(()=>{l[a]=null})),q(),n=l[e],n?n.p(t,o):(n=l[e]=i[e](t),n.c()),P(n,1),n.m(r.parentNode,r))},i(t){o||(P(n),o=!0)},o(t){F(n),o=!1},d(t){l[e].d(t),t&&c(r)}}}function iu(e){let n,r,o,i,l;return{c(){n=f("It's also "),r=d("button"),r.textContent="installable",o=f(",\n    so you can pop it out of your browser and use it like a regular app."),g(r,"class","disclosure")},m(t,s){a(t,n,s),a(t,r,s),a(t,o,s),i||(l=m(r,"click",e[8]),i=!0)},p:t,d(t){t&&c(n),t&&c(r),t&&c(o),i=!1,l()}}}function lu(t){let e,n;return e=new Yc({props:{search:t[1]}}),{c(){G(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.search=t[1]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function su(e){let n;return{c(){n=d("em"),n.textContent="Loading...",v(n,"color","var(--cata-color-gray)")},m(t,e){a(t,n,e)},p:t,i:t,o:t,d(t){t&&c(n)}}}function au(e){let n,r,o=e[0],l=du(e);return{c(){l.c(),n=h()},m(t,e){l.m(t,e),a(t,n,e),r=!0},p(e,r){1&r&&i(o,o=e[0])?(j(),F(l,1,1,t),q(),l=du(e),l.c(),P(l),l.m(n.parentNode,n)):l.p(e,r)},i(t){r||(P(l),r=!0)},o(t){F(l),r=!1},d(t){t&&c(n),l.d(t)}}}function cu(t){let e,n;return e=new tu({props:{type:t[0].type,data:t[3]}}),{c(){G(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.type=t[0].type),8&n&&(r.data=t[3]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function uu(t){let e,n;return e=new Wa({props:{item:t[0],data:t[3]}}),{c(){G(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.item=t[0]),8&n&&(r.data=t[3]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function du(t){let e,n,r,o;const i=[uu,cu],l=[];function s(t,e){return t[0].id?0:1}return e=s(t),n=l[e]=i[e](t),{c(){n.c(),r=h()},m(t,n){l[e].m(t,n),a(t,r,n),o=!0},p(t,o){let a=e;e=s(t),e===a?l[e].p(t,o):(j(),F(l[a],1,1,(()=>{l[a]=null})),q(),n=l[e],n?n.p(t,o):(n=l[e]=i[e](t),n.c()),P(n,1),n.m(r.parentNode,r))},i(t){o||(P(n),o=!0)},o(t){F(n),o=!1},d(t){l[e].d(t),t&&c(r)}}}function fu(e){let n;return{c(){n=d("em"),n.textContent="(loading...)",v(n,"color","var(--cata-color-gray)")},m(t,e){a(t,n,e)},p:t,d(t){t&&c(n)}}}function pu(t){let e,n,r,o=t[3].build_number+"";return{c(){e=d("a"),n=f(o),g(e,"href",r=t[3].release.html_url)},m(t,r){a(t,e,r),s(e,n)},p(t,i){8&i&&o!==(o=t[3].build_number+"")&&y(n,o),8&i&&r!==(r=t[3].release.html_url)&&g(e,"href",r)},d(t){t&&c(e)}}}function hu(t){let e,n,o,i,l,u,h,y,b,$,x,w,S,E,C,T,k,O,I;const M=[ou,ru,nu],R=[];function A(t,e){return t[0]?0:t[1]?1:2}function N(t,e){return t[3]?pu:fu}x=A(t),w=R[x]=M[x](t);let L=N(t),D=L(t);return{c(){e=d("header"),n=d("nav"),o=d("div"),i=d("strong"),l=d("a"),l.textContent="Hitchhiker's Guide to the Cataclysm",u=p(),h=d("div"),y=d("input"),b=p(),$=d("main"),w.c(),S=p(),E=d("p"),C=f("Build number:\n    "),D.c(),T=f("\n    (Experimental)"),g(l,"href","#"),g(o,"class","title svelte-6ycnef"),v(y,"margin","0"),v(y,"width","100%"),g(y,"placeholder","Search..."),g(y,"id","search"),g(h,"class","search svelte-6ycnef"),g(n,"class","svelte-6ycnef"),g(e,"class","svelte-6ycnef"),g($,"class","svelte-6ycnef")},m(r,c){a(r,e,c),s(e,n),s(n,o),s(o,i),s(i,l),s(n,u),s(n,h),s(h,y),_(y,t[1]),a(r,b,c),a(r,$,c),R[x].m($,null),s($,S),s($,E),s(E,C),D.m(E,null),s(E,T),k=!0,O||(I=[m(eu,"hashchange",t[4]),m(eu,"keydown",mu),m(l,"click",t[6]),m(y,"input",t[7]),m(y,"input",t[5])],O=!0)},p(t,[e]){2&e&&y.value!==t[1]&&_(y,t[1]);let n=x;x=A(t),x===n?R[x].p(t,e):(j(),F(R[n],1,1,(()=>{R[n]=null})),q(),w=R[x],w?w.p(t,e):(w=R[x]=M[x](t),w.c()),P(w,1),w.m($,S)),L===(L=N(t))&&D?D.p(t,e):(D.d(1),D=L(t),D&&(D.c(),D.m(E,T)))},i(t){k||(P(w),k=!0)},o(t){F(w),k=!1},d(t){t&&c(e),t&&c(b),t&&c($),R[x].d(),D.d(),O=!1,r(I)}}}function mu(t){"/"===t.key&&"search"!==document.activeElement.id&&(document.getElementById("search").focus(),t.preventDefault())}function gu(t,e,n){let r;l(t,ht,(t=>n(3,r=t)));let o=null;function i(){const t=window.location.hash.slice(1);let e;if(e=/^\/([^\/]+)(?:\/(.+))?$/.exec(t)){const[,t,r]=e;"search"===t?(n(0,o=null),n(1,a=decodeURIComponent(null!=r?r:""))):n(0,o=r?{type:t,id:decodeURIComponent(r)}:{type:t,id:""}),window.scrollTo(0,0)}else n(0,o=null),n(1,a="")}var s;s=i,x().$$.on_mount.push(s);let a="";let c;window.addEventListener("beforeinstallprompt",(t=>{n(2,c=t)}));return[o,a,c,r,i,()=>{o?history.pushState(null,"",location.href.replace(/#.*$/,"")):history.replaceState(null,"",function(t){const e=new URL(location.href);return e.hash=t,e.toString()}("/search/"+a)),n(0,o=null)},()=>n(1,a=""),function(){a=this.value,n(1,a)},t=>{t.preventDefault(),c.prompt()}]}class yu extends J{constructor(t){super(),z(this,t,gu,hu,i,{})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var _u=function(t,e){return(_u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function vu(t,e){function n(){this.constructor=t}_u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var bu,$u,xu,wu,Su=function(){return(Su=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Eu(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cu(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l}function Tu(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Cu(arguments[e]));return t}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
function ku(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l}function Ou(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ku(arguments[e]));return t}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */!function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"}(bu||(bu={})),function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}($u||($u={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}($u||($u={})),function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(xu||(xu={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(xu||(xu={})),function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"}(wu||(wu={}));var Iu=function(){return(Iu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Mu(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l}function Ru(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Mu(arguments[e]));return t}function Au(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Hu(t,Error)}}function Nu(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function Lu(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function Du(t){return"[object String]"===Object.prototype.toString.call(t)}function Bu(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function ju(t){return"[object Object]"===Object.prototype.toString.call(t)}function qu(t){return"undefined"!=typeof Event&&Hu(t,Event)}function Pu(t){return"undefined"!=typeof Element&&Hu(t,Element)}function Fu(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function Hu(t,e){try{return t instanceof e}catch(t){return!1}}function Uu(t){try{for(var e=t,n=[],r=0,o=0,i=" > ".length,l=void 0;e&&r++<5&&!("html"===(l=Gu(e))||r>1&&o+n.length*i+l.length>=80);)n.push(l),o+=l.length,e=e.parentNode;return n.reverse().join(" > ")}catch(t){return"<unknown>"}}function Gu(t){var e,n,r,o,i,l=t,s=[];if(!l||!l.tagName)return"";if(s.push(l.tagName.toLowerCase()),l.id&&s.push("#"+l.id),(e=l.className)&&Du(e))for(n=e.split(/\s+/),i=0;i<n.length;i++)s.push("."+n[i]);var a=["type","name","title","alt"];for(i=0;i<a.length;i++)r=a[i],(o=l.getAttribute(r))&&s.push("["+r+'="'+o+'"]');return s.join("")}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Wu=function(t,e){return(Wu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Yu=function(){return(Yu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Vu(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var zu=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t});var Ju=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,zu(r,n.prototype),r}return function(t,e){function n(){this.constructor=t}Wu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),Ku=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Xu="Invalid Dsn",Qu=function(){function t(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.host,r=e.path,o=e.pass,i=e.port,l=e.projectId;return e.protocol+"://"+e.publicKey+(t&&o?":"+o:"")+"@"+n+(i?":"+i:"")+"/"+(r?r+"/":r)+l},t.prototype._fromString=function(t){var e=Ku.exec(t);if(!e)throw new Ju(Xu);var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l}(e.slice(1),6),r=n[0],o=n[1],i=n[2],l=void 0===i?"":i,s=n[3],a=n[4],c=void 0===a?"":a,u="",d=n[5],f=d.split("/");if(f.length>1&&(u=f.slice(0,-1).join("/"),d=f.pop()),d){var p=d.match(/^\d+/);p&&(d=p[0])}this._fromComponents({host:s,pass:l,path:u,projectId:d,port:c,protocol:r,publicKey:o})},t.prototype._fromComponents=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","publicKey","host","projectId"].forEach((function(e){if(!t[e])throw new Ju("Invalid Dsn: "+e+" missing")})),!this.projectId.match(/^\d+$/))throw new Ju("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new Ju("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new Ju("Invalid Dsn: Invalid port "+this.port)},t}();function Zu(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function td(t,e){return t.require(e)}function ed(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function nd(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var o=t[r];try{n.push(String(o))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function rd(t,e){return!!Du(t)&&(n=e,"[object RegExp]"===Object.prototype.toString.call(n)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e));var n}var od={};function id(){return Zu()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:od}function ld(){var t=id(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function sd(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+r}}function ad(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function cd(t){var e=id();if(!("console"in e))return t();var n=e.console,r={};["debug","info","warn","error","log","assert"].forEach((function(t){t in e.console&&n[t].__sentry_original__&&(r[t]=n[t],n[t]=n[t].__sentry_original__)}));var o=t();return Object.keys(r).forEach((function(t){n[t]=r[t]})),o}function ud(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function dd(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach((function(n){t.exception.values[0].mechanism[n]=e[n]}))}catch(t){}}var fd=id(),pd="Sentry Logger ",hd=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&cd((function(){fd.console.log(pd+"[Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&cd((function(){fd.console.warn(pd+"[Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&cd((function(){fd.console.error(pd+"[Error]: "+t.join(" "))}))},t}();fd.__SENTRY__=fd.__SENTRY__||{};var md=fd.__SENTRY__.logger||(fd.__SENTRY__.logger=new hd),gd=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++){if(this._inner[e]===t)return!0}return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}(),yd="<anonymous>";function _d(t){try{return t&&"function"==typeof t&&t.name||yd}catch(t){return yd}}function vd(t,e,n){if(e in t){var r=t[e],o=n(r);if("function"==typeof o)try{o.prototype=o.prototype||{},Object.defineProperties(o,{__sentry_original__:{enumerable:!1,value:r}})}catch(t){}t[e]=o}}function bd(t){if(Au(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}if(qu(t)){var o=t,i={};i.type=o.type;try{i.target=Pu(o.target)?Uu(o.target):Object.prototype.toString.call(o.target)}catch(t){i.target="<unknown>"}try{i.currentTarget=Pu(o.currentTarget)?Uu(o.currentTarget):Object.prototype.toString.call(o.currentTarget)}catch(t){i.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&Hu(t,CustomEvent)&&(i.detail=o.detail),o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o);return i}return t}function $d(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function xd(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var r=Ed(t,e);return $d(r)>n?xd(t,e-1,n):r}function wd(t,e){return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":ju(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+_d(t)+"]":"symbol"==typeof t?"["+String(t)+"]":"bigint"==typeof t?"[BigInt: "+String(t)+"]":t;var n}function Sd(t,e,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new gd),0===n)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=wd(t);return Bu(n)?n:e}(e);if(null!=e&&"function"==typeof e.toJSON)return e.toJSON();var o=wd(e,t);if(Bu(o))return o;var i=bd(e),l=Array.isArray(e)?[]:{};if(r.memoize(e))return"[Circular ~]";for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(l[s]=Sd(s,i[s],n-1,r));return r.unmemoize(e),l}function Ed(t,e){try{return JSON.parse(JSON.stringify(t,(function(t,n){return Sd(t,n,e)})))}catch(t){return"**non-serializable**"}}function Cd(t,e){void 0===e&&(e=40);var n=Object.keys(bd(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return ed(n[0],e);for(var r=n.length;r>0;r--){var o=n.slice(0,r).join(", ");if(!(o.length>e))return r===n.length?o:ed(o,e)}return""}function Td(t){var e,n;if(ju(t)){var r=t,o={};try{for(var i=Vu(Object.keys(r)),l=i.next();!l.done;l=i.next()){var s=l.value;void 0!==r[s]&&(o[s]=Td(r[s]))}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return o}return Array.isArray(t)?t.map(Td):t}function kd(){if(!("fetch"in id()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function Od(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Id(){if(!kd())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}var Md,Rd=id(),Ad={},Nd={};function Ld(t){if(!Nd[t])switch(Nd[t]=!0,t){case"console":!function(){if(!("console"in Rd))return;["debug","info","warn","error","log","assert"].forEach((function(t){t in Rd.console&&vd(Rd.console,t,(function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Bd("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,Rd.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in Rd))return;var t=Bd.bind(null,"dom"),e=Hd(t,!0);Rd.document.addEventListener("click",e,!1),Rd.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((function(e){var n=Rd[e]&&Rd[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(vd(n,"addEventListener",(function(e){return function(n,r,o){if("click"===n||"keypress"==n)try{var i=this,l=i.__sentry_instrumentation_handlers__=i.__sentry_instrumentation_handlers__||{},s=l[n]=l[n]||{refCount:0};if(!s.handler){var a=Hd(t);s.handler=a,e.call(this,n,a,o)}s.refCount+=1}catch(t){}return e.call(this,n,r,o)}})),vd(n,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{var o=this,i=o.__sentry_instrumentation_handlers__||{},l=i[e];l&&(l.refCount-=1,l.refCount<=0&&(t.call(this,e,l.handler,r),l.handler=void 0,delete i[e]),0===Object.keys(i).length&&delete o.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in Rd))return;var t=[],e=[],n=XMLHttpRequest.prototype;vd(n,"open",(function(n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=this,l=r[1];i.__sentry_xhr__={method:Du(r[0])?r[0].toUpperCase():r[0],url:r[1]},Du(l)&&"POST"===i.__sentry_xhr__.method&&l.match(/sentry_key/)&&(i.__sentry_own_request__=!0);var s=function(){if(4===i.readyState){try{i.__sentry_xhr__&&(i.__sentry_xhr__.status_code=i.status)}catch(t){}try{var n=t.indexOf(i);if(-1!==n){t.splice(n);var o=e.splice(n)[0];i.__sentry_xhr__&&void 0!==o[0]&&(i.__sentry_xhr__.body=o[0])}}catch(t){}Bd("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&"function"==typeof i.onreadystatechange?vd(i,"onreadystatechange",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return s(),t.apply(i,e)}})):i.addEventListener("readystatechange",s),n.apply(i,r)}})),vd(n,"send",(function(n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return t.push(this),e.push(r),Bd("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),n.apply(this,r)}}))}();break;case"fetch":!function(){if(!function(){if(!kd())return!1;var t=id();if(Od(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"==typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=Od(r.contentWindow.fetch)),n.head.removeChild(r)}catch(t){md.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return e}())return;vd(Rd,"fetch",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:jd(e),url:qd(e)},startTimestamp:Date.now()};return Bd("fetch",Yu({},r)),t.apply(Rd,e).then((function(t){return Bd("fetch",Yu(Yu({},r),{endTimestamp:Date.now(),response:t})),t}),(function(t){throw Bd("fetch",Yu(Yu({},r),{endTimestamp:Date.now(),error:t})),t}))}}))}();break;case"history":!function(){if(!function(){var t=id(),e=t.chrome,n=e&&e.app&&e.app.runtime,r="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&r}())return;var t=Rd.onpopstate;function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length>2?e[2]:void 0;if(r){var o=Md,i=String(r);Md=i,Bd("history",{from:o,to:i})}return t.apply(this,e)}}Rd.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Rd.location.href,o=Md;if(Md=r,Bd("history",{from:o,to:r}),t)return t.apply(this,e)},vd(Rd.history,"pushState",e),vd(Rd.history,"replaceState",e)}();break;case"error":Ud=Rd.onerror,Rd.onerror=function(t,e,n,r,o){return Bd("error",{column:r,error:o,line:n,msg:t,url:e}),!!Ud&&Ud.apply(this,arguments)};break;case"unhandledrejection":Wd=Rd.onunhandledrejection,Rd.onunhandledrejection=function(t){return Bd("unhandledrejection",t),!Wd||Wd.apply(this,arguments)};break;default:md.warn("unknown instrumentation type:",t)}}function Dd(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(Ad[t.type]=Ad[t.type]||[],Ad[t.type].push(t.callback),Ld(t.type))}function Bd(t,e){var n,r;if(t&&Ad[t])try{for(var o=Vu(Ad[t]||[]),i=o.next();!i.done;i=o.next()){var l=i.value;try{l(e)}catch(e){md.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+_d(l)+"\nError: "+e)}}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function jd(t){return void 0===t&&(t=[]),"Request"in Rd&&Hu(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function qd(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in Rd&&Hu(t[0],Request)?t[0].url:String(t[0])}var Pd,Fd;function Hd(t,e){return void 0===e&&(e=!1),function(n){if(n&&Fd!==n&&!function(t){if("keypress"!==t.type)return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(t){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===Pd||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(t){}return!1}(Fd,n))&&(t({event:n,name:r,global:e}),Fd=n),clearTimeout(Pd),Pd=Rd.setTimeout((function(){Pd=void 0}),1e3)}}}var Ud=null;var Gd,Wd=null;!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(Gd||(Gd={}));var Yd=function(){function t(t){var e=this;this._state=Gd.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(Gd.RESOLVED,t)},this._reject=function(t){e._setResult(Gd.REJECTED,t)},this._setResult=function(t,n){e._state===Gd.PENDING&&(Fu(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){if(e._state!==Gd.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t.done||(e._state===Gd.RESOLVED&&t.onfulfilled&&t.onfulfilled(e._value),e._state===Gd.REJECTED&&t.onrejected&&t.onrejected(e._value),t.done=!0)}))}};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}return t.resolve=function(e){return new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.all=function(e){return new t((function(n,r){if(Array.isArray(e))if(0!==e.length){var o=e.length,i=[];e.forEach((function(e,l){t.resolve(e).then((function(t){i[l]=t,0===(o-=1)&&n(i)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},t.prototype.then=function(e,n){var r=this;return new t((function(t,o){r._attachHandler({done:!1,onfulfilled:function(n){if(e)try{return void t(e(n))}catch(t){return void o(t)}else t(n)},onrejected:function(e){if(n)try{return void t(n(e))}catch(t){return void o(t)}else o(e)}})}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var n=this;return new t((function(t,r){var o,i;return n.then((function(t){i=!1,o=t,e&&e()}),(function(t){i=!0,o=t,e&&e()})).then((function(){i?r(o):t(o)}))}))},t.prototype.toString=function(){return"[object SyncPromise]"},t}(),Vd=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then((function(){return e.remove(t)})).then(null,(function(){return e.remove(t).then(null,(function(){}))})),t):Yd.reject(new Ju("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new Yd((function(n){var r=setTimeout((function(){t&&t>0&&n(!1)}),t);Yd.all(e._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},t}(),zd={nowSeconds:function(){return Date.now()/1e3}};var Jd=Zu()?function(){try{return td(module,"perf_hooks").performance}catch(t){return}}():function(){var t=id().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),Kd=void 0===Jd?zd:{nowSeconds:function(){return(Jd.timeOrigin+Jd.now())/1e3}},Xd=zd.nowSeconds.bind(zd),Qd=Kd.nowSeconds.bind(Kd),Zd=function(){var t=id().performance;if(t)return t.timeOrigin?t.timeOrigin:t.timing&&t.timing.navigationStart||Date.now()}(),tf=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=Ru(e._breadcrumbs),n._tags=Iu({},e._tags),n._extra=Iu({},e._extra),n._contexts=Iu({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=Ru(e._eventProcessors)),n},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.setTags=function(t){return this._tags=Iu(Iu({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=Iu(Iu({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=Iu(Iu({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=Iu(Iu({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return null===e?delete this._contexts[t]:this._contexts=Iu(Iu({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t,e,n,r,o=this.getSpan();return(null===(t=o)||void 0===t?void 0:t.transaction)?null===(e=o)||void 0===e?void 0:e.transaction:(null===(r=null===(n=o)||void 0===n?void 0:n.spanRecorder)||void 0===r?void 0:r.spans[0])?o.spanRecorder.spans[0]:void 0},t.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=Iu(Iu({},this._tags),e._tags),this._extra=Iu(Iu({},this._extra),e._extra),this._contexts=Iu(Iu({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint)):ju(e)&&(e=e,this._tags=Iu(Iu({},this._tags),e.tags),this._extra=Iu(Iu({},this._extra),e.extra),this._contexts=Iu(Iu({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n=Iu({timestamp:Xd()},t);return this._breadcrumbs=void 0!==e&&e>=0?Ru(this._breadcrumbs,[n]).slice(-e):Ru(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=Iu(Iu({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=Iu(Iu({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=Iu(Iu({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=Iu(Iu({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=Iu({trace:this._span.getTraceContext()},t.contexts);var r=null===(n=this._span.transaction)||void 0===n?void 0:n.name;r&&(t.tags=Iu({transaction:r},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=Ru(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(Ru(ef(),this._eventProcessors),t,e)},t.prototype._notifyEventProcessors=function(t,e,n,r){var o=this;return void 0===r&&(r=0),new Yd((function(i,l){var s=t[r];if(null===e||"function"!=typeof s)i(e);else{var a=s(Iu({},e),n);Fu(a)?a.then((function(e){return o._notifyEventProcessors(t,e,n,r+1).then(i)})).then(null,l):o._notifyEventProcessors(t,a,n,r+1).then(i).then(null,l)}}))},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(e){e(t)})),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();function ef(){var t=id();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function nf(t){ef().push(t)}var rf=function(){function t(t){this.errors=0,this.sid=ld(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=bu.Ok,this.init=!0,t&&this.update(t)}return t.prototype.update=function(t){void 0===t&&(t={}),t.user&&(t.user.ip_address&&(this.ipAddress=t.user.ip_address),t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Date.now(),t.sid&&(this.sid=32===t.sid.length?t.sid:ld()),void 0!==t.init&&(this.init=t.init),t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),"number"==typeof t.duration?this.duration=t.duration:this.duration=this.timestamp-this.started,t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),t.ipAddress&&(this.ipAddress=t.ipAddress),t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):this.status===bu.Ok?this.update({status:bu.Exited}):this.update()},t.prototype.toJSON=function(){return Td({sid:""+this.sid,init:this.init,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:Td({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),of=function(){function t(t,e,n){void 0===e&&(e=new tf),void 0===n&&(n=3),this._version=n,this._stack=[{}],this.getStackTop().scope=e,this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=tf.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=ld(),r=e;if(!e){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(t){o=t}r={originalException:t,syntheticException:o}}return this._invokeClient("captureException",t,Iu(Iu({},r),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var r=this._lastEventId=ld(),o=n;if(!n){var i=void 0;try{throw new Error(t)}catch(t){i=t}o={originalException:t,syntheticException:i}}return this._invokeClient("captureMessage",t,e,Iu(Iu({},o),{event_id:r})),r},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=ld();return this._invokeClient("captureEvent",t,Iu(Iu({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop(),r=n.scope,o=n.client;if(r&&o){var i=o.getOptions&&o.getOptions()||{},l=i.beforeBreadcrumb,s=void 0===l?null:l,a=i.maxBreadcrumbs,c=void 0===a?100:a;if(!(c<=0)){var u=Xd(),d=Iu({timestamp:u},t),f=s?cd((function(){return s(d,e)})):d;null!==f&&r.addBreadcrumb(f,Math.min(c,100))}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope,r=e.client;n&&r&&t(n)},t.prototype.run=function(t){var e=sf(this);try{t(this)}finally{sf(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return md.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var t,e,n,r,o;null===(n=null===(e=null===(t=this.getStackTop())||void 0===t?void 0:t.scope)||void 0===e?void 0:e.getSession())||void 0===n||n.close(),this._sendSessionUpdate(),null===(o=null===(r=this.getStackTop())||void 0===r?void 0:r.scope)||void 0===o||o.setSession()},t.prototype.startSession=function(t){var e=this.getStackTop(),n=e.scope,r=e.client,o=r&&r.getOptions()||{},i=o.release,l=o.environment,s=new rf(Iu(Iu({release:i,environment:l},n&&{user:n.getUser()}),t));if(n){var a=n.getSession&&n.getSession();a&&a.status===bu.Ok&&a.update({status:bu.Exited}),this.endSession(),n.setSession(s)}return s},t.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),e=t.scope,n=t.client;if(e){var r=e.getSession&&e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},t.prototype._invokeClient=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.getStackTop(),i=o.scope,l=o.client;l&&l[t]&&(e=l)[t].apply(e,Ru(n,[i]))},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=lf(),o=r.__SENTRY__;if(o&&o.extensions&&"function"==typeof o.extensions[t])return o.extensions[t].apply(this,e);md.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function lf(){var t=id();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function sf(t){var e=lf(),n=uf(e);return df(e,t),n}function af(){var t=lf();return cf(t)&&!uf(t).isOlderThan(3)||df(t,new of),Zu()?function(t){var e,n,r;try{var o=null===(r=null===(n=null===(e=lf().__SENTRY__)||void 0===e?void 0:e.extensions)||void 0===n?void 0:n.domain)||void 0===r?void 0:r.active;if(!o)return uf(t);if(!cf(o)||uf(o).isOlderThan(3)){var i=uf(t).getStackTop();df(o,new of(i.client,tf.clone(i.scope)))}return uf(o)}catch(e){return uf(t)}}(t):uf(t)}function cf(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function uf(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new of),t.__SENTRY__.hub}function df(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}function ff(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=af();if(r&&r[t])return r[t].apply(r,Ou(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function pf(t,e){var n;try{throw new Error("Sentry syntheticException")}catch(t){n=t}return ff("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}function hf(t){ff("withScope",t)}var mf=function(){function t(t,e){void 0===e&&(e={}),this.dsn=t,this._dsnObject=new Qu(t),this.metadata=e}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getBaseApiEndpoint=function(){var t=this._dsnObject,e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+t+"/"+e),r.push("sentry_key="+n.publicKey),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var o in r.push("dsn="+e.toString()),t)if("dsn"!==o)if("user"===o){if(!t.user)continue;t.user.name&&r.push("name="+encodeURIComponent(t.user.name)),t.user.email&&r.push("email="+encodeURIComponent(t.user.email))}else r.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return r.length?n+"?"+r.join("&"):n},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(t){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+t+"/"},t.prototype._encodedAuth=function(){var t,e={sentry_key:this._dsnObject.publicKey,sentry_version:"7"};return t=e,Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},t}(),gf=function(){return(gf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function yf(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l}function _f(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(yf(arguments[e]));return t}var vf=[];function bf(t){var e={};return function(t){var e=t.defaultIntegrations&&_f(t.defaultIntegrations)||[],n=t.integrations,r=[];if(Array.isArray(n)){var o=n.map((function(t){return t.name})),i=[];e.forEach((function(t){-1===o.indexOf(t.name)&&-1===i.indexOf(t.name)&&(r.push(t),i.push(t.name))})),n.forEach((function(t){-1===i.indexOf(t.name)&&(r.push(t),i.push(t.name))}))}else"function"==typeof n?(r=n(e),r=Array.isArray(r)?r:[r]):r=_f(e);var l=r.map((function(t){return t.name})),s="Debug";return-1!==l.indexOf(s)&&r.push.apply(r,_f(r.splice(l.indexOf(s),1))),r}(t).forEach((function(t){e[t.name]=t,function(t){-1===vf.indexOf(t.name)&&(t.setupOnce(nf,af),vf.push(t.name),md.log("Integration installed: "+t.name))}(t)})),e}var $f=function(){function t(t,e){this._integrations={},this._processing=0,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new Qu(e.dsn))}return t.prototype.captureException=function(t,e,n){var r=this,o=e&&e.event_id;return this._process(this._getBackend().eventFromException(t,e).then((function(t){return r._captureEvent(t,e,n)})).then((function(t){o=t}))),o},t.prototype.captureMessage=function(t,e,n,r){var o=this,i=n&&n.event_id,l=Bu(t)?this._getBackend().eventFromMessage(String(t),e,n):this._getBackend().eventFromException(t,n);return this._process(l.then((function(t){return o._captureEvent(t,n,r)})).then((function(t){i=t}))),i},t.prototype.captureEvent=function(t,e,n){var r=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then((function(t){r=t}))),r},t.prototype.captureSession=function(t){t.release?(this._sendSession(t),t.update({init:!1})):md.warn("Discarded session because of missing release")},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then((function(n){return e._getBackend().getTransport().close(t).then((function(t){return n&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=bf(this._options))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return md.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(t,e){var n,r,o,i=!1,l=!1,s=e.exception&&e.exception.values;if(s){l=!0;try{for(var a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),c=a.next();!c.done;c=a.next()){var u=c.value.mechanism;if(u&&!1===u.handled){i=!0;break}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}var d=e.user;if(!t.userAgent){var f=e.request?e.request.headers:{};for(var p in f)if("user-agent"===p.toLowerCase()){o=f[p];break}}t.update(gf(gf({},i&&{status:bu.Crashed}),{user:d,userAgent:o,errors:t.errors+Number(l||i)})),this.captureSession(t)},t.prototype._sendSession=function(t){this._getBackend().sendSession(t)},t.prototype._isClientProcessing=function(t){var e=this;return new Yd((function(n){var r=0,o=setInterval((function(){0==e._processing?(clearInterval(o),n(!0)):(r+=1,t&&r>=t&&(clearInterval(o),n(!1)))}),1)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var r=this,o=this.getOptions().normalizeDepth,i=void 0===o?3:o,l=gf(gf({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:ld()),timestamp:t.timestamp||Xd()});this._applyClientOptions(l),this._applyIntegrationsMetadata(l);var s=e;n&&n.captureContext&&(s=tf.clone(s).update(n.captureContext));var a=Yd.resolve(l);return s&&(a=s.applyToEvent(l,n)),a.then((function(t){return"number"==typeof i&&i>0?r._normalizeEvent(t,i):t}))},t.prototype._normalizeEvent=function(t,e){if(!t)return null;var n=gf(gf(gf(gf(gf({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((function(t){return gf(gf({},t),t.data&&{data:Ed(t.data,e)})}))}),t.user&&{user:Ed(t.user,e)}),t.contexts&&{contexts:Ed(t.contexts,e)}),t.extra&&{extra:Ed(t.extra,e)});return t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace),n},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),n=e.environment,r=e.release,o=e.dist,i=e.maxValueLength,l=void 0===i?250:i;"environment"in t||(t.environment="environment"in e?n:"production"),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==o&&(t.dist=o),t.message&&(t.message=ed(t.message,l));var s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=ed(s.value,l));var a=t.request;a&&a.url&&(a.url=ed(a.url,l))},t.prototype._applyIntegrationsMetadata=function(t){var e=t.sdk,n=Object.keys(this._integrations);e&&n.length>0&&(e.integrations=n)},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._captureEvent=function(t,e,n){return this._processEvent(t,e,n).then((function(t){return t.event_id}),(function(t){md.error(t)}))},t.prototype._processEvent=function(t,e,n){var r=this,o=this.getOptions(),i=o.beforeSend,l=o.sampleRate;if(!this._isEnabled())return Yd.reject(new Ju("SDK not enabled, will not send event."));var s="transaction"===t.type;return!s&&"number"==typeof l&&Math.random()>l?Yd.reject(new Ju("Discarding event because it's not included in the random sample (sampling rate = "+l+")")):this._prepareEvent(t,n,e).then((function(t){if(null===t)throw new Ju("An event processor returned null, will not send event.");if(e&&e.data&&!0===e.data.__sentry__||s||!i)return t;var n=i(t,e);if(void 0===n)throw new Ju("`beforeSend` method has to return `null` or a valid event.");return Fu(n)?n.then((function(t){return t}),(function(t){throw new Ju("beforeSend rejected with "+t)})):n})).then((function(t){if(null===t)throw new Ju("`beforeSend` returned `null`, will not send event.");var e=n&&n.getSession&&n.getSession();return!s&&e&&r._updateSessionFromEvent(e,t),r._sendEvent(t),t})).then(null,(function(t){if(t instanceof Ju)throw t;throw r.captureException(t,{data:{__sentry__:!0},originalException:t}),new Ju("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)}))},t.prototype._process=function(t){var e=this;this._processing+=1,t.then((function(t){return e._processing-=1,t}),(function(t){return e._processing-=1,t}))},t}(),xf=function(){function t(){}return t.prototype.sendEvent=function(t){return Yd.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:xu.Skipped})},t.prototype.close=function(t){return Yd.resolve(!0)},t}(),wf=function(){function t(t){this._options=t,this._options.dsn||md.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(t,e){throw new Ju("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new Ju("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,(function(t){md.error("Error while sending event: "+t)}))},t.prototype.sendSession=function(t){this._transport.sendSession?this._transport.sendSession(t).then(null,(function(t){md.error("Error while sending session: "+t)})):md.warn("Dropping session because custom transport doesn't implement sendSession")},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new xf},t}();function Sf(t){if(t.metadata&&t.metadata.sdk){var e=t.metadata.sdk;return{name:e.name,version:e.version}}}function Ef(t,e){return e?(t.sdk=t.sdk||{name:e.name,version:e.version},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=_f(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=_f(t.sdk.packages||[],e.packages||[]),t):t}function Cf(t,e){var n=Sf(e);return{body:JSON.stringify(gf({sent_at:(new Date).toISOString()},n&&{sdk:n}))+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(t),type:"session",url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}function Tf(t,e){var n=Sf(e),r=t.type||"event",o="transaction"===r,i=t.debug_meta||{},l=i.transactionSampling,s=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(i,["transactionSampling"]),a=l||{},c=a.method,u=a.rate;0===Object.keys(s).length?delete t.debug_meta:t.debug_meta=s;var d={body:JSON.stringify(n?Ef(t,e.metadata.sdk):t),type:r,url:o?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(o){var f=JSON.stringify(gf({event_id:t.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n}))+"\n"+JSON.stringify({type:t.type,sample_rates:[{id:c,rate:u}]})+"\n"+d.body;d.body=f}return d}var kf,Of="6.2.1",If=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){kf=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry_original__||this;return kf.apply(n,t)}},t.id="FunctionToString",t}(),Mf=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Rf=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){nf((function(e){var n=af();if(!n)return e;var r=n.getIntegration(t);if(r){var o=n.getClient(),i=o?o.getOptions():{},l=r._mergeOptions(i);if(r._shouldDropEvent(e,l))return null}return e}))},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(md.warn("Event dropped due to being internal Sentry Error.\nEvent: "+ad(t)),!0):this._isIgnoredError(t,e)?(md.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+ad(t)),!0):this._isDeniedUrl(t,e)?(md.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+ad(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isAllowedUrl(t,e)&&(md.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+ad(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(t){return!1}},t.prototype._isIgnoredError=function(t,e){return!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some((function(t){return e.ignoreErrors.some((function(e){return rd(t,e)}))}))},t.prototype._isDeniedUrl=function(t,e){if(!e.denyUrls||!e.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.denyUrls.some((function(t){return rd(n,t)}))},t.prototype._isAllowedUrl=function(t,e){if(!e.allowUrls||!e.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.allowUrls.some((function(t){return rd(n,t)}))},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{allowUrls:_f(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:_f(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:_f(this._options.ignoreErrors||[],t.ignoreErrors||[],Mf),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,r=void 0===n?"":n,o=e.value,i=void 0===o?"":o;return[""+i,r+": "+i]}catch(e){return md.error("Cannot extract message for event "+ad(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(e){return md.error("Cannot extract url for event "+ad(t)),null}},t.id="InboundFilters",t}(),Af="?",Nf=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Lf=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Df=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Bf=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,jf=/\((\S*)(?::(\d+))(?::(\d+))\)/,qf=/Minified React error #\d+;/i;function Pf(t){var e=null,n=0;t&&("number"==typeof t.framesToPop?n=t.framesToPop:qf.test(t.message)&&(n=1));try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=t.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=n.split("\n"),l=[],s=0;s<i.length;s+=2){var a=null;(e=r.exec(i[s]))?a={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=o.exec(i[s]))&&(a={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),a&&(!a.func&&a.line&&(a.func=Af),l.push(a))}if(!l.length)return null;return{message:Hf(t),name:t.name,stack:l}}(t))return Ff(e,n)}catch(t){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,r,o=[],i=t.stack.split("\n"),l=0;l<i.length;++l){if(n=Nf.exec(i[l])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=jf.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||Af,args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=Df.exec(i[l]))r={url:n[2],func:n[1]||Af,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=Lf.exec(i[l])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=Bf.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==l||n[5]||void 0===t.columnNumber||(o[0].column=t.columnNumber+1),r={url:n[3],func:n[1]||Af,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=Af),o.push(r)}if(!o.length)return null;return{message:Hf(t),name:t.name,stack:o}}(t))return Ff(e,n)}catch(t){}return{message:Hf(t),name:t&&t.name,stack:[],failed:!0}}function Ff(t,e){try{return Su(Su({},t),{stack:t.stack.slice(e)})}catch(e){return t}}function Hf(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function Uf(t){var e=Wf(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function Gf(t){return{exception:{values:[Uf(t)]}}}function Wf(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",r=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==r.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,50).map((function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}})).reverse()}function Yf(t,e,n){var r,o;if(void 0===n&&(n={}),Nu(t)&&t.error)return r=Gf(Pf(t=t.error));if(Lu(t)||(o=t,"[object DOMException]"===Object.prototype.toString.call(o))){var i=t,l=i.name||(Lu(i)?"DOMError":"DOMException"),s=i.message?l+": "+i.message:l;return ud(r=Vf(s,e,n),s),"code"in i&&(r.tags=Su(Su({},r.tags),{"DOMException.code":""+i.code})),r}return Au(t)?r=Gf(Pf(t)):ju(t)||qu(t)?(dd(r=function(t,e,n){var r={exception:{values:[{type:qu(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Cd(t)}]},extra:{__serialized__:xd(t)}};if(e){var o=Wf(Pf(e).stack);r.stacktrace={frames:o}}return r}(t,e,n.rejection),{synthetic:!0}),r):(ud(r=Vf(t,e,n),""+t,void 0),dd(r,{synthetic:!0}),r)}function Vf(t,e,n){void 0===n&&(n={});var r={message:t};if(n.attachStacktrace&&e){var o=Wf(Pf(e).stack);r.stacktrace={frames:o}}return r}var zf=function(){function t(t){this.options=t,this._buffer=new Vd(30),this._rateLimits={},this._api=new mf(t.dsn,t._metadata),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new Ju("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this._buffer.drain(t)},t.prototype._handleResponse=function(t){var e=t.requestType,n=t.response,r=t.headers,o=t.resolve,i=t.reject,l=xu.fromHttpCode(n.status);this._handleRateLimit(r)&&md.warn("Too many requests, backing off until: "+this._disabledUntil(e)),l!==xu.Success?i(n):o({status:l})},t.prototype._disabledUntil=function(t){return this._rateLimits[t]||this._rateLimits.all},t.prototype._isRateLimited=function(t){return this._disabledUntil(t)>new Date(Date.now())},t.prototype._handleRateLimit=function(t){var e,n,r,o,i=Date.now(),l=t["x-sentry-rate-limits"],s=t["retry-after"];if(l){try{for(var a=Eu(l.trim().split(",")),c=a.next();!c.done;c=a.next()){var u=c.value.split(":",2),d=parseInt(u[0],10),f=1e3*(isNaN(d)?60:d);try{for(var p=(r=void 0,Eu(u[1].split(";"))),h=p.next();!h.done;h=p.next()){var m=h.value;this._rateLimits[m||"all"]=new Date(i+f)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return!0}return!!s&&(this._rateLimits.all=new Date(i+function(t,e){if(!e)return 6e4;var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+e);return isNaN(r)?6e4:r-t}(i,s)),!0)},t}(),Jf=id(),Kf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vu(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(Tf(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(Cf(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;if(this._isRateLimited(t.type))return Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429});var r={body:t.body,method:"POST",referrerPolicy:Id()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add(new Yd((function(e,o){Jf.fetch(t.url,r).then((function(r){var i={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:t.type,response:r,headers:i,resolve:e,reject:o})})).catch(o)})))},e}(zf),Xf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vu(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(Tf(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(Cf(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;return this._isRateLimited(t.type)?Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429}):this._buffer.add(new Yd((function(e,r){var o=new XMLHttpRequest;for(var i in o.onreadystatechange=function(){if(4===o.readyState){var i={"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")};n._handleResponse({requestType:t.type,response:o,headers:i,resolve:e,reject:r})}},o.open("POST",t.url),n.options.headers)n.options.headers.hasOwnProperty(i)&&o.setRequestHeader(i,n.options.headers[i]);o.send(t.body)})))},e}(zf),Qf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vu(e,t),e.prototype.eventFromException=function(t,e){return function(t,e,n){var r=Yf(e,n&&n.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return dd(r,{handled:!0,type:"generic"}),r.level=$u.Error,n&&n.event_id&&(r.event_id=n.event_id),Yd.resolve(r)}(this._options,t,e)},e.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=$u.Info),function(t,e,n,r){void 0===n&&(n=$u.Info);var o=Vf(e,r&&r.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Yd.resolve(o)}(this._options,t,e,n)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=Su(Su({},this._options.transportOptions),{dsn:this._options.dsn,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(e):kd()?new Kf(e):new Xf(e)},e}(wf),Zf=0;function tp(){return Zf>0}function ep(){Zf+=1,setTimeout((function(){Zf-=1}))}function np(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(e){return t}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var o=r.map((function(t){return np(t,e)}));return t.handleEvent?t.handleEvent.apply(this,o):t.apply(this,o)}catch(t){throw ep(),hf((function(n){n.addEventProcessor((function(t){var n=Su({},t);return e.mechanism&&(ud(n,void 0,void 0),dd(n,e.mechanism)),n.extra=Su(Su({},n.extra),{arguments:r}),n})),pf(t)})),t}};try{for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}catch(t){}t.prototype=t.prototype||{},r.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return t.name}})}catch(t){}return r}function rp(t){if(void 0===t&&(t={}),t.eventId)if(t.dsn){var e=document.createElement("script");e.async=!0,e.src=new mf(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(e.onload=t.onLoad),(document.head||document.body).appendChild(e)}else md.error("Missing dsn option in showReportDialog call");else md.error("Missing eventId option in showReportDialog call")}var op=function(){function t(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=Su({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(md.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(md.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){var e=this;this._onErrorHandlerInstalled||(Dd({callback:function(n){var r=n.error,o=af(),i=o.getIntegration(t),l=r&&!0===r.__sentry_own_request__;if(i&&!tp()&&!l){var s=o.getClient(),a=Bu(r)?e._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):e._enhanceEventWithInitialFrame(Yf(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);dd(a,{handled:!1,type:"onerror"}),o.captureEvent(a,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){var e=this;this._onUnhandledRejectionHandlerInstalled||(Dd({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(t){}var o=af(),i=o.getIntegration(t),l=r&&!0===r.__sentry_own_request__;if(!i||tp()||l)return!0;var s=o.getClient(),a=Bu(r)?e._eventFromRejectionWithPrimitive(r):Yf(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});a.level=$u.Error,dd(a,{handled:!1,type:"onunhandledrejection"}),o.captureEvent(a,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},t.prototype._eventFromIncompleteOnError=function(t,e,n,r){var o,i=Nu(t)?t.message:t;if(Du(i)){var l=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);l&&(o=l[1],i=l[2])}var s={exception:{values:[{type:o||"Error",value:i}]}};return this._enhanceEventWithInitialFrame(s,e,n,r)},t.prototype._eventFromRejectionWithPrimitive=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}},t.prototype._enhanceEventWithInitialFrame=function(t,e,n,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var o=isNaN(parseInt(r,10))?void 0:r,i=isNaN(parseInt(n,10))?void 0:n,l=Du(e)&&e.length>0?e:function(){try{return document.location.href}catch(t){return""}}();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:o,filename:l,function:"?",in_app:!0,lineno:i}),t},t.id="GlobalHandlers",t}(),ip=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],lp=function(){function t(e){this.name=t.id,this._options=Su({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var t=id();(this._options.setTimeout&&vd(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&vd(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&vd(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&vd(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget)&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:ip).forEach(this._wrapEventTarget.bind(this))},t.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=np(r,{mechanism:{data:{function:_d(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype._wrapRAF=function(t){return function(e){return t.call(this,np(e,{mechanism:{data:{function:"requestAnimationFrame",handler:_d(t)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(t){var e=id(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(vd(n,"addEventListener",(function(e){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=np(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:_d(r),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.call(this,n,np(r,{mechanism:{data:{function:"addEventListener",handler:_d(r),target:t},handled:!0,type:"instrument"}}),o)}})),vd(n,"removeEventListener",(function(t){return function(e,n,r){var o,i=n;try{var l=null===(o=i)||void 0===o?void 0:o.__sentry_wrapped__;l&&t.call(this,e,l,r)}catch(t){}return t.call(this,e,i,r)}})))},t.prototype._wrapXHR=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,o=["onload","onerror","onprogress","onreadystatechange"];return o.forEach((function(t){t in r&&"function"==typeof r[t]&&vd(r,t,(function(e){var n={mechanism:{data:{function:t,handler:_d(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(n.mechanism.data.handler=_d(e.__sentry_original__)),np(e,n)}))})),t.apply(this,e)}},t.id="TryCatch",t}(),sp=function(){function t(e){this.name=t.id,this._options=Su({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&af().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:ad(t)},{event:t})},t.prototype.setupOnce=function(){var t=this;this._options.console&&Dd({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._consoleBreadcrumb.apply(t,Tu(e))},type:"console"}),this._options.dom&&Dd({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._domBreadcrumb.apply(t,Tu(e))},type:"dom"}),this._options.xhr&&Dd({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._xhrBreadcrumb.apply(t,Tu(e))},type:"xhr"}),this._options.fetch&&Dd({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._fetchBreadcrumb.apply(t,Tu(e))},type:"fetch"}),this._options.history&&Dd({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._historyBreadcrumb.apply(t,Tu(e))},type:"history"})},t.prototype._consoleBreadcrumb=function(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:$u.fromString(t.level),message:nd(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+(nd(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}af().addBreadcrumb(e,{input:t.args,level:t.level})},t.prototype._domBreadcrumb=function(t){var e;try{e=t.event.target?Uu(t.event.target):Uu(t.event)}catch(t){e="<unknown>"}0!==e.length&&af().addBreadcrumb({category:"ui."+t.name,message:e},{event:t.event,name:t.name,global:t.global})},t.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var e=t.xhr.__sentry_xhr__||{},n=e.method,r=e.url,o=e.status_code,i=e.body;af().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:o},type:"http"},{xhr:t.xhr,input:i})}else;},t.prototype._fetchBreadcrumb=function(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?af().addBreadcrumb({category:"fetch",data:t.fetchData,level:$u.Error,type:"http"},{data:t.error,input:t.args}):af().addBreadcrumb({category:"fetch",data:Su(Su({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))},t.prototype._historyBreadcrumb=function(t){var e=id(),n=t.from,r=t.to,o=sd(e.location.href),i=sd(n),l=sd(r);i.path||(i=o),o.protocol===l.protocol&&o.host===l.host&&(r=l.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),af().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},t.id="Breadcrumbs",t}(),ap=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||"cause",this._limit=e.limit||5}return t.prototype.setupOnce=function(){nf((function(e,n){var r=af().getIntegration(t);return r?r._handler(e,n):e}))},t.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&Hu(e.originalException,Error)))return t;var n=this._walkErrorTree(e.originalException,this._key);return t.exception.values=Tu(n,t.exception.values),t},t.prototype._walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!Hu(t[e],Error)||n.length+1>=this._limit)return n;var r=Uf(Pf(t[e]));return this._walkErrorTree(t[e],e,Tu([r],n))},t.id="LinkedErrors",t}(),cp=id(),up=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){nf((function(e){var n,r,o;if(af().getIntegration(t)){if(!cp.navigator&&!cp.location&&!cp.document)return e;var i=(null===(n=e.request)||void 0===n?void 0:n.url)||(null===(r=cp.location)||void 0===r?void 0:r.href),l=(cp.document||{}).referrer,s=(cp.navigator||{}).userAgent,a=Su(Su(Su({},null===(o=e.request)||void 0===o?void 0:o.headers),l&&{Referer:l}),s&&{"User-Agent":s}),c=Su(Su({},i&&{url:i}),{headers:a});return Su(Su({},e),{request:c})}return e}))},t.id="UserAgent",t}(),dp=function(t){function e(e){void 0===e&&(e={});return e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Of}],version:Of},t.call(this,Qf,e)||this}return vu(e,t),e.prototype.showReportDialog=function(t){void 0===t&&(t={}),id().document&&(this._isEnabled()?rp(Su(Su({},t),{dsn:t.dsn||this.getDsn()})):md.error("Trying to call showReportDialog with Sentry Client disabled"))},e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"javascript",t.prototype._prepareEvent.call(this,e,n,r)},e.prototype._sendEvent=function(e){var n=this.getIntegration(sp);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e}($f),fp=[new Rf,new If,new lp,new sp,new op,new ap,new up];
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var pp=function(t,e){return(pp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function hp(t,e){function n(){this.constructor=t}pp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var mp,gp=function(){return(gp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function yp(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l}function _p(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(yp(arguments[e]));return t}!function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"}(mp||(mp={})),function(t){t.fromHttpCode=function(e){if(e<400)return t.Ok;if(e>=400&&e<500)switch(e){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(e>=500&&e<600)switch(e){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}}(mp||(mp={}));var vp=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function bp(t){return"tracesSampleRate"in t||"tracesSampler"in t}function $p(t){var e,n;return void 0===t&&(t=af()),null===(n=null===(e=t)||void 0===e?void 0:e.getScope())||void 0===n?void 0:n.getTransaction()}function xp(t){return t/1e3}function wp(){var t=$p();t&&(md.log("[Tracing] Transaction: "+mp.InternalError+" -> Global error occured"),t.setStatus(mp.InternalError))}var Sp=function(){function t(t){void 0===t&&(t=1e3),this.spans=[],this._maxlen=t}return t.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},t}(),Ep=function(t){function e(e,n){var r=t.call(this,e)||this;return r._metadata={},r._measurements={},r._hub=af(),Hu(n,of)&&(r._hub=n),r.name=e.name||"",r._trimEnd=e.trimEnd,r.transaction=r,r}return hp(e,t),e.prototype.setName=function(t){this.name=t},e.prototype.initSpanRecorder=function(t){void 0===t&&(t=1e3),this.spanRecorder||(this.spanRecorder=new Sp(t)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(t){this._measurements=gp({},t)},e.prototype.setMetadata=function(t){this._metadata=gp(gp({},this._metadata),t)},e.prototype.finish=function(e){var n=this;if(void 0===this.endTimestamp){if(this.name||(md.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,e),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter((function(t){return t!==n&&t.endTimestamp})):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((function(t,e){return t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t})).endTimestamp);var o={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this._metadata};return Object.keys(this._measurements).length>0&&(md.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),o.measurements=this._measurements),this._hub.captureEvent(o)}md.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.")}},e.prototype.toContext=function(){var e=t.prototype.toContext.call(this);return Td(gp(gp({},e),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(e){var n;return t.prototype.updateWithContext.call(this,e),this.name=null!=(n=e.name)?n:"",this._trimEnd=e.trimEnd,this},e}(function(){function t(t){if(this.traceId=ld(),this.spanId=ld().substring(16),this.startTimestamp=Qd(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return t.prototype.child=function(t){return this.startChild(t)},t.prototype.startChild=function(e){var n=new t(gp(gp({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},t.prototype.setTag=function(t,e){var n;return this.tags=gp(gp({},this.tags),((n={})[t]=e,n)),this},t.prototype.setData=function(t,e){var n;return this.data=gp(gp({},this.data),((n={})[t]=e,n)),this},t.prototype.setStatus=function(t){return this.status=t,this},t.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var e=mp.fromHttpCode(t);return e!==mp.UnknownError&&this.setStatus(e),this},t.prototype.isSuccess=function(){return this.status===mp.Ok},t.prototype.finish=function(t){this.endTimestamp="number"==typeof t?t:Qd()},t.prototype.toTraceparent=function(){var t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},t.prototype.toContext=function(){return Td({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(t){var e,n,r,o,i;return this.data=null!=(e=t.data)?e:{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=null!=(n=t.spanId)?n:this.spanId,this.startTimestamp=null!=(r=t.startTimestamp)?r:this.startTimestamp,this.status=t.status,this.tags=null!=(o=t.tags)?o:{},this.traceId=null!=(i=t.traceId)?i:this.traceId,this},t.prototype.getTraceContext=function(){return Td({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return Td({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}()),Cp=function(t){function e(e,n,r,o){void 0===r&&(r="");var i=t.call(this,o)||this;return i._pushActivity=e,i._popActivity=n,i.transactionSpanId=r,i}return hp(e,t),e.prototype.add=function(e){var n=this;e.spanId!==this.transactionSpanId&&(e.finish=function(t){e.endTimestamp="number"==typeof t?t:Qd(),n._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),t.prototype.add.call(this,e)},e}(Sp),Tp=function(t){function e(e,n,r,o){void 0===r&&(r=1e3),void 0===o&&(o=!1);var i=t.call(this,e,n)||this;return i._idleHub=n,i._idleTimeout=r,i._onScope=o,i.activities={},i._heartbeatTimer=0,i._heartbeatCounter=0,i._finished=!1,i._beforeFinishCallbacks=[],n&&o&&(kp(n),md.log("Setting idle transaction on scope. Span ID: "+i.spanId),n.configureScope((function(t){return t.setSpan(i)}))),i._initTimeout=setTimeout((function(){i._finished||i.finish()}),i._idleTimeout),i}return hp(e,t),e.prototype.finish=function(e){var n,r,o=this;if(void 0===e&&(e=Qd()),this._finished=!0,this.activities={},this.spanRecorder){md.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this._beforeFinishCallbacks),l=i.next();!l.done;l=i.next()){(0,l.value)(this,e)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(t){if(t.spanId===o.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus(mp.Cancelled),md.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var n=t.startTimestamp<e;return n||md.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n})),md.log("[Tracing] flushing IdleTransaction")}else md.log("[Tracing] No active IdleTransaction");return this._onScope&&kp(this._idleHub),t.prototype.finish.call(this,e)},e.prototype.registerBeforeFinishCallback=function(t){this._beforeFinishCallbacks.push(t)},e.prototype.initSpanRecorder=function(t){var e=this;if(!this.spanRecorder){this.spanRecorder=new Cp((function(t){e._finished||e._pushActivity(t)}),(function(t){e._finished||e._popActivity(t)}),this.spanId,t),md.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(t){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),md.log("[Tracing] pushActivity: "+t),this.activities[t]=!0,md.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(t){var e=this;if(this.activities[t]&&(md.log("[Tracing] popActivity "+t),delete this.activities[t],md.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=Qd()+n/1e3;setTimeout((function(){e._finished||e.finish(r)}),n)}},e.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var t=Object.keys(this.activities),e=t.length?t.reduce((function(t,e){return t+e})):"";e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(md.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(mp.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var t=this;md.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout((function(){t._beat()}),5e3)},e}(Ep);function kp(t){if(t){var e=t.getScope();if(e)e.getTransaction()&&e.setSpan(void 0)}}function Op(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function Ip(t,e,n){return bp(e)?void 0!==t.sampled?(t.setMetadata({transactionSampling:{method:wu.Explicit}}),t):("function"==typeof e.tracesSampler?(r=e.tracesSampler(n),t.setMetadata({transactionSampling:{method:wu.Sampler,rate:Number(r)}})):void 0!==n.parentSampled?(r=n.parentSampled,t.setMetadata({transactionSampling:{method:wu.Inheritance}})):(r=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:wu.Rate,rate:Number(r)}})),function(t){if(isNaN(t)||"number"!=typeof t&&"boolean"!=typeof t)return md.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1;if(t<0||t>1)return md.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1;return!0}(r)?r?(t.sampled=Math.random()<r,t.sampled?(md.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(md.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(r)+")"),t)):(md.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(md.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)):(t.sampled=!1,t);var r}function Mp(t,e){var n,r,o=(null===(n=this.getClient())||void 0===n?void 0:n.getOptions())||{},i=new Ep(t,this);return(i=Ip(i,o,gp({parentSampled:t.parentSampled,transactionContext:t},e))).sampled&&i.initSpanRecorder(null===(r=o._experiments)||void 0===r?void 0:r.maxSpans),i}var Rp=id();var Ap,Np,Lp=function(t,e,n,r){var o;return function(){n&&e.isFinal&&n.disconnect(),e.value>=0&&(r||e.isFinal||"hidden"===document.visibilityState)&&(e.delta=e.value-(o||0),(e.delta||e.isFinal||void 0===o)&&(t(e),o=e.value))}},Dp=function(t,e){return void 0===e&&(e=-1),{name:t,value:e,delta:0,entries:[],id:Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12),isFinal:!1}},Bp=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var n=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return n.observe({type:t,buffered:!0}),n}}catch(t){}},jp=!1,qp=!1,Pp=function(t){jp=!t.persisted},Fp=function(t,e){void 0===e&&(e=!1),qp||(addEventListener("pagehide",Pp),addEventListener("beforeunload",(function(){})),qp=!0),addEventListener("visibilitychange",(function(e){var n=e.timeStamp;"hidden"===document.visibilityState&&t({timeStamp:n,isUnloading:jp})}),{capture:!0,once:e})},Hp=function(){return void 0===Ap&&(Ap="hidden"===document.visibilityState?0:1/0,Fp((function(t){var e=t.timeStamp;return Ap=e}),!0)),{get timeStamp(){return Ap}}},Up=function(t,e){void 0===e&&(e=!1);var n,r=Dp("LCP"),o=Hp(),i=function(t){var e=t.startTime;e<o.timeStamp?(r.value=e,r.entries.push(t)):r.isFinal=!0,n()},l=Bp("largest-contentful-paint",i);if(l){n=Lp(t,r,l,e);var s=function(){r.isFinal||(l.takeRecords().map(i),r.isFinal=!0,n())};(Np||(Np=new Promise((function(t){return["scroll","keydown","pointerdown"].map((function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})}))}))),Np).then(s),Fp(s,!0)}},Gp=id(),Wp=function(t){var e,n=Dp("TTFB");e=function(){try{var e=Gp.performance.getEntriesByType("navigation")[0]||function(){var t=Gp.performance.timing,e={entryType:"navigation",startTime:0};for(var n in t)"navigationStart"!==n&&"toJSON"!==n&&(e[n]=Math.max(t[n]-t.navigationStart,0));return e}();n.value=n.delta=e.responseStart,n.entries=[e],t(n)}catch(t){}},"complete"===document.readyState?setTimeout(e,0):addEventListener("pageshow",e)},Yp=id(),Vp=function(){function t(){this._measurements={},this._performanceCursor=0,Yp&&Yp.performance&&(Yp.performance.mark&&Yp.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID(),this._trackTTFB())}return t.prototype.addPerformanceEntries=function(t){var e=this;if(Yp&&Yp.performance&&Yp.performance.getEntries&&Zd){md.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,o,i=xp(Zd);if(Yp.document)for(var l=0;l<document.scripts.length;l++)if("true"===document.scripts[l].dataset.entry){n=document.scripts[l].src;break}if(Yp.performance.getEntries().slice(this._performanceCursor).forEach((function(l){var s=xp(l.startTime),a=xp(l.duration);if(!("navigation"===t.op&&i+s<t.startTimestamp))switch(l.entryType){case"navigation":!function(t,e,n){zp(t,e,"unloadEvent",n),zp(t,e,"redirect",n),zp(t,e,"domContentLoadedEvent",n),zp(t,e,"loadEvent",n),zp(t,e,"connect",n),zp(t,e,"secureConnection",n,"connectEnd"),zp(t,e,"fetch",n,"domainLookupStart"),zp(t,e,"domainLookup",n),function(t,e,n){Jp(t,{op:"browser",description:"request",startTimestamp:n+xp(e.requestStart),endTimestamp:n+xp(e.responseEnd)}),Jp(t,{op:"browser",description:"response",startTimestamp:n+xp(e.responseStart),endTimestamp:n+xp(e.responseEnd)})}(t,e,n)}(t,l,i);break;case"mark":case"paint":case"measure":var c=function(t,e,n,r,o){var i=o+n,l=i+r;return Jp(t,{description:e.name,endTimestamp:l,op:e.entryType,startTimestamp:i}),i}(t,l,s,a,i);void 0===o&&"sentry-tracing-init"===l.name&&(o=c);var u=Hp(),d=l.startTime<u.timeStamp;"first-paint"===l.name&&d&&(md.log("[Measurements] Adding FP"),e._measurements.fp={value:l.startTime},e._measurements["mark.fp"]={value:c}),"first-contentful-paint"===l.name&&d&&(md.log("[Measurements] Adding FCP"),e._measurements.fcp={value:l.startTime},e._measurements["mark.fcp"]={value:c});break;case"resource":var f=l.name.replace(window.location.origin,""),p=function(t,e,n,r,o,i){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;var l={};"transferSize"in e&&(l["Transfer Size"]=e.transferSize);"encodedBodySize"in e&&(l["Encoded Body Size"]=e.encodedBodySize);"decodedBodySize"in e&&(l["Decoded Body Size"]=e.decodedBodySize);var s=i+r,a=s+o;return Jp(t,{description:n,endTimestamp:a,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:s,data:l}),a}(t,l,f,s,a,i);void 0===r&&(n||"").indexOf(f)>-1&&(r=p)}})),void 0!==r&&void 0!==o&&Jp(t,{description:"evaluation",endTimestamp:o,op:"script",startTimestamp:r}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),"pageload"===t.op){var s=xp(Zd);["fcp","fp","lcp","ttfb"].forEach((function(n){if(e._measurements[n]&&!(s>=t.startTimestamp)){var r=e._measurements[n].value,o=s+xp(r),i=Math.abs(1e3*(o-t.startTimestamp)),l=i-r;md.log("[Measurements] Normalized "+n+" from "+r+" to "+i+" ("+l+")"),e._measurements[n].value=i}})),this._measurements["mark.fid"]&&this._measurements.fid&&Jp(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+xp(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),t.setMeasurements(this._measurements)}}},t.prototype._trackCLS=function(){var t=this;!function(t,e){void 0===e&&(e=!1);var n,r=Dp("CLS",0),o=function(t){t.hadRecentInput||(r.value+=t.value,r.entries.push(t),n())},i=Bp("layout-shift",o);i&&(n=Lp(t,r,i,e),Fp((function(t){var e=t.isUnloading;i.takeRecords().map(o),e&&(r.isFinal=!0),n()})))}((function(e){e.entries.pop()&&(md.log("[Measurements] Adding CLS"),t._measurements.cls={value:e.value})}))},t.prototype._trackNavigator=function(t){var e=Yp.navigator;if(e){var n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),Kp(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),Kp(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),Kp(e.deviceMemory)&&t.setTag("deviceMemory",String(e.deviceMemory)),Kp(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}},t.prototype._trackLCP=function(){var t=this;Up((function(e){var n=e.entries.pop();if(n){var r=xp(performance.timeOrigin),o=xp(n.startTime);md.log("[Measurements] Adding LCP"),t._measurements.lcp={value:e.value},t._measurements["mark.lcp"]={value:r+o}}}))},t.prototype._trackFID=function(){var t,e,n,r,o,i,l=this;t=function(t){var e=t.entries.pop();if(e){var n=xp(performance.timeOrigin),r=xp(e.startTime);md.log("[Measurements] Adding FID"),l._measurements.fid={value:t.value},l._measurements["mark.fid"]={value:n+r}}},e=Dp("FID"),n=Hp(),o=Bp("first-input",r=function(t){t.startTime<n.timeStamp&&(e.value=t.processingStart-t.startTime,e.entries.push(t),e.isFinal=!0,i())}),i=Lp(t,e,o),o?Fp((function(){o.takeRecords().map(r),o.disconnect()}),!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay((function(t,r){r.timeStamp<n.timeStamp&&(e.value=t,e.isFinal=!0,e.entries=[{entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+t}],i())}))},t.prototype._trackTTFB=function(){var t=this;Wp((function(e){var n,r=e.entries.pop();if(r){md.log("[Measurements] Adding TTFB"),t._measurements.ttfb={value:e.value};var o=e.value-(n=e.entries[0],null!=n?n:r).requestStart;t._measurements["ttfb.requestTime"]={value:o}}}))},t}();function zp(t,e,n,r,o){var i=o?e[o]:e[n+"End"],l=e[n+"Start"];l&&i&&Jp(t,{op:"browser",description:n,startTimestamp:r+xp(l),endTimestamp:r+xp(i)})}function Jp(t,e){var n=e.startTimestamp,r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild(gp({startTimestamp:n},r))}function Kp(t){return"number"==typeof t&&isFinite(t)}var Xp={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};function Qp(t){var e=gp(gp({},Xp),t),n=e.traceFetch,r=e.traceXHR,o=e.tracingOrigins,i=e.shouldCreateSpanForRequest,l={},s=function(t){if(l[t])return l[t];var e=o;return l[t]=e.some((function(e){return rd(t,e)}))&&!rd(t,"sentry_key"),l[t]},a=s;"function"==typeof i&&(a=function(t){return s(t)&&i(t)});var c={};n&&Dd({callback:function(t){!function(t,e,n){var r,o=null===(r=af().getClient())||void 0===r?void 0:r.getOptions();if(!(o&&bp(o)&&t.fetchData&&e(t.fetchData.url)))return;if(t.endTimestamp&&t.fetchData.__span){if(s=n[t.fetchData.__span]){var i=t.response;i&&s.setHttpStatus(i.status),s.finish(),delete n[t.fetchData.__span]}return}var l=$p();if(l){var s=l.startChild({data:gp(gp({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http"});t.fetchData.__span=s.spanId,n[s.spanId]=s;var a=t.args[0]=t.args[0],c=t.args[1]=t.args[1]||{},u=c.headers;Hu(a,Request)&&(u=a.headers),u?"function"==typeof u.append?u.append("sentry-trace",s.toTraceparent()):u=Array.isArray(u)?_p(u,[["sentry-trace",s.toTraceparent()]]):gp(gp({},u),{"sentry-trace":s.toTraceparent()}):u={"sentry-trace":s.toTraceparent()},c.headers=u}}(t,a,c)},type:"fetch"}),r&&Dd({callback:function(t){!function(t,e,n){var r,o=null===(r=af().getClient())||void 0===r?void 0:r.getOptions();if(!o||!bp(o)||!(t.xhr&&t.xhr.__sentry_xhr__&&e(t.xhr.__sentry_xhr__.url))||t.xhr.__sentry_own_request__)return;var i=t.xhr.__sentry_xhr__;if(t.endTimestamp&&t.xhr.__sentry_xhr_span_id__){return void((s=n[t.xhr.__sentry_xhr_span_id__])&&(s.setHttpStatus(i.status_code),s.finish(),delete n[t.xhr.__sentry_xhr_span_id__]))}var l=$p();if(l){var s=l.startChild({data:gp(gp({},i.data),{type:"xhr",method:i.method,url:i.url}),description:i.method+" "+i.url,op:"http"});if(t.xhr.__sentry_xhr_span_id__=s.spanId,n[t.xhr.__sentry_xhr_span_id__]=s,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",s.toTraceparent())}catch(t){}}}(t,a,c)},type:"xhr"})}var Zp=id();var th=gp({idleTimeout:1e3,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!0),Zp&&Zp.location){var r,o=Zp.location.href;e&&(r=t({name:Zp.location.pathname,op:"pageload"})),n&&Dd({callback:function(e){var n=e.to,i=e.from;void 0===i&&o&&-1!==o.indexOf(n)?o=void 0:i!==n&&(o=void 0,r&&(md.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=t({name:Zp.location.pathname,op:"navigation"}))},type:"history"})}else md.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},Xp),eh=function(){function t(e){this.name=t.id,this._metrics=new Vp,this._emitOptionsWarning=!1;var n=Xp.tracingOrigins;e&&e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&0!==e.tracingOrigins.length?n=e.tracingOrigins:this._emitOptionsWarning=!0,this.options=gp(gp(gp({},th),e),{tracingOrigins:n})}return t.prototype.setupOnce=function(t,e){var n=this;this._getCurrentHub=e,this._emitOptionsWarning&&(md.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),md.warn("[Tracing] We added a reasonable default for you: "+Xp.tracingOrigins));var r=this.options,o=r.routingInstrumentation,i=r.startTransactionOnLocationChange,l=r.startTransactionOnPageLoad,s=r.markBackgroundTransactions,a=r.traceFetch,c=r.traceXHR,u=r.tracingOrigins,d=r.shouldCreateSpanForRequest;o((function(t){return n._createRouteTransaction(t)}),l,i),s&&(Rp&&Rp.document?Rp.document.addEventListener("visibilitychange",(function(){var t=$p();Rp.document.hidden&&t&&(md.log("[Tracing] Transaction: "+mp.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(mp.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())})):md.warn("[Tracing] Could not set up background tab detection due to lack of global document")),Qp({traceFetch:a,traceXHR:c,tracingOrigins:u,shouldCreateSpanForRequest:d})},t.prototype._createRouteTransaction=function(t){var e=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,o=n.idleTimeout,i=n.maxTransactionDuration,l="pageload"===t.op?function(){var t=(e="sentry-trace",n=document.querySelector("meta[name="+e+"]"),n?n.getAttribute("content"):null);var e,n;if(t)return function(t){var e=t.match(vp);if(e){var n=void 0;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}(t);return}():void 0,s=gp(gp(gp({},t),l),{trimEnd:!0}),a="function"==typeof r?r(s):s,c=void 0===a?gp(gp({},s),{sampled:!1}):a;!1===c.sampled&&md.log("[Tracing] Will not send "+c.op+" transaction because of beforeNavigate."),md.log("[Tracing] Starting "+c.op+" transaction on scope");var u=function(t,e,n,r,o){var i,l,s=(null===(i=t.getClient())||void 0===i?void 0:i.getOptions())||{},a=new Tp(e,t,n,r);return(a=Ip(a,s,gp({parentSampled:e.parentSampled,transactionContext:e},o))).sampled&&a.initSpanRecorder(null===(l=s._experiments)||void 0===l?void 0:l.maxSpans),a}(this._getCurrentHub(),c,o,!0,{location:id().location});return u.registerBeforeFinishCallback((function(t,n){e._metrics.addPerformanceEntries(t),function(t,e,n){var r=n-e.startTimestamp;n&&(r>t||r<0)&&(e.setStatus(mp.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}(1e3*i,t,n)})),u}md.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.")},t.id="BrowserTracing",t}();var nh=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return t.prototype.setupOnce=function(){this._router?function(t,e){void 0===e&&(e=[]);e.forEach((function(e){return function(t,e){var n=t[e];return t[e]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n.call.apply(n,_p([this],oh(t,e)))},t}(t,e)}))}(this._router,this._methods):md.error("ExpressIntegration is missing an Express instance")},t.id="Express",t}();function rh(t,e){var n=t.length;switch(n){case 2:return function(n,r){var o=r.__sentry_transaction;if(o){var i=o.startChild({description:t.name,op:"middleware."+e});r.once("finish",(function(){i.finish()}))}return t.call(this,n,r)};case 3:return function(n,r,o){var i,l=null===(i=r.__sentry_transaction)||void 0===i?void 0:i.startChild({description:t.name,op:"middleware."+e});t.call(this,n,r,(function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=l)||void 0===t||t.finish(),o.call.apply(o,_p([this],e))}))};case 4:return function(n,r,o,i){var l,s=null===(l=o.__sentry_transaction)||void 0===l?void 0:l.startChild({description:t.name,op:"middleware."+e});t.call(this,n,r,o,(function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=s)||void 0===t||t.finish(),i.call.apply(i,_p([this],e))}))};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}function oh(t,e){return t.map((function(t){return"function"==typeof t?rh(t,e):Array.isArray(t)?t.map((function(t){return"function"==typeof t?rh(t,e):t})):t}))}var ih,lh=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,e){var n;try{n=td(module,"pg").Client}catch(t){return void md.error("Postgres Integration was unable to require `pg` package.")}vd(n.prototype,"query",(function(t){return function(n,r,o){var i,l,s=null===(l=null===(i=e().getScope())||void 0===i?void 0:i.getSpan())||void 0===l?void 0:l.startChild({description:"string"==typeof n?n:n.text,op:"db"});return"function"==typeof o?t.call(this,n,r,(function(t,e){var n;null===(n=s)||void 0===n||n.finish(),o(t,e)})):"function"==typeof r?t.call(this,n,(function(t,e){var n;null===(n=s)||void 0===n||n.finish(),r(t,e)})):t.call(this,n,r).then((function(t){var e;return null===(e=s)||void 0===e||e.finish(),t}))}}))},t.id="Postgres",t}(),sh=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,e){var n;try{n=td(module,"mysql/lib/Connection.js")}catch(t){return void md.error("Mysql Integration was unable to require `mysql` package.")}vd(n.prototype,"query",(function(t){return function(n,r,o){var i,l,s=null===(l=null===(i=e().getScope())||void 0===i?void 0:i.getSpan())||void 0===l?void 0:l.startChild({description:"string"==typeof n?n:n.sql,op:"db"});return"function"==typeof o?t.call(this,n,r,(function(t,e,n){var r;null===(r=s)||void 0===r||r.finish(),o(t,e,n)})):"function"==typeof r?t.call(this,n,(function(t,e,n){var o;null===(o=s)||void 0===o||o.finish(),r(t,e,n)})):t.call(this,n,r,o)}}))},t.id="Mysql",t}(),ah=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],ch={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},uh=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:ah,this._describeOperations=!("describeOperations"in e)||e.describeOperations,this._useMongoose=!!e.useMongoose}return t.prototype.setupOnce=function(t,e){var n,r=this._useMongoose?"mongoose":"mongodb";try{n=td(module,r).Collection}catch(t){return void md.error("Mongo Integration was unable to require `"+r+"` package.")}this._instrumentOperations(n,this._operations,e)},t.prototype._instrumentOperations=function(t,e,n){var r=this;e.forEach((function(e){return r._patchOperation(t,e,n)}))},t.prototype._patchOperation=function(t,e,n){if(e in t.prototype){var r=this._getSpanContextFromOperationArguments.bind(this);vd(t.prototype,e,(function(t){return function(){for(var o,i,l,s,a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var u=a[a.length-1],d=n().getScope(),f=null===(o=d)||void 0===o?void 0:o.getSpan();if("function"!=typeof u||"mapReduce"===e&&2===a.length){var p=null===(i=f)||void 0===i?void 0:i.startChild(r(this,e,a)),h=t.call.apply(t,_p([this],a));return Fu(h)?h.then((function(t){var e;return null===(e=p)||void 0===e||e.finish(),t})):(null===(l=p)||void 0===l||l.finish(),h)}var m=null===(s=f)||void 0===s?void 0:s.startChild(r(this,e,a.slice(0,-1)));return t.call.apply(t,_p([this],a.slice(0,-1),[function(t,e){var n;null===(n=m)||void 0===n||n.finish(),u(t,e)}]))}}))}},t.prototype._getSpanContextFromOperationArguments=function(t,e,n){var r={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},o={op:"db",description:e,data:r},i=ch[e],l=Array.isArray(this._describeOperations)?this._describeOperations.includes(e):this._describeOperations;if(!i||!l)return o;try{if("mapReduce"===e){var s=yp(n,2),a=s[0],c=s[1];r[i[0]]="string"==typeof a?a:a.name||"<anonymous>",r[i[1]]="string"==typeof c?c:c.name||"<anonymous>"}else for(var u=0;u<i.length;u++)r[i[u]]=JSON.stringify(n[u])}catch(t){}return o},t.id="Mongo",t}(),dh=gp(gp({},Object.freeze({__proto__:null,Express:nh,Postgres:lh,Mysql:sh,Mongo:uh})),{BrowserTracing:eh});function fh(){new yu({target:document.body})}(ih=lf()).__SENTRY__&&(ih.__SENTRY__.extensions=ih.__SENTRY__.extensions||{},ih.__SENTRY__.extensions.startTransaction||(ih.__SENTRY__.extensions.startTransaction=Mp),ih.__SENTRY__.extensions.traceHeaders||(ih.__SENTRY__.extensions.traceHeaders=Op)),Dd({callback:wp,type:"error"}),Dd({callback:wp,type:"unhandledrejection"}),"localhost"!==location.hostname&&function(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=fp),void 0===t.release){var e=id();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),function(t,e){!0===e.debug&&md.enable();var n=af(),r=new t(e);n.bindClient(r)}(dp,t),t.autoSessionTracking&&function(){if(void 0===id().document)return void md.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");var t=af();t.startSession(),t.captureSession(),Dd({callback:function(){t.startSession(),t.captureSession()},type:"history"})}()}({dsn:"https://e7e132477a2844118b8f6d045a507e10@o318291.ingest.sentry.io/5665093",integrations:[new dh.BrowserTracing],tracesSampleRate:1}),"serviceWorker"in navigator?(navigator.serviceWorker.register("service-worker.js").catch((t=>{console.log("ServiceWorker registration failed: ",t)})),navigator.serviceWorker.ready.then(fh,fh)):fh()}();
//# sourceMappingURL=bundle.js.map
