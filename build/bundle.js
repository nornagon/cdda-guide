!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function a(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function h(){return p(" ")}function f(){return p("")}function m(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function v(t,e){t.value=null==e?"":e}function _(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}let b;function x(t){b=t}function w(){if(!b)throw new Error("Function called outside component initialization");return b}function E(t){return w().$$.context.get(t)}const S=[],T=[],O=[],k=[],C=Promise.resolve();let I=!1;function M(t){O.push(t)}let $=!1;const R=new Set;function A(){if(!$){$=!0;do{for(let t=0;t<S.length;t+=1){const e=S[t];x(e),N(e.$$)}for(x(null),S.length=0;T.length;)T.pop()();for(let t=0;t<O.length;t+=1){const e=O[t];R.has(e)||(R.add(e),e())}O.length=0}while(S.length);for(;k.length;)k.pop()();I=!1,$=!1,R.clear()}}function N(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(M)}}const L=new Set;let j;function D(){j={r:0,c:[],p:j}}function B(){j.r||r(j.c),j=j.p}function P(t,e){t&&t.i&&(L.delete(t),t.i(e))}function F(t,e,n,r){if(t&&t.o){if(L.has(t))return;L.add(t),j.c.push((()=>{L.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const U="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function q(t,e){F(t,1,1,(()=>{e.delete(t.key)}))}function H(t){t&&t.c()}function W(t,n,o,s){const{fragment:a,on_mount:c,on_destroy:l,after_update:u}=t.$$;a&&a.m(n,o),s||M((()=>{const n=c.map(e).filter(i);l?l.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(M)}function G(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Y(t,e){-1===t.$$.dirty[0]&&(S.push(t),I||(I=!0,C.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function z(e,i,o,s,a,c,u=[-1]){const d=b;x(e);const p=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:u,skip_bound:!1};let h=!1;if(p.ctx=o?o(e,i.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=i)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](i),h&&Y(e,t)),n})):[],p.update(),h=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);p.fragment&&p.fragment.l(t),t.forEach(l)}else p.fragment&&p.fragment.c();i.intro&&P(e.$$.fragment),W(e,i.target,i.anchor,i.customElement),A()}x(d)}class J{$destroy(){G(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const V=[];function K(e,n=t){let r;const i=[];function s(t){if(o(e,t)&&(e=t,r)){const t=!V.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),V.push(n,e)}if(t){for(let t=0;t<V.length;t+=2)V[t][0](V[t+1]);V.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(o,a=t){const c=[o,a];return i.push(c),1===i.length&&(r=n(s)||t),o(e),()=>{const t=i.indexOf(c);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}const X=new Map([["AMMO","item"],["GUN","item"],["ARMOR","item"],["PET_ARMOR","item"],["TOOL","item"],["TOOLMOD","item"],["TOOL_ARMOR","item"],["BOOK","item"],["COMESTIBLE","item"],["ENGINE","item"],["WHEEL","item"],["GUNMOD","item"],["MAGAZINE","item"],["BATTERY","item"],["GENERIC","item"],["BIONIC_ITEM","item"],["MONSTER","monster"]]),Z=t=>{var e;return null!==(e=X.get(t))&&void 0!==e?e:t},Q=t=>{var e,n;return(null==t?void 0:t.name)?"string"==typeof t.name?t.name:null!==(e=t.name.str_sp)&&void 0!==e?e:t.name.str:null!==(n=null==t?void 0:t.id)&&void 0!==n?n:null==t?void 0:t.abstract},tt=t=>{var e,n,r;return(null==t?void 0:t.name)?"string"==typeof t.name?t.name:null!==(n=null!==(e=t.name.str_sp)&&void 0!==e?e:t.name.str_pl)&&void 0!==n?n:t.name.str+"s":null!==(r=null==t?void 0:t.id)&&void 0!==r?r:null==t?void 0:t.abstract};function et(t){return void 0===t?0:"number"==typeof t?250*t:t.endsWith("ml")?parseInt(t):t.endsWith("L")?1e3*parseInt(t):void 0}function nt(t){return void 0===t?0:"number"==typeof t?t:t.endsWith("mg")?parseInt(t)/1e3:t.endsWith("kg")?1e3*parseInt(t):t.endsWith("g")?parseInt(t):void 0}function rt(t){return`${(et(t)/1e3).toFixed(2)} L`}function it(t){return`${(nt(t)/1e3).toFixed(2)} kg`}class ot{constructor(t){this._byType=new Map,this._byTypeById=new Map,this._abstractsByType=new Map,this._toolReplacements=new Map,this._craftingPseudoItems=new Map,this._migrations=new Map,this._raw=t;for(const e of t){if(!Object.hasOwnProperty.call(e,"type"))continue;if("MIGRATION"===e.type){for(const t of"string"==typeof e.id?[e.id]:e.id){const{replace:n}=e;this._migrations.set(t,n)}continue}const t=Z(e.type);if(this._byType.has(t)||this._byType.set(t,[]),this._byType.get(t).push(e),Object.hasOwnProperty.call(e,"id")&&(this._byTypeById.has(t)||this._byTypeById.set(t,new Map),this._byTypeById.get(t).set(e.id,e)),"recipe"===e.type&&Object.hasOwnProperty.call(e,"result")){this._byTypeById.has(t)||this._byTypeById.set(t,new Map);const n=e.result+(e.id_suffix?"_"+e.id_suffix:"");this._byTypeById.get(t).set(n,e)}Object.hasOwnProperty.call(e,"abstract")&&(this._abstractsByType.has(t)||this._abstractsByType.set(t,new Map),this._abstractsByType.get(t).set(e.abstract,e)),"TOOL"===e.type&&Object.hasOwnProperty.call(e,"sub")&&(this._toolReplacements.has(e.sub)||this._toolReplacements.set(e.sub,[]),this._toolReplacements.get(e.sub).push(e.id)),Object.hasOwnProperty.call(e,"crafting_pseudo_item")&&this._craftingPseudoItems.set(e.crafting_pseudo_item,e.id)}}byId(t,e){var n;if("string"!=typeof e)throw new Error("Requested non-string id");if("item"===t&&this._migrations.has(e))return this.byId(t,this._migrations.get(e));const r=null===(n=this._byTypeById.get(t))||void 0===n?void 0:n.get(e);return r?this._flatten(r):void 0}byType(t){var e;return null!==(e=this._byType.get(t))&&void 0!==e?e:[]}replacementTools(t){var e;return null!==(e=this._toolReplacements.get(t))&&void 0!==e?e:[]}craftingPseudoItem(t){return this._craftingPseudoItems.get(t)}all(){return this._raw}_flatten(t){var e,n,r,i,o,s,a,c;const l="copy-from"in t?null!==(n=null===(e=this._byTypeById.get(Z(t.type)))||void 0===e?void 0:e.get(t["copy-from"]))&&void 0!==n?n:null===(r=this._abstractsByType.get(Z(t.type)))||void 0===r?void 0:r.get(t["copy-from"]):null;if("copy-from"in t&&!l&&console.error(`Missing parent in ${null!==(i=t.id)&&void 0!==i?i:t.abstract}`),!l)return t;const u=Object.assign(Object.assign({},this._flatten(l)),t);for(const t of Object.keys(null!==(o=u.relative)&&void 0!==o?o:{}))"number"==typeof u.relative[t]&&(u[t]+=u.relative[t]);delete u.relative;for(const t of Object.keys(null!==(s=u.proportional)&&void 0!==s?s:{}))"number"==typeof u.proportional[t]&&("attack_cost"!==t||t in u||(u[t]=100),u[t]*=u.proportional[t],u[t]=0|u[t]);delete u.proportional;for(const t of Object.keys(null!==(a=u.extend)&&void 0!==a?a:{}))Array.isArray(u.extend[t])&&(u[t]=(null!==(c=u[t])&&void 0!==c?c:[]).concat(u.extend[t]));return delete u.extend,u}}function st(t,e){var n,r,i,o,s;const a=new Map;function c({id:t,prob:e,count:n}){var r;const{prob:i,count:o}=null!==(r=a.get(t))&&void 0!==r?r:{prob:0,count:[0,0]},s=1-(1-i)*(1-e),c=[n[0]+o[0],n[1]+o[1]];a.set(t,{prob:s,count:c})}function l(...t){t.forEach(c)}const u=[];if("old"!==e.subtype&&e.subtype){for(const t of null!==(n=e.entries)&&void 0!==n?n:[])Array.isArray(t)?u.push({item:t[0],prob:t[1]}):u.push(t);for(const t of null!==(r=e.items)&&void 0!==r?r:[])Array.isArray(t)?u.push({item:t[0],prob:t[1]}):"string"==typeof t?u.push({item:t,prob:100}):u.push(t);for(const t of null!==(i=e.groups)&&void 0!==i?i:[])Array.isArray(t)?u.push({group:t[0],prob:t[1]}):"string"==typeof t?u.push({group:t,prob:100}):u.push(t)}else for(const t of e.items)Array.isArray(t)?u.push({item:t[0],prob:t[1]}):u.push(t);function d(t,e,n){return{id:t.id,prob:t.prob*e,count:[t.count[0]*n[0],t.count[1]*n[1]]}}function p(t){return t.count?"number"==typeof t.count?[t.count,t.count]:t.count:t.charges?"number"==typeof t.charges?[t.charges,t.charges]:t.charges:[1,1]}if("collection"===e.subtype)for(const e of u){const{prob:n=100}=e,r=Math.min(n,100)/100,i=p(e);if("item"in e)l({id:e.item,prob:r,count:i});else if("group"in e)l(...st(t,t.byId("item_group",e.group)).map((t=>d(t,r,i))));else if("collection"in e)l(...st(t,{subtype:"collection",entries:e.collection}).map((t=>d(t,r,i))));else{if(!("distribution"in e))throw new Error(`unknown item group entry: ${JSON.stringify(e)}`);l(...st(t,{subtype:"distribution",entries:e.distribution}).map((t=>d(t,r,i))))}}else{let e=0;for(const t of u)e+=null!==(o=t.prob)&&void 0!==o?o:100;for(const n of u){const r=(null!==(s=n.prob)&&void 0!==s?s:100)/e,i=p(n);if("item"in n)l({id:n.item,prob:r,count:i});else if("group"in n)l(...st(t,t.byId("item_group",n.group)).map((t=>d(t,r,i))));else if("collection"in n)l(...st(t,{subtype:"collection",entries:n.collection}).map((t=>d(t,r,i))));else{if(!("distribution"in n))throw new Error(`unknown item group entry: ${JSON.stringify(n)}`);l(...st(t,{subtype:"distribution",entries:n.distribution}).map((t=>d(t,r,i))))}}}return[...a.entries()].map((([t,e])=>Object.assign({id:t},e)))}const at=(()=>{let t;return()=>(t||(t=(async()=>{const t=await fetch("https://raw.githubusercontent.com/nornagon/cdda-data/main/data/latest/all.json",{mode:"cors"});if(!t.ok)throw new Error(`Error ${t.status} (${t.statusText}) fetching data`);const e=await t.json();return new ot(e.data)})()),t)})(),ct=function(t,e){return{subscribe:K(t,e).subscribe}}(null,(function(t){at().then(t)}));function lt(e){let n,r,i,o=((e[2]?tt:Q)(e[3])??e[1])+"";return{c(){n=d("a"),r=p(o),g(n,"href",i="#/"+e[0]+"/"+e[1])},m(t,e){c(t,n,e),a(n,r)},p(t,[e]){6&e&&o!==(o=((t[2]?tt:Q)(t[3])??t[1])+"")&&y(r,o),3&e&&i!==(i="#/"+t[0]+"/"+t[1])&&g(n,"href",i)},i:t,o:t,d(t){t&&l(n)}}}function ut(t,e,n){let{type:r}=e,{id:i}=e,{plural:o=!1}=e;let s=E("data").byId(r,i);return t.$$set=t=>{"type"in t&&n(0,r=t.type),"id"in t&&n(1,i=t.id),"plural"in t&&n(2,o=t.plural)},[r,i,o,s]}class dt extends J{constructor(t){super(),z(this,t,ut,lt,o,{type:0,id:1,plural:2})}}function pt(t,e,n){const r=t.slice();return r[10]=e[n].id,r[11]=e[n].prob,r}function ht(t,e,n){const r=t.slice();return r[14]=e[n],r}function ft(t,e,n){const r=t.slice();return r[10]=e[n].id,r[11]=e[n].prob,r}function mt(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function gt(t,e,n){const r=t.slice();return r[22]=e[n],r}function yt(t,e,n){const r=t.slice();return r[10]=e[n],r}function vt(e){let n,r,i;return r=new dt({props:{type:"material",id:e[10]}}),{c(){n=d("li"),H(r.$$.fragment)},m(t,e){c(t,n,e),W(r,n,null),i=!0},p:t,i(t){i||(P(r.$$.fragment,t),i=!0)},o(t){F(r.$$.fragment,t),i=!1},d(t){t&&l(n),G(r)}}}function _t(t){let e,n,r,i=t[0].special_attacks,o=[];for(let e=0;e<i.length;e+=1)o[e]=bt(gt(t,i,e));return{c(){e=d("dt"),e.textContent="Special attacks:",n=d("dd"),r=d("ul");for(let t=0;t<o.length;t+=1)o[t].c();g(r,"class","no-bullets")},m(t,i){c(t,e,i),c(t,n,i),a(n,r);for(let t=0;t<o.length;t+=1)o[t].m(r,null)},p(t,e){if(1&e){let n;for(i=t[0].special_attacks,n=0;n<i.length;n+=1){const s=gt(t,i,n);o[n]?o[n].p(s,e):(o[n]=bt(s),o[n].c(),o[n].m(r,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=i.length}},d(t){t&&l(e),t&&l(n),u(o,t)}}}function bt(t){let e,n,r=jt(t[22])+"";return{c(){e=d("li"),n=p(r)},m(t,r){c(t,e,r),a(e,n)},p(t,e){1&e&&r!==(r=jt(t[22])+"")&&y(n,r)},d(t){t&&l(e)}}}function xt(t){let e,n,r,i=t[0].anger_triggers.join(", ")+"";return{c(){e=d("dt"),e.textContent="Anger triggers",n=d("dd"),r=p(i)},m(t,i){c(t,e,i),c(t,n,i),a(n,r)},p(t,e){1&e&&i!==(i=t[0].anger_triggers.join(", ")+"")&&y(r,i)},d(t){t&&l(e),t&&l(n)}}}function wt(t){let e,n,r,i=t[0].placate_triggers.join(", ")+"";return{c(){e=d("dt"),e.textContent="Placate triggers",n=d("dd"),r=p(i)},m(t,i){c(t,e,i),c(t,n,i),a(n,r)},p(t,e){1&e&&i!==(i=t[0].placate_triggers.join(", ")+"")&&y(r,i)},d(t){t&&l(e),t&&l(n)}}}function Et(t){let e;return{c(){e=p(", ")},m(t,n){c(t,e,n)},d(t){t&&l(e)}}}function St(t){let e,n,r,i,o=t[19]+"",s=t[21]<t[0].flags.length-1&&Et();return{c(){e=d("abbr"),n=p(o),s&&s.c(),i=f(),g(e,"title",r=t[3][t[19]])},m(t,r){c(t,e,r),a(e,n),s&&s.m(t,r),c(t,i,r)},p(t,a){1&a&&o!==(o=t[19]+"")&&y(n,o),1&a&&r!==(r=t[3][t[19]])&&g(e,"title",r),t[21]<t[0].flags.length-1?s||(s=Et(),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(t){t&&l(e),s&&s.d(t),t&&l(i)}}}function Tt(e){let n,r,i;return r=new dt({props:{type:"item",id:e[14].drop}}),{c(){n=d("li"),H(r.$$.fragment)},m(t,e){c(t,n,e),W(r,n,null),i=!0},p:t,i(t){i||(P(r.$$.fragment,t),i=!0)},o(t){F(r.$$.fragment,t),i=!1},d(t){t&&l(n),G(r)}}}function Ot(t){let e,n,r=st(t[2],t[2].byId("item_group",t[14].drop)),i=[];for(let e=0;e<r.length;e+=1)i[e]=kt(ft(t,r,e));const o=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=f()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);c(t,e,r),n=!0},p(t,n){if(68&n){let s;for(r=st(t[2],t[2].byId("item_group",t[14].drop)),s=0;s<r.length;s+=1){const o=ft(t,r,s);i[s]?(i[s].p(o,n),P(i[s],1)):(i[s]=kt(o),i[s].c(),P(i[s],1),i[s].m(e.parentNode,e))}for(D(),s=r.length;s<i.length;s+=1)o(s);B()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)P(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);n=!1},d(t){u(i,t),t&&l(e)}}}function kt(e){let n,r,i,o,s,u,h=(100*e[11]).toFixed(2)+"";return r=new dt({props:{type:"item",id:e[10]}}),{c(){n=d("li"),H(r.$$.fragment),i=p(" ("),o=p(h),s=p("%)")},m(t,e){c(t,n,e),W(r,n,null),a(n,i),a(n,o),a(n,s),u=!0},p:t,i(t){u||(P(r.$$.fragment,t),u=!0)},o(t){F(r.$$.fragment,t),u=!1},d(t){t&&l(n),G(r)}}}function Ct(t){let e,n,r,i;const o=[Ot,Tt],s=[];return e=function(t,e){return"bionic_group"===t[14].type?0:1}(t),n=s[e]=o[e](t),{c(){n.c(),r=f()},m(t,n){s[e].m(t,n),c(t,r,n),i=!0},p(t,e){n.p(t,e)},i(t){i||(P(n),i=!0)},o(t){F(n),i=!1},d(t){s[e].d(t),t&&l(r)}}}function It(t){let e,n,r,i,o,s,u=Dt(t[11])+"";return n=new dt({props:{type:"item",id:t[10]}}),{c(){e=d("li"),H(n.$$.fragment),r=p(" ("),i=p(u),o=p(")")},m(t,l){c(t,e,l),W(n,e,null),a(e,r),a(e,i),a(e,o),s=!0},p(t,e){const r={};2&e&&(r.id=t[10]),n.$set(r),(!s||2&e)&&u!==(u=Dt(t[11])+"")&&y(i,u)},i(t){s||(P(n.$$.fragment,t),s=!0)},o(t){F(n.$$.fragment,t),s=!1},d(t){t&&l(e),G(n)}}}function Mt(e){let n,r,i;return{c(){n=d("a"),n.textContent="See all...",g(n,"href","")},m(t,o){c(t,n,o),r||(i=m(n,"click",e[7]),r=!0)},p:t,d(t){t&&l(n),r=!1,i()}}}function $t(t){let e,n,r,i,o,s,m,v,b,x,w,E,S,T,O,k,C,I,M,$,R,A,N,L,j,U,q,H,W,G,Y,z,J,V,K,X,Z,tt,et,nt,ot,st,at,ct,lt,ut,dt,ft,gt,bt,Et,Tt,Ot,kt,$t,jt,Dt,Bt,Pt,Ft,Ut,qt,Ht,Wt,Gt,Yt,zt,Jt,Vt,Kt,Xt,Zt,Qt,te,ee,ne,re,ie,oe,se,ae,ce,le,ue,de,pe,he,fe,me,ge,ye,ve,_e,be,xe,we,Ee,Se,Te,Oe,ke,Ce,Ie,Me,$e,Re,Ae,Ne,Le,je,De,Be,Pe,Fe,Ue=t[0].symbol+"",qe=Q(t[0])+"",He=t[0].description+"",We=Rt(t[0])+"",Ge=At(Rt(t[0]))+"",Ye=t[0].bodytype+"",ze=(t[0].species??[]).join(", ")+"",Je=rt(t[0].volume)+"",Ve=it(t[0].weight)+"",Ke=t[0].speed+"",Xe=(t[0].melee_skill??0)+"",Ze=Lt(t[0])+"",Qe=t[0].hp+"",tn=(t[0].dodge??0)+"",en=(t[0].armor_bash??0)+"",nn=(t[0].armor_cut??0)+"",rn=(t[0].armor_stab??Math.floor(.8*(t[0].armor_cut??0)))+"",on=(t[0].armor_bullet??0)+"",sn=(t[0].armor_acid??Math.floor(.5*(t[0].armor_cut??0)))+"",an=(t[0].armor_fire??0)+"",cn=t[0].aggression+"",ln=t[0].morale+"",un=(t[0].vision_day??40)+"",dn=(t[0].vision_night??1)+"",pn=t[0].default_faction+"",hn=(t[0].death_function??[]).join(", ")+"",fn=t[4],mn=[];for(let e=0;e<fn.length;e+=1)mn[e]=vt(yt(t,fn,e));const gn=t=>F(mn[t],1,1,(()=>{mn[t]=null}));let yn=t[0].special_attacks&&_t(t),vn=t[0].anger_triggers&&xt(t),_n=t[0].placate_triggers&&wt(t),bn=t[0].flags??[],xn=[];for(let e=0;e<bn.length;e+=1)xn[e]=St(mt(t,bn,e));let wn=t[6]&&function(t){let e,n,r,i,o,s,p,f,m=t[6].entries,y=[];for(let e=0;e<m.length;e+=1)y[e]=Ct(ht(t,m,e));const v=t=>F(y[t],1,1,(()=>{y[t]=null}));return{c(){e=d("section"),n=d("h1"),n.textContent="Harvest",r=h(),i=d("dl"),o=d("dt"),o.textContent="Butchering Results",s=d("dd"),p=d("ul");for(let t=0;t<y.length;t+=1)y[t].c();g(p,"class","comma-separated")},m(t,l){c(t,e,l),a(e,n),a(e,r),a(e,i),a(i,o),a(i,s),a(s,p);for(let t=0;t<y.length;t+=1)y[t].m(p,null);f=!0},p(t,e){if(68&e){let n;for(m=t[6].entries,n=0;n<m.length;n+=1){const r=ht(t,m,n);y[n]?(y[n].p(r,e),P(y[n],1)):(y[n]=Ct(r),y[n].c(),P(y[n],1),y[n].m(p,null))}for(D(),n=m.length;n<y.length;n+=1)v(n);B()}},i(t){if(!f){for(let t=0;t<m.length;t+=1)P(y[t]);f=!0}},o(t){y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)F(y[t]);f=!1},d(t){t&&l(e),u(y,t)}}}(t),En=t[5]&&function(t){let e,n,r,i,o,s,p=t[5].slice(0,t[1]),f=[];for(let e=0;e<p.length;e+=1)f[e]=It(pt(t,p,e));const m=t=>F(f[t],1,1,(()=>{f[t]=null}));let g=t[1]!==1/0&&Mt(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Drops",r=h(),i=d("ul");for(let t=0;t<f.length;t+=1)f[t].c();o=h(),g&&g.c()},m(t,l){c(t,e,l),a(e,n),a(e,r),a(e,i);for(let t=0;t<f.length;t+=1)f[t].m(i,null);a(e,o),g&&g.m(e,null),s=!0},p(t,n){if(34&n){let e;for(p=t[5].slice(0,t[1]),e=0;e<p.length;e+=1){const r=pt(t,p,e);f[e]?(f[e].p(r,n),P(f[e],1)):(f[e]=It(r),f[e].c(),P(f[e],1),f[e].m(i,null))}for(D(),e=p.length;e<f.length;e+=1)m(e);B()}t[1]!==1/0?g?g.p(t,n):(g=Mt(t),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(t){if(!s){for(let t=0;t<p.length;t+=1)P(f[t]);s=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);s=!1},d(t){t&&l(e),u(f,t),g&&g.d()}}}(t);return{c(){e=d("h1"),n=d("span"),r=p(Ue),o=h(),s=p(qe),m=h(),v=d("section"),b=d("p"),x=p(He),w=h(),E=d("p"),S=p("Difficulty: "),T=p(We),O=h(),k=d("span"),C=p("("),I=p(Ge),M=p(")"),R=h(),A=d("section"),N=d("h1"),N.textContent="Body",L=h(),j=d("dl"),U=d("dt"),U.textContent="Body type",q=d("dd"),H=p(Ye),W=d("dt"),W.textContent="Species",G=d("dd"),Y=p(ze),z=d("dt"),z.textContent="Volume",J=d("dd"),V=p(Je),K=d("dt"),K.textContent="Weight",X=d("dd"),Z=p(Ve),tt=d("dt"),tt.textContent="Material",et=d("dd"),nt=d("ul");for(let t=0;t<mn.length;t+=1)mn[t].c();ot=h(),st=d("section"),at=d("h1"),at.textContent="Combat",ct=h(),lt=d("div"),ut=d("dl"),dt=d("dt"),dt.textContent="Speed",ft=d("dd"),gt=p(Ke),bt=d("dt"),bt.textContent="Melee skill",Et=d("dd"),Tt=p(Xe),Ot=d("dt"),Ot.textContent="Damage",kt=d("dd"),$t=p(Ze),yn&&yn.c(),jt=h(),Dt=d("dl"),Bt=d("dt"),Bt.textContent="HP",Pt=d("dd"),Ft=p(Qe),Ut=d("dt"),Ut.textContent="Dodge",qt=d("dd"),Ht=p(tn),Wt=d("dt"),Wt.textContent="Armor",Gt=d("dd"),Yt=d("dl"),zt=d("dt"),zt.textContent="Bash",Jt=d("dd"),Vt=p(en),Kt=d("dt"),Kt.textContent="Cut",Xt=d("dd"),Zt=p(nn),Qt=d("dt"),Qt.textContent="Stab",te=d("dd"),ee=p(rn),ne=d("dt"),ne.textContent="Bullet",re=d("dd"),ie=p(on),oe=d("dt"),oe.textContent="Acid",se=d("dd"),ae=p(sn),ce=d("dt"),ce.textContent="Fire",le=d("dd"),ue=p(an),de=h(),pe=d("section"),he=d("h1"),he.textContent="Behavior",fe=h(),me=d("dl"),ge=d("dt"),ge.textContent="Aggression",ye=d("dd"),ve=p(cn),_e=d("dt"),_e.textContent="Morale",be=d("dd"),xe=p(ln),we=d("dt"),we.textContent="Vision range",Ee=d("dd"),Se=p(un),Te=p(" (day) / "),Oe=p(dn),ke=p(" (night)"),Ce=d("dt"),Ce.textContent="Default faction",Ie=d("dd"),Me=p(pn),vn&&vn.c(),$e=f(),_n&&_n.c(),Re=d("dt"),Re.textContent="Flags",Ae=d("dd");for(let t=0;t<xn.length;t+=1)xn[t].c();Ne=d("dt"),Ne.textContent="On death",Le=d("dd"),je=p(hn),De=h(),wn&&wn.c(),Be=h(),En&&En.c(),Pe=f(),_(n,"font-family","monospace"),g(n,"class",i="c_"+t[0].color),_(b,"color","var(--cata-color-gray)"),g(k,"class",$="c_"+Nt(Rt(t[0]))+" fg_only"),g(nt,"class","comma-separated"),_(ut,"flex","1"),_(Dt,"flex","1"),_(lt,"display","flex"),_(lt,"flex-direction","row"),_(lt,"align-items","start"),_(lt,"flex-wrap","wrap")},m(t,i){c(t,e,i),a(e,n),a(n,r),a(e,o),a(e,s),c(t,m,i),c(t,v,i),a(v,b),a(b,x),a(v,w),a(v,E),a(E,S),a(E,T),a(E,O),a(E,k),a(k,C),a(k,I),a(k,M),c(t,R,i),c(t,A,i),a(A,N),a(A,L),a(A,j),a(j,U),a(j,q),a(q,H),a(j,W),a(j,G),a(G,Y),a(j,z),a(j,J),a(J,V),a(j,K),a(j,X),a(X,Z),a(j,tt),a(j,et),a(et,nt);for(let t=0;t<mn.length;t+=1)mn[t].m(nt,null);c(t,ot,i),c(t,st,i),a(st,at),a(st,ct),a(st,lt),a(lt,ut),a(ut,dt),a(ut,ft),a(ft,gt),a(ut,bt),a(ut,Et),a(Et,Tt),a(ut,Ot),a(ut,kt),a(kt,$t),yn&&yn.m(ut,null),a(lt,jt),a(lt,Dt),a(Dt,Bt),a(Dt,Pt),a(Pt,Ft),a(Dt,Ut),a(Dt,qt),a(qt,Ht),a(Dt,Wt),a(Dt,Gt),a(Gt,Yt),a(Yt,zt),a(Yt,Jt),a(Jt,Vt),a(Yt,Kt),a(Yt,Xt),a(Xt,Zt),a(Yt,Qt),a(Yt,te),a(te,ee),a(Yt,ne),a(Yt,re),a(re,ie),a(Yt,oe),a(Yt,se),a(se,ae),a(Yt,ce),a(Yt,le),a(le,ue),c(t,de,i),c(t,pe,i),a(pe,he),a(pe,fe),a(pe,me),a(me,ge),a(me,ye),a(ye,ve),a(me,_e),a(me,be),a(be,xe),a(me,we),a(me,Ee),a(Ee,Se),a(Ee,Te),a(Ee,Oe),a(Ee,ke),a(me,Ce),a(me,Ie),a(Ie,Me),vn&&vn.m(me,null),a(me,$e),_n&&_n.m(me,null),a(me,Re),a(me,Ae);for(let t=0;t<xn.length;t+=1)xn[t].m(Ae,null);a(me,Ne),a(me,Le),a(Le,je),c(t,De,i),wn&&wn.m(t,i),c(t,Be,i),En&&En.m(t,i),c(t,Pe,i),Fe=!0},p(t,[e]){if((!Fe||1&e)&&Ue!==(Ue=t[0].symbol+"")&&y(r,Ue),(!Fe||1&e&&i!==(i="c_"+t[0].color))&&g(n,"class",i),(!Fe||1&e)&&qe!==(qe=Q(t[0])+"")&&y(s,qe),(!Fe||1&e)&&He!==(He=t[0].description+"")&&y(x,He),(!Fe||1&e)&&We!==(We=Rt(t[0])+"")&&y(T,We),(!Fe||1&e)&&Ge!==(Ge=At(Rt(t[0]))+"")&&y(I,Ge),(!Fe||1&e&&$!==($="c_"+Nt(Rt(t[0]))+" fg_only"))&&g(k,"class",$),(!Fe||1&e)&&Ye!==(Ye=t[0].bodytype+"")&&y(H,Ye),(!Fe||1&e)&&ze!==(ze=(t[0].species??[]).join(", ")+"")&&y(Y,ze),(!Fe||1&e)&&Je!==(Je=rt(t[0].volume)+"")&&y(V,Je),(!Fe||1&e)&&Ve!==(Ve=it(t[0].weight)+"")&&y(Z,Ve),16&e){let n;for(fn=t[4],n=0;n<fn.length;n+=1){const r=yt(t,fn,n);mn[n]?(mn[n].p(r,e),P(mn[n],1)):(mn[n]=vt(r),mn[n].c(),P(mn[n],1),mn[n].m(nt,null))}for(D(),n=fn.length;n<mn.length;n+=1)gn(n);B()}if((!Fe||1&e)&&Ke!==(Ke=t[0].speed+"")&&y(gt,Ke),(!Fe||1&e)&&Xe!==(Xe=(t[0].melee_skill??0)+"")&&y(Tt,Xe),(!Fe||1&e)&&Ze!==(Ze=Lt(t[0])+"")&&y($t,Ze),t[0].special_attacks?yn?yn.p(t,e):(yn=_t(t),yn.c(),yn.m(ut,null)):yn&&(yn.d(1),yn=null),(!Fe||1&e)&&Qe!==(Qe=t[0].hp+"")&&y(Ft,Qe),(!Fe||1&e)&&tn!==(tn=(t[0].dodge??0)+"")&&y(Ht,tn),(!Fe||1&e)&&en!==(en=(t[0].armor_bash??0)+"")&&y(Vt,en),(!Fe||1&e)&&nn!==(nn=(t[0].armor_cut??0)+"")&&y(Zt,nn),(!Fe||1&e)&&rn!==(rn=(t[0].armor_stab??Math.floor(.8*(t[0].armor_cut??0)))+"")&&y(ee,rn),(!Fe||1&e)&&on!==(on=(t[0].armor_bullet??0)+"")&&y(ie,on),(!Fe||1&e)&&sn!==(sn=(t[0].armor_acid??Math.floor(.5*(t[0].armor_cut??0)))+"")&&y(ae,sn),(!Fe||1&e)&&an!==(an=(t[0].armor_fire??0)+"")&&y(ue,an),(!Fe||1&e)&&cn!==(cn=t[0].aggression+"")&&y(ve,cn),(!Fe||1&e)&&ln!==(ln=t[0].morale+"")&&y(xe,ln),(!Fe||1&e)&&un!==(un=(t[0].vision_day??40)+"")&&y(Se,un),(!Fe||1&e)&&dn!==(dn=(t[0].vision_night??1)+"")&&y(Oe,dn),(!Fe||1&e)&&pn!==(pn=t[0].default_faction+"")&&y(Me,pn),t[0].anger_triggers?vn?vn.p(t,e):(vn=xt(t),vn.c(),vn.m(me,$e)):vn&&(vn.d(1),vn=null),t[0].placate_triggers?_n?_n.p(t,e):(_n=wt(t),_n.c(),_n.m(me,Re)):_n&&(_n.d(1),_n=null),9&e){let n;for(bn=t[0].flags??[],n=0;n<bn.length;n+=1){const r=mt(t,bn,n);xn[n]?xn[n].p(r,e):(xn[n]=St(r),xn[n].c(),xn[n].m(Ae,null))}for(;n<xn.length;n+=1)xn[n].d(1);xn.length=bn.length}(!Fe||1&e)&&hn!==(hn=(t[0].death_function??[]).join(", ")+"")&&y(je,hn),t[6]&&wn.p(t,e),t[5]&&En.p(t,e)},i(t){if(!Fe){for(let t=0;t<fn.length;t+=1)P(mn[t]);P(wn),P(En),Fe=!0}},o(t){mn=mn.filter(Boolean);for(let t=0;t<mn.length;t+=1)F(mn[t]);F(wn),F(En),Fe=!1},d(t){t&&l(e),t&&l(m),t&&l(v),t&&l(R),t&&l(A),u(mn,t),t&&l(ot),t&&l(st),yn&&yn.d(),t&&l(de),t&&l(pe),vn&&vn.d(),_n&&_n.d(),u(xn,t),t&&l(De),wn&&wn.d(t),t&&l(Be),En&&En.d(t),t&&l(Pe)}}}function Rt(t){const{melee_skill:e=0,melee_dice:n=0,melee_cut:r=0,melee_dice_sides:i=0,dodge:o=0,armor_bash:s=-1,armor_cut:a=-1,diff:c=0,special_attacks:l=[],emit_fields:u=[],hp:d,speed:p,attack_cost:h=100,morale:f=0,aggression:m=0,vision_day:g=40,vision_night:y=1}=t;let v=(e+1)*n*(r+i)*.04+(o+1)*(3+s+a)*.04+(c+l.length+8*u.length);return v=Math.floor(v),v*=.01*(d+p-h+.1*(f+m))+.01*(g+2*y),Math.floor(v)}function At(t){return t<3?"Minimal threat.":t<10?"Mildly dangerous.":t<20?"Dangerous.":t<30?"Very dangerous.":t<50?"Extremely dangerous.":"Fatally dangerous!"}function Nt(t){return t<3||t<10?"light_gray":t<20?"light_red":"red"}function Lt(t){let{melee_dice:e=0,melee_dice_sides:n=0,melee_damage:r,melee_cut:i}=t;return`${e}d${n}`}function jt(t){return Array.isArray(t)?t.length>1?`${t[0]} (cooldown: ${t[1]})`:t[0]:"type"in t?"cooldown"in t?`${t.type} (cooldown: ${t.cooldown})`:t.type:"id"in t?"damage_max_instance"in t?`${t.id}: ${t.damage_max_instance.map((t=>`(${t.damage_type} for ${t.amount} damage)`)).join(" ")}`:t.id:void 0}function Dt(t){const e=(100*t).toFixed(2);return"0.00"===e?"< 0.01%":e+"%"}function Bt(t,e,n){var r;let{item:i}=e,o=E("data");let s=null!==(r=i.material)&&void 0!==r?r:[];let a=i.death_drops?st(o,function(){if(i.death_drops)return"string"==typeof i.death_drops?o.byId("item_group",i.death_drops):Array.isArray(i.death_drops)?{subtype:"distribution",entries:i.death_drops}:Object.assign({subtype:"distribution"},i.death_drops)}()).sort(((t,e)=>e.prob-t.prob)):void 0,c=10,l=i.harvest?o.byId("harvest",i.harvest):void 0;return t.$$set=t=>{"item"in t&&n(0,i=t.item)},[i,c,o,{SEES:"It can see you (and will run/follow)",HEARS:"It can hear you",GOODHEARING:"Pursues sounds more than most monsters",SMELLS:"It can smell you",KEENNOSE:"Keen sense of smell",STUMBLES:"Stumbles in its movement",WARM:"Warm blooded",NOHEAD:"Headshots not allowed!",HARDTOSHOOT:"It's one size smaller for ranged attacks, no less then creature_size::tiny",GRABS:"Its attacks may grab us!",BASHES:"Bashes down doors",DESTROYS:"Bashes down walls and more",BORES:"Tunnels through just about anything",POISON:"Poisonous to eat",VENOM:"Attack may poison the player",BADVENOM:"Attack may SEVERELY poison the player",PARALYZE:"Attack may paralyze the player with venom",WEBWALK:"Doesn't destroy webs",DIGS:"Digs through the ground",CAN_DIG:"Can dig and walk",FLIES:"Can fly (over water, etc)",AQUATIC:"Confined to water",SWIMS:"Treats water as 50 movement point terrain",ATTACKMON:"Attacks other monsters",ANIMAL:'Is an "animal" for purposes of the Animal Empath trait',PLASTIC:"Absorbs physical damage to a great degree",SUNDEATH:"Dies in full sunlight",ELECTRIC:"Shocks unarmed attackers",ACIDPROOF:"Immune to acid",ACIDTRAIL:"Leaves a trail of acid",SHORTACIDTRAIL:"Leaves an intermittent trail of acid",FIREPROOF:"Immune to fire",SLUDGEPROOF:"Ignores the effect of sludge trails",SLUDGETRAIL:"Causes monster to leave a sludge trap trail when moving",COLDPROOF:"Immune to cold damage",FIREY:"Burns stuff and is immune to fire",QUEEN:"When it dies, local populations start to die off too",ELECTRONIC:"e.g. a robot; affected by EMP blasts, and other stuff",FUR:"May produce fur when butchered",LEATHER:"May produce leather when butchered",WOOL:"May produce wool when butchered",BONES:"May produce bones and sinews when butchered; if combined with POISON flag, tainted bones, if combined with HUMAN, human bones",FAT:"May produce fat when butchered; if combined with POISON flag, tainted fat",CONSOLE_DESPAWN:"Despawns when a nearby console is properly hacked",IMMOBILE:"Doesn't move (e.g. turrets)",ID_CARD_DESPAWN:"Despawns when a science ID card is used on a nearby console",RIDEABLE_MECH:"A rideable mech that is immobile until ridden.",MILITARY_MECH:"A rideable mech that was designed for military work.",MECH_RECON_VISION:"This mech gives you IR night-vision.",MECH_DEFENSIVE:"This mech gives you thorough protection.",HIT_AND_RUN:"Flee for several turns after a melee attack",GUILT:"You feel guilty for killing it",PAY_BOT:"You can pay this bot to be your friend for a time",HUMAN:"It's a live human, as long as it's alive",NO_BREATHE:"Creature can't drown and is unharmed by gas, smoke, or poison",FLAMMABLE:"Monster catches fire, burns, and spreads fire to nearby objects",REVIVES:"Monster corpse will revive after a short period of time",CHITIN:"May produce chitin when butchered",VERMIN:'Obsolete flag labeling "nuisance" or "scenery" monsters, now used to prevent loading the same.',NOGIB:"Creature won't leave gibs / meat chunks when killed with huge damage.",LARVA:"Creature is a larva. Currently used for gib and blood handling.",ARTHROPOD_BLOOD:"Forces monster to bleed hemolymph.",ACID_BLOOD:"Makes monster bleed acid. Fun stuff! Does not automatically dissolve in a pool of acid on death.",BILE_BLOOD:"Makes monster bleed bile.",ABSORBS:"Consumes objects it moves over which gives bonus hp.",ABSORBS_SPLITS:"Consumes objects it moves over which gives bonus hp. If it gets enough bonus HP, it spawns a copy of itself.",CBM_CIV:"May produce a common CBM a power CBM when butchered.",CBM_POWER:"May produce a power CBM when butchered, independent of MF_CBM_wev.",CBM_SCI:"May produce a bionic from bionics_sci when butchered.",CBM_OP:"May produce a bionic from bionics_op when butchered, and the power storage is mk 2.",CBM_TECH:"May produce a bionic from bionics_tech when butchered.",CBM_SUBS:"May produce a bionic from bionics_subs when butchered.",FILTHY:"Any clothing it drops will be filthy.",FISHABLE:"It is fishable.",GROUP_BASH:"Monsters that can pile up against obstacles and add their strength together to break them.",SWARMS:"Monsters that like to group together and form loose packs",GROUP_MORALE:"Monsters that are more courageous when near friends",INTERIOR_AMMO:"Monster contain's its ammo inside itself, no need to load on launch. Prevents ammo from being dropped on disable.",CLIMBS:"Monsters that can climb certain terrain and furniture",PACIFIST:"Monsters that will never use melee attack, useful for having them use grab without attacking the player",PUSH_MON:"Monsters that can push creatures out of their way",PUSH_VEH:"Monsters that can push vehicles out of their way",NIGHT_INVISIBILITY:"Monsters that are invisible in poor light conditions",REVIVES_HEALTHY:"When revived, this monster has full hitpoints and speed",NO_NECRO:"This monster can't be revived by necros. It will still rise on its own.",AVOID_DANGER_1:"This monster will path around some dangers instead of through them.",AVOID_DANGER_2:"This monster will path around most dangers instead of through them.",AVOID_FIRE:"This monster will path around heat-related dangers instead of through them.",AVOID_FALL:"This monster will path around cliffs instead of off of them.",PRIORITIZE_TARGETS:"This monster will prioritize targets depending on their danger levels",NOT_HALLU:"Monsters that will NOT appear when player's producing hallucinations",CATFOOD:"This monster will become friendly when fed cat food.",CATTLEFODDER:"This monster will become friendly when fed cattle fodder.",BIRDFOOD:"This monster will become friendly when fed bird food.",CANPLAY:"This monster can be played with if it's a pet.",PET_MOUNTABLE:"This monster can be mounted and ridden when tamed.",PET_HARNESSABLE:"This monster can be harnessed when tamed.",DOGFOOD:"This monster will become friendly when fed dog food.",MILKABLE:"This monster is milkable.",SHEARABLE:"This monster is shearable.",NO_BREED:"This monster doesn't breed, even though it has breed data",PET_WONT_FOLLOW:"This monster won't follow the player automatically when tamed.",DRIPS_NAPALM:"This monster occasionally drips napalm on move",DRIPS_GASOLINE:"This monster occasionally drips gasoline on move",ELECTRIC_FIELD:"This monster is surrounded by an electrical field that ignites flammable liquids near it",LOUDMOVES:"This monster makes move noises as if ~2 sizes louder, even if flying.",CAN_OPEN_DOORS:"This monster can open doors.",STUN_IMMUNE:"This monster is immune to the stun effect",DROPS_AMMO:"This monster drops ammo. Should not be set for monsters that use pseudo ammo.",INSECTICIDEPROOF:"This monster is immune to insecticide, even though it's made of bug flesh",RANGED_ATTACKER:"This monster has any sort of ranged attack"},s,a,l,t=>{t.preventDefault(),n(1,c=1/0)}]}class Pt extends J{constructor(t){super(),z(this,t,Bt,$t,o,{item:0})}}function Ft(t,e,n){const r=t.slice();return r[13]=e[n],r}function Ut(t,e,n){const r=t.slice();return r[16]=e[n].id,r[17]=e[n].item,r[18]=e[n].count,r[20]=n,r}function qt(t,e,n){const r=t.slice();return r[21]=e[n],r}function Ht(t,e,n){const r=t.slice();return r[24]=e[n],r[20]=n,r}function Wt(t,e,n){const r=t.slice();return r[26]=e[n],r}function Gt(t,e,n){const r=t.slice();return r[29]=e[n],r[20]=n,r}function Yt(t,e,n){const r=t.slice();return r[31]=e[n],r}function zt(t,e,n){const r=t.slice();return r[34]=e[n][0],r[35]=e[n][1],r[20]=n,r}function Jt(e){let n;return{c(){n=p("none")},m(t,e){c(t,n,e)},p:t,i:t,o:t,d(t){t&&l(n)}}}function Vt(t){let e,n,r,i,o,s=(t[0].difficulty??0)+"";return e=new dt({props:{type:"skill",id:t[0].skill_used}}),{c(){H(e.$$.fragment),n=p(" ("),r=p(s),i=p(")")},m(t,s){W(e,t,s),c(t,n,s),c(t,r,s),c(t,i,s),o=!0},p(t,n){const i={};1&n[0]&&(i.id=t[0].skill_used),e.$set(i),(!o||1&n[0])&&s!==(s=(t[0].difficulty??0)+"")&&y(r,s)},i(t){o||(P(e.$$.fragment,t),o=!0)},o(t){F(e.$$.fragment,t),o=!1},d(t){G(e,t),t&&l(n),t&&l(r),t&&l(i)}}}function Kt(t){let e;return{c(){e=p("none")},m(t,n){c(t,e,n)},d(t){t&&l(e)}}}function Xt(t){let e;return{c(){e=p(", ")},m(t,n){c(t,e,n)},d(t){t&&l(e)}}}function Zt(t){let e;return{c(){e=p(" and ")},m(t,n){c(t,e,n)},d(t){t&&l(e)}}}function Qt(e){let n,r,i,o,s,a,u=e[35]+"";n=new dt({props:{type:"skill",id:e[34]}});let d=function(t,e){return t[20]===t[5].length-2?Zt:t[20]!==t[5].length-1?Xt:void 0}(e),h=d&&d(e);return{c(){H(n.$$.fragment),r=p(" ("),i=p(u),o=p(")"),h&&h.c(),s=f()},m(t,e){W(n,t,e),c(t,r,e),c(t,i,e),c(t,o,e),h&&h.m(t,e),c(t,s,e),a=!0},p:t,i(t){a||(P(n.$$.fragment,t),a=!0)},o(t){F(n.$$.fragment,t),a=!1},d(t){G(n,t),t&&l(r),t&&l(i),t&&l(o),h&&h.d(t),t&&l(s)}}}function te(t){let e,n,r,i,o,s=t[0].proficiencies??[],p=[];for(let e=0;e<s.length;e+=1)p[e]=ee(Yt(t,s,e));const f=t=>F(p[t],1,1,(()=>{p[t]=null}));return{c(){e=d("dt"),e.textContent="Proficiencies",n=d("dd"),r=d("ul");for(let t=0;t<p.length;t+=1)p[t].c();i=h(),g(r,"class","svelte-k9dy74")},m(t,s){c(t,e,s),c(t,n,s),a(n,r);for(let t=0;t<p.length;t+=1)p[t].m(r,null);a(n,i),o=!0},p(t,e){if(1&e[0]){let n;for(s=t[0].proficiencies??[],n=0;n<s.length;n+=1){const i=Yt(t,s,n);p[n]?(p[n].p(i,e),P(p[n],1)):(p[n]=ee(i),p[n].c(),P(p[n],1),p[n].m(r,null))}for(D(),n=s.length;n<p.length;n+=1)f(n);B()}},i(t){if(!o){for(let t=0;t<s.length;t+=1)P(p[t]);o=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)F(p[t]);o=!1},d(t){t&&l(e),t&&l(n),u(p,t)}}}function ee(t){let e,n,r;return n=new dt({props:{type:"proficiency",id:t[31].proficiency}}),{c(){e=d("li"),H(n.$$.fragment)},m(t,i){c(t,e,i),W(n,e,null),r=!0},p(t,e){const r={};1&e[0]&&(r.id=t[31].proficiency),n.$set(r)},i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){t&&l(e),G(n)}}}function ne(t){let e,n,r,i=t[0].charges+"";return{c(){e=d("dt"),e.textContent="Recipe makes",n=d("dd"),r=p(i)},m(t,i){c(t,e,i),c(t,n,i),a(n,r)},p(t,e){1&e[0]&&i!==(i=t[0].charges+"")&&y(r,i)},d(t){t&&l(e),t&&l(n)}}}function re(e){let n,r,i,o,s,a,u,d,f,m,g,y=(e[29].amount??1)+"",v=1===(e[29].amount??1)?"":"s",_=e[29].level+"",b=0!==e[20]&&function(t){let e;return{c(){e=p(" OR ")},m(t,n){c(t,e,n)},d(t){t&&l(e)}}}();return a=new dt({props:{type:"tool_quality",id:e[29].id}}),{c(){b&&b.c(),n=h(),r=p(y),i=p(" tool"),o=p(v),s=p("\n        with "),H(a.$$.fragment),u=p(" of "),d=p(_),f=p(" or more"),m=p("")},m(t,e){b&&b.m(t,e),c(t,n,e),c(t,r,e),c(t,i,e),c(t,o,e),c(t,s,e),W(a,t,e),c(t,u,e),c(t,d,e),c(t,f,e),c(t,m,e),g=!0},p:t,i(t){g||(P(a.$$.fragment,t),g=!0)},o(t){F(a.$$.fragment,t),g=!1},d(t){b&&b.d(t),t&&l(n),t&&l(r),t&&l(i),t&&l(o),t&&l(s),G(a,t),t&&l(u),t&&l(d),t&&l(f),t&&l(m)}}}function ie(t){let e,n,r,i=t[26],o=[];for(let e=0;e<i.length;e+=1)o[e]=re(Gt(t,i,e));const s=t=>F(o[t],1,1,(()=>{o[t]=null}));return{c(){e=d("li");for(let t=0;t<o.length;t+=1)o[t].c();n=p(".")},m(t,i){c(t,e,i);for(let t=0;t<o.length;t+=1)o[t].m(e,null);a(e,n),r=!0},p(t,r){if(16&r[0]){let a;for(i=t[26],a=0;a<i.length;a+=1){const s=Gt(t,i,a);o[a]?(o[a].p(s,r),P(o[a],1)):(o[a]=re(s),o[a].c(),P(o[a],1),o[a].m(e,n))}for(D(),a=i.length;a<o.length;a+=1)s(a);B()}},i(t){if(!r){for(let t=0;t<i.length;t+=1)P(o[t]);r=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)F(o[t]);r=!1},d(t){t&&l(e),u(o,t)}}}function oe(e){let n,r;return n=new dt({props:{type:"item",id:e[24].id}}),{c(){H(n.$$.fragment)},m(t,e){W(n,t,e),r=!0},p:t,i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){G(n,t)}}}function se(e){let n,r,i=Q(e[1].byId("item",e[24].id))+"";return{c(){n=d("a"),r=p(i),g(n,"href","#/furniture/"+e[1].craftingPseudoItem(e[24].id))},m(t,e){c(t,n,e),a(n,r)},p:t,i:t,o:t,d(t){t&&l(n)}}}function ae(e){let n,r,i,o,s=e[24].count+"",a=1!==e[24].count&&function(t){let e;return{c(){e=p("s")},m(t,n){c(t,e,n)},d(t){t&&l(e)}}}();return{c(){n=p("("),r=p(s),i=p(" charge"),a&&a.c(),o=p(")")},m(t,e){c(t,n,e),c(t,r,e),c(t,i,e),a&&a.m(t,e),c(t,o,e)},p:t,d(t){t&&l(n),t&&l(r),t&&l(i),a&&a.d(t),t&&l(o)}}}function ce(t){let e,n,r,i,o,s,a=0!==t[20]&&function(t){let e;return{c(){e=p(" OR ")},m(t,n){c(t,e,n)},d(t){t&&l(e)}}}();const u=[se,oe],d=[];n=function(t,e){return t[1].craftingPseudoItem(t[24].id)?0:1}(t),r=d[n]=u[n](t);let m=t[24].count>0&&ae(t);return{c(){a&&a.c(),e=h(),r.c(),i=h(),m&&m.c(),o=f()},m(t,r){a&&a.m(t,r),c(t,e,r),d[n].m(t,r),c(t,i,r),m&&m.m(t,r),c(t,o,r),s=!0},p(t,e){r.p(t,e),t[24].count>0&&m.p(t,e)},i(t){s||(P(r),s=!0)},o(t){F(r),s=!1},d(t){a&&a.d(t),t&&l(e),d[n].d(t),t&&l(i),m&&m.d(t),t&&l(o)}}}function le(t){let e,n,r,i=t[21],o=[];for(let e=0;e<i.length;e+=1)o[e]=ce(Ht(t,i,e));const s=t=>F(o[t],1,1,(()=>{o[t]=null}));return{c(){e=d("li");for(let t=0;t<o.length;t+=1)o[t].c();n=h()},m(t,i){c(t,e,i);for(let t=0;t<o.length;t+=1)o[t].m(e,null);a(e,n),r=!0},p(t,r){if(6&r[0]){let a;for(i=t[21],a=0;a<i.length;a+=1){const s=Ht(t,i,a);o[a]?(o[a].p(s,r),P(o[a],1)):(o[a]=ce(s),o[a].c(),P(o[a],1),o[a].m(e,n))}for(D(),a=i.length;a<o.length;a+=1)s(a);B()}},i(t){if(!r){for(let t=0;t<i.length;t+=1)P(o[t]);r=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)F(o[t]);r=!1},d(t){t&&l(e),u(o,t)}}}function ue(e){let n,r,i,o,s,a,u=!e[6](e[17]),d=e[6](e[17]),m=0!==e[20]&&function(t){let e;return{c(){e=p(" OR ")},m(t,n){c(t,e,n)},d(t){t&&l(e)}}}(),g=u&&function(e){let n,r=e[18]+"";return{c(){n=p(r)},m(t,e){c(t,n,e)},p:t,d(t){t&&l(n)}}}(e);i=new dt({props:{type:"item",id:e[16],plural:1!==e[18]&&!e[6](e[17])}});let y=d&&function(e){let n,r,i,o=e[18]+"";return{c(){n=p("("),r=p(o),i=p(")")},m(t,e){c(t,n,e),c(t,r,e),c(t,i,e)},p:t,d(t){t&&l(n),t&&l(r),t&&l(i)}}}(e);return{c(){m&&m.c(),n=h(),g&&g.c(),r=h(),H(i.$$.fragment),o=h(),y&&y.c(),s=f()},m(t,e){m&&m.m(t,e),c(t,n,e),g&&g.m(t,e),c(t,r,e),W(i,t,e),c(t,o,e),y&&y.m(t,e),c(t,s,e),a=!0},p(t,e){u&&g.p(t,e),d&&y.p(t,e)},i(t){a||(P(i.$$.fragment,t),a=!0)},o(t){F(i.$$.fragment,t),a=!1},d(t){m&&m.d(t),t&&l(n),g&&g.d(t),t&&l(r),G(i,t),t&&l(o),y&&y.d(t),t&&l(s)}}}function de(t){let e,n,r,i=t[13].map(t[7]),o=[];for(let e=0;e<i.length;e+=1)o[e]=ue(Ut(t,i,e));const s=t=>F(o[t],1,1,(()=>{o[t]=null}));return{c(){e=d("li");for(let t=0;t<o.length;t+=1)o[t].c();n=h()},m(t,i){c(t,e,i);for(let t=0;t<o.length;t+=1)o[t].m(e,null);a(e,n),r=!0},p(t,r){if(74&r[0]){let a;for(i=t[13].map(t[7]),a=0;a<i.length;a+=1){const s=Ut(t,i,a);o[a]?(o[a].p(s,r),P(o[a],1)):(o[a]=ue(s),o[a].c(),P(o[a],1),o[a].m(e,n))}for(D(),a=i.length;a<o.length;a+=1)s(a);B()}},i(t){if(!r){for(let t=0;t<i.length;t+=1)P(o[t]);r=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)F(o[t]);r=!1},d(t){t&&l(e),u(o,t)}}}function pe(t){let e,n,r,i,o,s,m,v,_,b,x,w,E,S,T,O,k,C,I,M,$=t[0].time+"",R=JSON.stringify(t[0],null,2)+"";const A=[Vt,Jt],N=[];function L(t,e){return t[0].skill_used?0:1}o=L(t),s=N[o]=A[o](t);let j=t[5].length&&function(t){let e,n,r,i,o=t[5],s=[];for(let e=0;e<o.length;e+=1)s[e]=Qt(zt(t,o,e));const p=t=>F(s[t],1,1,(()=>{s[t]=null}));let f=null;return o.length||(f=Kt()),{c(){e=d("dt"),e.textContent="Other skills",n=d("dd");for(let t=0;t<s.length;t+=1)s[t].c();f&&f.c(),r=h()},m(t,o){c(t,e,o),c(t,n,o);for(let t=0;t<s.length;t+=1)s[t].m(n,null);f&&f.m(n,null),a(n,r),i=!0},p(t,e){if(32&e[0]){let i;for(o=t[5],i=0;i<o.length;i+=1){const a=zt(t,o,i);s[i]?(s[i].p(a,e),P(s[i],1)):(s[i]=Qt(a),s[i].c(),P(s[i],1),s[i].m(n,r))}for(D(),i=o.length;i<s.length;i+=1)p(i);B(),o.length?f&&(f.d(1),f=null):f||(f=Kt(),f.c(),f.m(n,r))}},i(t){if(!i){for(let t=0;t<o.length;t+=1)P(s[t]);i=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)F(s[t]);i=!1},d(t){t&&l(e),t&&l(n),u(s,t),f&&f.d()}}}(t),U=t[0].proficiencies&&te(t),q=t[0].charges&&ne(t),H=((t[4]??[]).length||t[2].length)&&function(t){let e,n,r,i,o,s,p=t[4]??[],f=[];for(let e=0;e<p.length;e+=1)f[e]=ie(Wt(t,p,e));const m=t=>F(f[t],1,1,(()=>{f[t]=null}));let y=t[2],v=[];for(let e=0;e<y.length;e+=1)v[e]=le(qt(t,y,e));const _=t=>F(v[t],1,1,(()=>{v[t]=null}));return{c(){e=d("dt"),e.textContent="Tools required",n=d("dd"),r=d("ul");for(let t=0;t<f.length;t+=1)f[t].c();i=h();for(let t=0;t<v.length;t+=1)v[t].c();o=h(),g(r,"class","svelte-k9dy74")},m(t,l){c(t,e,l),c(t,n,l),a(n,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null);a(r,i);for(let t=0;t<v.length;t+=1)v[t].m(r,null);a(n,o),s=!0},p(t,e){if(16&e[0]){let n;for(p=t[4]??[],n=0;n<p.length;n+=1){const o=Wt(t,p,n);f[n]?(f[n].p(o,e),P(f[n],1)):(f[n]=ie(o),f[n].c(),P(f[n],1),f[n].m(r,i))}for(D(),n=p.length;n<f.length;n+=1)m(n);B()}if(6&e[0]){let n;for(y=t[2],n=0;n<y.length;n+=1){const i=qt(t,y,n);v[n]?(v[n].p(i,e),P(v[n],1)):(v[n]=le(i),v[n].c(),P(v[n],1),v[n].m(r,null))}for(D(),n=y.length;n<v.length;n+=1)_(n);B()}},i(t){if(!s){for(let t=0;t<p.length;t+=1)P(f[t]);for(let t=0;t<y.length;t+=1)P(v[t]);s=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)F(f[t]);v=v.filter(Boolean);for(let t=0;t<v.length;t+=1)F(v[t]);s=!1},d(t){t&&l(e),t&&l(n),u(f,t),u(v,t)}}}(t),W=t[3].length&&function(t){let e,n,r,i,o=t[3],s=[];for(let e=0;e<o.length;e+=1)s[e]=de(Ft(t,o,e));const p=t=>F(s[t],1,1,(()=>{s[t]=null}));return{c(){e=d("dt"),e.textContent="Components",n=d("dd"),r=d("ul");for(let t=0;t<s.length;t+=1)s[t].c();g(r,"class","svelte-k9dy74")},m(t,o){c(t,e,o),c(t,n,o),a(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);i=!0},p(t,e){if(74&e[0]){let n;for(o=t[3],n=0;n<o.length;n+=1){const i=Ft(t,o,n);s[n]?(s[n].p(i,e),P(s[n],1)):(s[n]=de(i),s[n].c(),P(s[n],1),s[n].m(r,null))}for(D(),n=o.length;n<s.length;n+=1)p(n);B()}},i(t){if(!i){for(let t=0;t<o.length;t+=1)P(s[t]);i=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)F(s[t]);i=!1},d(t){t&&l(e),t&&l(n),u(s,t)}}}(t);return{c(){e=d("section"),n=d("dl"),r=d("dt"),r.textContent="Primary skill",i=d("dd"),s.c(),m=h(),j&&j.c(),v=f(),U&&U.c(),_=d("dt"),_.textContent="Time to complete",b=d("dd"),x=p($),q&&q.c(),w=f(),H&&H.c(),E=f(),W&&W.c(),S=h(),T=d("details"),O=d("summary"),O.textContent="Recipe JSON",k=h(),C=d("pre"),I=p(R),g(e,"class","recipe")},m(t,s){c(t,e,s),a(e,n),a(n,r),a(n,i),N[o].m(i,null),a(i,m),j&&j.m(n,null),a(n,v),U&&U.m(n,null),a(n,_),a(n,b),a(b,x),q&&q.m(n,null),a(n,w),H&&H.m(n,null),a(n,E),W&&W.m(n,null),a(e,S),a(e,T),a(T,O),a(T,k),a(T,C),a(C,I),M=!0},p(t,e){let r=o;o=L(t),o===r?N[o].p(t,e):(D(),F(N[r],1,1,(()=>{N[r]=null})),B(),s=N[o],s?s.p(t,e):(s=N[o]=A[o](t),s.c()),P(s,1),s.m(i,m)),t[5].length&&j.p(t,e),t[0].proficiencies?U?(U.p(t,e),1&e[0]&&P(U,1)):(U=te(t),U.c(),P(U,1),U.m(n,_)):U&&(D(),F(U,1,1,(()=>{U=null})),B()),(!M||1&e[0])&&$!==($=t[0].time+"")&&y(x,$),t[0].charges?q?q.p(t,e):(q=ne(t),q.c(),q.m(n,w)):q&&(q.d(1),q=null),((t[4]??[]).length||t[2].length)&&H.p(t,e),t[3].length&&W.p(t,e),(!M||1&e[0])&&R!==(R=JSON.stringify(t[0],null,2)+"")&&y(I,R)},i(t){M||(P(s),P(j),P(U),P(H),P(W),M=!0)},o(t){F(s),F(j),F(U),F(H),F(W),M=!1},d(t){t&&l(e),N[o].d(),j&&j.d(),U&&U.d(),q&&q.d(),H&&H.d(),W&&W.d()}}}function he(t,e,n){var r;let i=E("data"),{recipe:o}=e;function s(t,e){var n;const r=[];for(const o of t){const[t,a,c]=o;if("LIST"===c){const o=i.byId("requirement",t);"requirement"!==o.type&&console.error(`Expected a requirement, got ${o.type} (id=${o.id})`);const c=(null!==(n=e(o))&&void 0!==n?n:[])[0];r.push(...s(c,e).map((t=>Object.assign(Object.assign({},t),{count:t.count*a}))))}else r.push({id:t,count:a})}return r}function a(t){const e=i.replacementTools(t.id);return[t,...e.map((e=>({id:e,count:t.count})))]}function c(t,e){return t.map((t=>s(t,e))).map((t=>t.flatMap(a))).filter((t=>t.length))}let l=(null!==(r=o.using)&&void 0!==r?r:[]).map((([t,e])=>[i.byId("requirement",t),e])).concat([[o,1]]),u=l.flatMap((([t,e])=>{var n;return c(null!==(n=t.tools)&&void 0!==n?n:[],(t=>t.tools)).map((t=>t.map((t=>Object.assign(Object.assign({},t),{count:t.count*e})))))})),d=l.flatMap((([t,e])=>{var n;return c(null!==(n=t.components)&&void 0!==n?n:[],(t=>t.components)).map((t=>t.map((t=>Object.assign(Object.assign({},t),{count:t.count*e})))))})),p=l.flatMap((([t,e])=>{var n;return(null!==(n=t.qualities)&&void 0!==n?n:[]).map((t=>Array.isArray(t)?t:[t]))})),h=void 0===(f=o.skills_required)||0===f.length?[]:Array.isArray(f[0])?f:[f];var f;return t.$$set=t=>{"recipe"in t&&n(0,o=t.recipe)},[o,i,u,d,p,h,t=>"AMMO"===t.type||"COMESTIBLE"===t.type||t.stackable,t=>({...t,item:i.byId("item",t.id)})]}class fe extends J{constructor(t){super(),z(this,t,he,pe,o,{recipe:0},[-1,-1])}}function me(t,e,n){const r=t.slice();return r[27]=e[n],r}function ge(t,e,n){const r=t.slice();return r[30]=e[n],r}function ye(t,e,n){const r=t.slice();return r[33]=e[n],r}function ve(t,e,n){const r=t.slice();return r[0]=e[n],r}function _e(t,e,n){const r=t.slice();return r[38]=e[n],r}function be(t,e,n){const r=t.slice();return r[41]=e[n],r}function xe(t,e,n){const r=t.slice();return r[44]=e[n][0],r[45]=e[n][1],r}function we(t,e,n){const r=t.slice();return r[48]=e[n].quality,r[49]=e[n].level,r}function Ee(t,e,n){const r=t.slice();return r[52]=e[n],r}function Se(t,e,n){const r=t.slice();return r[55]=e[n],r}function Te(t,e,n){const r=t.slice();return r[58]=e[n].id,r[59]=e[n].max_charges,r}function Oe(t,e,n){const r=t.slice();return r[62]=e[n],r}function ke(e){let n,r,i;return r=new dt({props:{type:"material",id:e[62].id}}),{c(){n=d("li"),H(r.$$.fragment)},m(t,e){c(t,n,e),W(r,n,null),i=!0},p:t,i(t){i||(P(r.$$.fragment,t),i=!0)},o(t){F(r.$$.fragment,t),i=!1},d(t){t&&l(n),G(r)}}}function Ce(t){let e,n,r,i,o,s,u,f,m=t[59]+"",g="GUN"===t[0].type?"rounds":"charges";return s=new dt({props:{type:"ammunition_type",id:t[58]}}),{c(){e=d("li"),n=p(m),r=h(),i=p(g),o=p(" of\n        "),H(s.$$.fragment),u=h()},m(t,l){c(t,e,l),a(e,n),a(e,r),a(e,i),a(e,o),W(s,e,null),a(e,u),f=!0},p(t,e){(!f||1&e[0])&&g!==(g="GUN"===t[0].type?"rounds":"charges")&&y(i,g)},i(t){f||(P(s.$$.fragment,t),f=!0)},o(t){F(s.$$.fragment,t),f=!1},d(t){t&&l(e),G(s)}}}function Ie(e){let n,r,i;return r=new dt({props:{type:"item",id:e[55]}}),{c(){n=d("li"),H(r.$$.fragment)},m(t,e){c(t,n,e),W(r,n,null),i=!0},p:t,i(t){i||(P(r.$$.fragment,t),i=!0)},o(t){F(r.$$.fragment,t),i=!1},d(t){t&&l(n),G(r)}}}function Me(t){let e;return{c(){e=d("li"),e.innerHTML="<em>none</em>"},m(t,n){c(t,e,n)},d(t){t&&l(e)}}}function $e(e){let n,r,i;return r=new dt({props:{type:"json_flag",id:e[52].id}}),{c(){n=d("li"),H(r.$$.fragment)},m(t,e){c(t,n,e),W(r,n,null),i=!0},p:t,i(t){i||(P(r.$$.fragment,t),i=!0)},o(t){F(r.$$.fragment,t),i=!1},d(t){t&&l(n),G(r)}}}function Re(e){let n,r,i,o,s,u,f,m,g=e[49]+"";return u=new dt({props:{type:"tool_quality",id:e[48].id}}),{c(){n=d("li"),r=p("Has level "),i=d("strong"),o=p(g),s=h(),H(u.$$.fragment),f=p(" quality.")},m(t,e){c(t,n,e),a(n,r),a(n,i),a(i,o),a(i,s),W(u,i,null),a(n,f),m=!0},p:t,i(t){m||(P(u.$$.fragment,t),m=!0)},o(t){F(u.$$.fragment,t),m=!1},d(t){t&&l(n),G(u)}}}function Ae(t){let e,n,r,i,o,s,f,m,v,_,b,x,w,E,S,T,O,k,C,I,M,$,R,A,N,L,j,D,B,P,F,U,q,H,W,G,Y,z,J,V,K,X,Z,Q,tt,et,nt,rt,it,ot,st,at,ct=t[13]("head"),lt=t[13]("eyes"),ut=t[13]("mouth"),dt=t[13]("torso"),pt=(t[0].encumbrance??0)+"",ht=(t[0].warmth??0)+"",ft=(t[0].coverage??0)+"",mt=(t[5].reduce(on,0)*t[0].material_thickness/t[5].length).toFixed(2)+"",gt=(t[5].reduce(sn,0)*t[0].material_thickness/t[5].length).toFixed(2)+"",yt=(t[5].reduce(an,0)*t[0].material_thickness/t[5].length).toFixed(2)+"",vt=t[16]().toFixed(2)+"",_t=t[17]().toFixed(2)+"",bt=(t[0].environmental_protection??0)+"",xt=ct&&function(t){let e,n,r;return{c(){e=p("The "),n=d("strong"),n.textContent="head",r=p(".")},m(t,i){c(t,e,i),c(t,n,i),c(t,r,i)},d(t){t&&l(e),t&&l(n),t&&l(r)}}}(),wt=lt&&function(t){let e,n,r;return{c(){e=p("The "),n=d("strong"),n.textContent="eyes",r=p(".")},m(t,i){c(t,e,i),c(t,n,i),c(t,r,i)},d(t){t&&l(e),t&&l(n),t&&l(r)}}}(),Et=ut&&function(t){let e,n,r;return{c(){e=p("The "),n=d("strong"),n.textContent="mouth",r=p(".")},m(t,i){c(t,e,i),c(t,n,i),c(t,r,i)},d(t){t&&l(e),t&&l(n),t&&l(r)}}}(),St=dt&&function(t){let e,n,r;return{c(){e=p("The "),n=d("strong"),n.textContent="torso",r=p(".")},m(t,i){c(t,e,i),c(t,n,i),c(t,r,i)},d(t){t&&l(e),t&&l(n),t&&l(r)}}}(),Tt=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]],Ot=[];for(let e=0;e<4;e+=1)Ot[e]=Be(xe(t,Tt,e));let kt=!t[14]&&function(t){let e;return{c(){e=p("Nothing.")},m(t,n){c(t,e,n)},d(t){t&&l(e)}}}(),Ct=t[0].max_encumbrance&&Pe(t);function It(t,e){return(null==N||1&e[0])&&(N=!!(t[0].flags??[]).includes("PERSONAL")),N?Ye:((null==L||1&e[0])&&(L=!!(t[0].flags??[]).includes("SKINTIGHT")),L?Ge:((null==j||1&e[0])&&(j=!!(t[0].flags??[]).includes("BELTED")),j?We:((null==D||1&e[0])&&(D=!!(t[0].flags??[]).includes("OUTER")),D?He:((null==B||1&e[0])&&(B=!!(t[0].flags??[]).includes("WAIST")),B?qe:((null==P||1&e[0])&&(P=!!(t[0].flags??[]).includes("AURA")),P?Ue:Fe)))))}let Mt=It(t,[-1]),$t=Mt(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Armor",r=h(),i=d("dl"),o=d("dt"),o.textContent="Covers",s=d("dd"),xt&&xt.c(),f=h(),wt&&wt.c(),m=h(),Et&&Et.c(),v=h(),St&&St.c(),_=h();for(let t=0;t<4;t+=1)Ot[t].c();b=h(),kt&&kt.c(),x=h(),w=d("dt"),w.textContent="Encumbrance",E=d("dd"),S=p(pt),Ct&&Ct.c(),T=d("dt"),T.textContent="Warmth",O=d("dd"),k=p(ht),C=d("dt"),C.textContent="Coverage",I=d("dd"),M=p(ft),$=p("%"),R=d("dt"),R.textContent="Layer",A=d("dd"),$t.c(),F=h(),U=d("dt"),U.textContent="Protection",q=d("dd"),H=d("dl"),W=d("dt"),W.textContent="Bash",G=d("dd"),Y=p(mt),z=d("dt"),z.textContent="Cut",J=d("dd"),V=p(gt),K=d("dt"),K.textContent="Ballistic",X=d("dd"),Z=p(yt),Q=d("dt"),Q.textContent="Acid",tt=d("dd"),et=p(vt),nt=d("dt"),nt.textContent="Fire",rt=d("dd"),it=p(_t),ot=d("dt"),ot.textContent="Environ.",st=d("dd"),at=p(bt),g(C,"title","This determines how likely it is that an attack hits the item instead of the player."),g(ot,"title","Environmental")},m(t,l){c(t,e,l),a(e,n),a(e,r),a(e,i),a(i,o),a(i,s),xt&&xt.m(s,null),a(s,f),wt&&wt.m(s,null),a(s,m),Et&&Et.m(s,null),a(s,v),St&&St.m(s,null),a(s,_);for(let t=0;t<4;t+=1)Ot[t].m(s,null);a(s,b),kt&&kt.m(s,null),a(s,x),a(i,w),a(i,E),a(E,S),Ct&&Ct.m(E,null),a(i,T),a(i,O),a(O,k),a(i,C),a(i,I),a(I,M),a(I,$),a(i,R),a(i,A),$t.m(A,null),a(A,F),a(i,U),a(i,q),a(q,H),a(H,W),a(H,G),a(G,Y),a(H,z),a(H,J),a(J,V),a(H,K),a(H,X),a(X,Z),a(H,Q),a(H,tt),a(tt,et),a(H,nt),a(H,rt),a(rt,it),a(H,ot),a(H,st),a(st,at)},p(t,e){if(8193&e[0]){let n;for(Tt=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]],n=0;n<4;n+=1){const r=xe(t,Tt,n);Ot[n]?Ot[n].p(r,e):(Ot[n]=Be(r),Ot[n].c(),Ot[n].m(s,b))}for(;n<4;n+=1)Ot[n].d(1)}1&e[0]&&pt!==(pt=(t[0].encumbrance??0)+"")&&y(S,pt),t[0].max_encumbrance?Ct?Ct.p(t,e):(Ct=Pe(t),Ct.c(),Ct.m(E,null)):Ct&&(Ct.d(1),Ct=null),1&e[0]&&ht!==(ht=(t[0].warmth??0)+"")&&y(k,ht),1&e[0]&&ft!==(ft=(t[0].coverage??0)+"")&&y(M,ft),Mt!==(Mt=It(t,e))&&($t.d(1),$t=Mt(t),$t&&($t.c(),$t.m(A,F))),1&e[0]&&mt!==(mt=(t[5].reduce(on,0)*t[0].material_thickness/t[5].length).toFixed(2)+"")&&y(Y,mt),1&e[0]&&gt!==(gt=(t[5].reduce(sn,0)*t[0].material_thickness/t[5].length).toFixed(2)+"")&&y(V,gt),1&e[0]&&yt!==(yt=(t[5].reduce(an,0)*t[0].material_thickness/t[5].length).toFixed(2)+"")&&y(Z,yt),1&e[0]&&vt!==(vt=t[16]().toFixed(2)+"")&&y(et,vt),1&e[0]&&_t!==(_t=t[17]().toFixed(2)+"")&&y(it,_t),1&e[0]&&bt!==(bt=(t[0].environmental_protection??0)+"")&&y(at,bt)},d(t){t&&l(e),xt&&xt.d(),wt&&wt.d(),Et&&Et.d(),St&&St.d(),u(Ot,t),kt&&kt.d(),Ct&&Ct.d(),$t.d()}}}function Ne(t){let e,n,r,i,o;return{c(){e=p("The "),n=d("strong"),r=p("right "),i=p(t[44]),o=p(".")},m(t,s){c(t,e,s),c(t,n,s),a(n,r),a(n,i),c(t,o,s)},d(t){t&&l(e),t&&l(n),t&&l(o)}}}function Le(t){let e,n,r,i,o;return{c(){e=p("The "),n=d("strong"),r=p("left "),i=p(t[44]),o=p(".")},m(t,s){c(t,e,s),c(t,n,s),a(n,r),a(n,i),c(t,o,s)},d(t){t&&l(e),t&&l(n),t&&l(o)}}}function je(t){let e,n,r,i;return{c(){e=p("The "),n=d("strong"),r=p(t[45]),i=p(".")},m(t,o){c(t,e,o),c(t,n,o),a(n,r),c(t,i,o)},d(t){t&&l(e),t&&l(n),t&&l(i)}}}function De(t){let e,n,r,i;return{c(){e=p("Either "),n=d("strong"),r=p(t[44]),i=p(".")},m(t,o){c(t,e,o),c(t,n,o),a(n,r),c(t,i,o)},d(t){t&&l(e),t&&l(n),t&&l(i)}}}function Be(t){let e,n,r,i,o,s;function a(t,o){return(null==e||1&o[0])&&(e=!(!t[0].sided||!t[13](`${t[44]}_l`)&&!t[13](`${t[44]}_r`))),e?De:(null==n&&(n=!(!t[13](`${t[44]}_l`)||!t[13](`${t[44]}_r`))),n?je:(null==r&&(r=!!t[13](`${t[44]}_l`)),r?Le:(null==i&&(i=!!t[13](`${t[44]}_r`)),i?Ne:void 0)))}let u=a(t,[-1]),d=u&&u(t);return{c(){d&&d.c(),o=h(),s=p(" ")},m(t,e){d&&d.m(t,e),c(t,o,e),c(t,s,e)},p(t,e){u!==(u=a(t,e))&&(d&&d.d(1),d=u&&u(t),d&&(d.c(),d.m(o.parentNode,o)))},d(t){d&&d.d(t),t&&l(o),t&&l(s)}}}function Pe(t){let e,n,r,i,o=t[0].max_encumbrance+"";return{c(){e=p(" "),n=p("("),r=p(o),i=p(" when full)")},m(t,o){c(t,e,o),c(t,n,o),c(t,r,o),c(t,i,o)},p(t,e){1&e[0]&&o!==(o=t[0].max_encumbrance+"")&&y(r,o)},d(t){t&&l(e),t&&l(n),t&&l(r),t&&l(i)}}}function Fe(t){let e;return{c(){e=p("Normal")},m(t,n){c(t,e,n)},d(t){t&&l(e)}}}function Ue(t){let e;return{c(){e=p("Outer aura")},m(t,n){c(t,e,n)},d(t){t&&l(e)}}}function qe(t){let e;return{c(){e=p("Waist")},m(t,n){c(t,e,n)},d(t){t&&l(e)}}}function He(t){let e;return{c(){e=p("Outer")},m(t,n){c(t,e,n)},d(t){t&&l(e)}}}function We(t){let e;return{c(){e=p("Strapped")},m(t,n){c(t,e,n)},d(t){t&&l(e)}}}function Ge(t){let e;return{c(){e=p("Close to skin")},m(t,n){c(t,e,n)},d(t){t&&l(e)}}}function Ye(t){let e;return{c(){e=p("Personal aura")},m(t,n){c(t,e,n)},d(t){t&&l(e)}}}function ze(t){let e,n,r,i,o,s,u,f,m=t[0].displacement+"";return{c(){e=d("section"),n=d("h1"),n.textContent="Engine",r=h(),i=d("dl"),o=d("dt"),o.textContent="Displacement",s=d("dd"),u=p(m),f=p(" cc")},m(t,l){c(t,e,l),a(e,n),a(e,r),a(e,i),a(i,o),a(i,s),a(s,u),a(s,f)},p(t,e){1&e[0]&&m!==(m=t[0].displacement+"")&&y(u,m)},d(t){t&&l(e)}}}function Je(t){let e,n,r,i,o,s,f,m,v,_,b,x,w,E,S,T,O,k=(t[0].bashing??0)+"",C=(t[0].cutting??0)+"",I=(t[0].to_hit??0)+"",M=t[2](t[0])+"",$=t[3].length&&function(t){let e,n,r,i,o=t[3],s=[];for(let e=0;e<o.length;e+=1)s[e]=Ve(be(t,o,e));const p=t=>F(s[t],1,1,(()=>{s[t]=null}));return{c(){e=d("dt"),e.textContent="Techniques",n=d("dd"),r=d("ul");for(let t=0;t<s.length;t+=1)s[t].c();g(r,"class","no-bullets")},m(t,o){c(t,e,o),c(t,n,o),a(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);i=!0},p(t,e){if(8&e[0]){let n;for(o=t[3],n=0;n<o.length;n+=1){const i=be(t,o,n);s[n]?(s[n].p(i,e),P(s[n],1)):(s[n]=Ve(i),s[n].c(),P(s[n],1),s[n].m(r,null))}for(D(),n=o.length;n<s.length;n+=1)p(n);B()}},i(t){if(!i){for(let t=0;t<o.length;t+=1)P(s[t]);i=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)F(s[t]);i=!1},d(t){t&&l(e),t&&l(n),u(s,t)}}}(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Melee",r=h(),i=d("dl"),o=d("dt"),o.textContent="Bash",s=d("dd"),f=p(k),m=d("dt"),m.textContent="Cut",v=d("dd"),_=p(C),b=d("dt"),b.textContent="To hit",x=d("dd"),w=p(I),E=d("dt"),E.textContent="Moves per attack",S=d("dd"),T=p(M),$&&$.c()},m(t,l){c(t,e,l),a(e,n),a(e,r),a(e,i),a(i,o),a(i,s),a(s,f),a(i,m),a(i,v),a(v,_),a(i,b),a(i,x),a(x,w),a(i,E),a(i,S),a(S,T),$&&$.m(i,null),O=!0},p(t,e){(!O||1&e[0])&&k!==(k=(t[0].bashing??0)+"")&&y(f,k),(!O||1&e[0])&&C!==(C=(t[0].cutting??0)+"")&&y(_,C),(!O||1&e[0])&&I!==(I=(t[0].to_hit??0)+"")&&y(w,I),(!O||1&e[0])&&M!==(M=t[2](t[0])+"")&&y(T,M),t[3].length&&$.p(t,e)},i(t){O||(P($),O=!0)},o(t){F($),O=!1},d(t){t&&l(e),$&&$.d()}}}function Ve(e){let n,r,i,o,s,u,h=e[41].description+"";return i=new dt({props:{type:"technique",id:e[41].id}}),{c(){n=d("li"),r=d("strong"),H(i.$$.fragment),o=p(": "),s=p(h)},m(t,e){c(t,n,e),a(n,r),W(i,r,null),a(n,o),a(n,s),u=!0},p:t,i(t){u||(P(i.$$.fragment,t),u=!0)},o(t){F(i.$$.fragment,t),u=!1},d(t){t&&l(n),G(i)}}}function Ke(e){let n,r,i=e[38]+"";return{c(){n=d("li"),r=p(i)},m(t,e){c(t,n,e),a(n,r)},p:t,d(t){t&&l(n)}}}function Xe(e){let n,r,i;return r=new dt({props:{type:"item",id:e[0]}}),{c(){n=d("li"),H(r.$$.fragment)},m(t,e){c(t,n,e),W(r,n,null),i=!0},p:t,i(t){i||(P(r.$$.fragment,t),i=!0)},o(t){F(r.$$.fragment,t),i=!1},d(t){t&&l(n),G(r)}}}function Ze(e){let n,r,i,o,s,m,y,v,_,b,x,w,E,S=e[33].max_contains_volume+"",T=e[33].max_contains_weight+"",O=e[33].moves+"",k=e[33].max_item_length&&function(e){let n,r,i,o=e[33].max_item_length+"";return{c(){n=d("dt"),n.textContent="Max Item Length",r=d("dd"),i=p(o)},m(t,e){c(t,n,e),c(t,r,e),a(r,i)},p:t,d(t){t&&l(n),t&&l(r)}}}(e),C="0 ml"!==e[33].min_item_volume&&function(e){let n,r,i,o=e[33].min_item_volume+"";return{c(){n=d("dt"),n.textContent="Min Item Volume",r=d("dd"),i=p(o)},m(t,e){c(t,n,e),c(t,r,e),a(r,i)},p:t,d(t){t&&l(n),t&&l(r)}}}(e),I=e[33].flag_restriction&&function(t){let e,n,r,i,o=t[33].flag_restriction,s=[];for(let e=0;e<o.length;e+=1)s[e]=Ke(_e(t,o,e));return{c(){e=d("dt"),e.textContent="Flag Restriction",n=d("dd"),r=d("ul");for(let t=0;t<s.length;t+=1)s[t].c();i=h(),g(r,"class","comma-separated")},m(t,o){c(t,e,o),c(t,n,o),a(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);a(n,i)},p(t,e){if(256&e[0]){let n;for(o=t[33].flag_restriction,n=0;n<o.length;n+=1){const i=_e(t,o,n);s[n]?s[n].p(i,e):(s[n]=Ke(i),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=o.length}},d(t){t&&l(e),t&&l(n),u(s,t)}}}(e),M=e[33].item_restriction&&function(t){let e,n,r,i,o,s=t[33].item_restriction,p=[];for(let e=0;e<s.length;e+=1)p[e]=Xe(ve(t,s,e));const f=t=>F(p[t],1,1,(()=>{p[t]=null}));return{c(){e=d("dt"),e.textContent="Item Restriction",n=d("dd"),r=d("ul");for(let t=0;t<p.length;t+=1)p[t].c();i=h(),g(r,"class","comma-separated")},m(t,s){c(t,e,s),c(t,n,s),a(n,r);for(let t=0;t<p.length;t+=1)p[t].m(r,null);a(n,i),o=!0},p(t,e){if(256&e[0]){let n;for(s=t[33].item_restriction,n=0;n<s.length;n+=1){const i=ve(t,s,n);p[n]?(p[n].p(i,e),P(p[n],1)):(p[n]=Xe(i),p[n].c(),P(p[n],1),p[n].m(r,null))}for(D(),n=s.length;n<p.length;n+=1)f(n);B()}},i(t){if(!o){for(let t=0;t<s.length;t+=1)P(p[t]);o=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)F(p[t]);o=!1},d(t){t&&l(e),t&&l(n),u(p,t)}}}(e);return{c(){n=d("dl"),r=d("dt"),r.textContent="Volume Capacity",i=d("dd"),o=p(S),s=d("dt"),s.textContent="Weight Capacity",m=d("dd"),y=p(T),k&&k.c(),v=f(),C&&C.c(),_=d("dt"),_.textContent="Moves To Remove Item",b=d("dd"),x=p(O),I&&I.c(),w=f(),M&&M.c()},m(t,e){c(t,n,e),a(n,r),a(n,i),a(i,o),a(n,s),a(n,m),a(m,y),k&&k.m(n,null),a(n,v),C&&C.m(n,null),a(n,_),a(n,b),a(b,x),I&&I.m(n,null),a(n,w),M&&M.m(n,null),E=!0},p(t,e){t[33].max_item_length&&k.p(t,e),"0 ml"!==t[33].min_item_volume&&C.p(t,e),t[33].flag_restriction&&I.p(t,e),t[33].item_restriction&&M.p(t,e)},i(t){E||(P(M),E=!0)},o(t){F(M),E=!1},d(t){t&&l(n),k&&k.d(),C&&C.d(),I&&I.d(),M&&M.d()}}}function Qe(e){let n,r,i,o,s,u=e[30].description+"";return r=new dt({props:{type:"fault",id:e[30].id}}),{c(){n=d("dt"),H(r.$$.fragment),i=d("dd"),o=p(u)},m(t,e){c(t,n,e),W(r,n,null),c(t,i,e),a(i,o),s=!0},p:t,i(t){s||(P(r.$$.fragment,t),s=!0)},o(t){F(r.$$.fragment,t),s=!1},d(t){t&&l(n),G(r),t&&l(i)}}}function tn(t){let e,n,r,i,o=[],s=new Map,a=t[10];const u=t=>t[27];for(let e=0;e<a.length;e+=1){let n=me(t,a,e),r=u(n);s.set(r,o[e]=en(r,n))}return{c(){e=d("h2"),e.textContent="Recipes",n=h();for(let t=0;t<o.length;t+=1)o[t].c();r=f()},m(t,s){c(t,e,s),c(t,n,s);for(let e=0;e<o.length;e+=1)o[e].m(t,s);c(t,r,s),i=!0},p(t,e){1024&e[0]&&(a=t[10],D(),o=function(t,e,n,r,i,o,s,a,c,l,u,d){let p=t.length,h=o.length,f=p;const m={};for(;f--;)m[t[f].key]=f;const g=[],y=new Map,v=new Map;for(f=h;f--;){const t=d(i,o,f),a=n(t);let c=s.get(a);c?r&&c.p(t,e):(c=l(a,t),c.c()),y.set(a,g[f]=c),a in m&&v.set(a,Math.abs(f-m[a]))}const _=new Set,b=new Set;function x(t){P(t,1),t.m(a,u),s.set(t.key,t),u=t.first,h--}for(;p&&h;){const e=g[h-1],n=t[p-1],r=e.key,i=n.key;e===n?(u=e.first,p--,h--):y.has(i)?!s.has(r)||_.has(r)?x(e):b.has(i)?p--:v.get(r)>v.get(i)?(b.add(r),x(e)):(_.add(i),p--):(c(n,s),p--)}for(;p--;){const e=t[p];y.has(e.key)||c(e,s)}for(;h;)x(g[h-1]);return g}(o,e,u,1,t,a,s,r.parentNode,q,en,r,me),B())},i(t){if(!i){for(let t=0;t<a.length;t+=1)P(o[t]);i=!0}},o(t){for(let t=0;t<o.length;t+=1)F(o[t]);i=!1},d(t){t&&l(e),t&&l(n);for(let e=0;e<o.length;e+=1)o[e].d(t);t&&l(r)}}}function en(t,e){let n,r,i;return r=new fe({props:{recipe:e[27]}}),{key:t,first:null,c(){n=f(),H(r.$$.fragment),this.first=n},m(t,e){c(t,n,e),W(r,t,e),i=!0},p(t,n){e=t},i(t){i||(P(r.$$.fragment,t),i=!0)},o(t){F(r.$$.fragment,t),i=!1},d(t){t&&l(n),G(r,t)}}}function nn(t){let e,n,r,i,o,s,m,v,b,x,w,E,S,T,O,k,C,I,M,$,R,A,N,L,j,U,q,H,W,G,Y,z,J,V,K,X,Z=t[0].symbol+"",tt=Q(t[0])+"",et=rt(t[0].volume)+"",nt=it(t[0].weight)+"",ot=t[1](t[0])+"",st=t[0].description+"",at=t[8].filter(rn).length,ct=t[5].length&&function(t){let e,n,r,i,o,s=t[5],p=[];for(let e=0;e<s.length;e+=1)p[e]=ke(Oe(t,s,e));const f=t=>F(p[t],1,1,(()=>{p[t]=null}));return{c(){e=d("dt"),e.textContent="Material",n=d("dd"),r=d("ul");for(let t=0;t<p.length;t+=1)p[t].c();i=h(),g(r,"class","comma-separated")},m(t,s){c(t,e,s),c(t,n,s),a(n,r);for(let t=0;t<p.length;t+=1)p[t].m(r,null);a(n,i),o=!0},p(t,e){if(32&e[0]){let n;for(s=t[5],n=0;n<s.length;n+=1){const i=Oe(t,s,n);p[n]?(p[n].p(i,e),P(p[n],1)):(p[n]=ke(i),p[n].c(),P(p[n],1),p[n].m(r,null))}for(D(),n=s.length;n<p.length;n+=1)f(n);B()}},i(t){if(!o){for(let t=0;t<s.length;t+=1)P(p[t]);o=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)F(p[t]);o=!1},d(t){t&&l(e),t&&l(n),u(p,t)}}}(t),lt=t[12].length&&function(t){let e,n,r,i,o,s=t[12].map(t[15]),p=[];for(let e=0;e<s.length;e+=1)p[e]=Ce(Te(t,s,e));const f=t=>F(p[t],1,1,(()=>{p[t]=null}));return{c(){e=d("dt"),e.textContent="Ammo",n=d("dd"),r=d("ul");for(let t=0;t<p.length;t+=1)p[t].c();i=h(),g(r,"class","no-bullets")},m(t,s){c(t,e,s),c(t,n,s),a(n,r);for(let t=0;t<p.length;t+=1)p[t].m(r,null);a(n,i),o=!0},p(t,e){if(6145&e[0]){let n;for(s=t[12].map(t[15]),n=0;n<s.length;n+=1){const i=Te(t,s,n);p[n]?(p[n].p(i,e),P(p[n],1)):(p[n]=Ce(i),p[n].c(),P(p[n],1),p[n].m(r,null))}for(D(),n=s.length;n<p.length;n+=1)f(n);B()}},i(t){if(!o){for(let t=0;t<s.length;t+=1)P(p[t]);o=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)F(p[t]);o=!1},d(t){t&&l(e),t&&l(n),u(p,t)}}}(t),ut=t[9].length&&function(t){let e,n,r,i,o,s=t[9],p=[];for(let e=0;e<s.length;e+=1)p[e]=Ie(Se(t,s,e));const f=t=>F(p[t],1,1,(()=>{p[t]=null}));return{c(){e=d("dt"),e.textContent="Compatible magazines",n=d("dd"),r=d("ul");for(let t=0;t<p.length;t+=1)p[t].c();i=h(),g(r,"class","comma-separated")},m(t,s){c(t,e,s),c(t,n,s),a(n,r);for(let t=0;t<p.length;t+=1)p[t].m(r,null);a(n,i),o=!0},p(t,e){if(512&e[0]){let n;for(s=t[9],n=0;n<s.length;n+=1){const i=Se(t,s,n);p[n]?(p[n].p(i,e),P(p[n],1)):(p[n]=Ie(i),p[n].c(),P(p[n],1),p[n].m(r,null))}for(D(),n=s.length;n<p.length;n+=1)f(n);B()}},i(t){if(!o){for(let t=0;t<s.length;t+=1)P(p[t]);o=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)F(p[t]);o=!1},d(t){t&&l(e),t&&l(n),u(p,t)}}}(t),dt=t[6],pt=[];for(let e=0;e<dt.length;e+=1)pt[e]=$e(Ee(t,dt,e));const ht=t=>F(pt[t],1,1,(()=>{pt[t]=null}));let ft=null;dt.length||(ft=Me());let mt=t[4].length&&function(t){let e,n,r,i,o=t[4],s=[];for(let e=0;e<o.length;e+=1)s[e]=Re(we(t,o,e));const p=t=>F(s[t],1,1,(()=>{s[t]=null}));return{c(){e=d("dt"),e.textContent="Qualities",n=d("dd"),r=d("ul");for(let t=0;t<s.length;t+=1)s[t].c();g(r,"class","no-bullets")},m(t,o){c(t,e,o),c(t,n,o),a(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);i=!0},p(t,e){if(16&e[0]){let n;for(o=t[4],n=0;n<o.length;n+=1){const i=we(t,o,n);s[n]?(s[n].p(i,e),P(s[n],1)):(s[n]=Re(i),s[n].c(),P(s[n],1),s[n].m(r,null))}for(D(),n=o.length;n<s.length;n+=1)p(n);B()}},i(t){if(!i){for(let t=0;t<o.length;t+=1)P(s[t]);i=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)F(s[t]);i=!1},d(t){t&&l(e),t&&l(n),u(s,t)}}}(t),gt=("ARMOR"===t[0].type||"TOOL_ARMOR"===t[0].type)&&Ae(t),yt="ENGINE"===t[0].type&&t[0].displacement&&ze(t),vt=(t[0].bashing||t[0].cutting)&&Je(t),_t=at&&function(t){let e,n,r,i,o=t[8].filter(cn),s=[];for(let e=0;e<o.length;e+=1)s[e]=Ze(ye(t,o,e));const p=t=>F(s[t],1,1,(()=>{s[t]=null}));return{c(){e=d("section"),n=d("h1"),n.textContent="Pockets",r=h();for(let t=0;t<s.length;t+=1)s[t].c()},m(t,o){c(t,e,o),a(e,n),a(e,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null);i=!0},p(t,n){if(256&n[0]){let r;for(o=t[8].filter(cn),r=0;r<o.length;r+=1){const i=ye(t,o,r);s[r]?(s[r].p(i,n),P(s[r],1)):(s[r]=Ze(i),s[r].c(),P(s[r],1),s[r].m(e,null))}for(D(),r=o.length;r<s.length;r+=1)p(r);B()}},i(t){if(!i){for(let t=0;t<o.length;t+=1)P(s[t]);i=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)F(s[t]);i=!1},d(t){t&&l(e),u(s,t)}}}(t),bt=t[7].length&&function(t){let e,n,r,i,o,s=t[7],p=[];for(let e=0;e<s.length;e+=1)p[e]=Qe(ge(t,s,e));const f=t=>F(p[t],1,1,(()=>{p[t]=null}));return{c(){e=d("section"),n=d("h1"),n.textContent="Possible faults",r=h(),i=d("dl");for(let t=0;t<p.length;t+=1)p[t].c()},m(t,s){c(t,e,s),a(e,n),a(e,r),a(e,i);for(let t=0;t<p.length;t+=1)p[t].m(i,null);o=!0},p(t,e){if(128&e[0]){let n;for(s=t[7],n=0;n<s.length;n+=1){const r=ge(t,s,n);p[n]?(p[n].p(r,e),P(p[n],1)):(p[n]=Qe(r),p[n].c(),P(p[n],1),p[n].m(i,null))}for(D(),n=s.length;n<p.length;n+=1)f(n);B()}},i(t){if(!o){for(let t=0;t<s.length;t+=1)P(p[t]);o=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)F(p[t]);o=!1},d(t){t&&l(e),u(p,t)}}}(t),xt=t[10].length&&tn(t);return{c(){e=d("h1"),n=d("span"),r=p(Z),o=h(),s=p(tt),m=h(),v=d("section"),b=d("h1"),b.textContent="General",x=h(),w=d("dl"),ct&&ct.c(),E=d("dt"),E.textContent="Volume",S=d("dd"),T=p(et),O=d("dt"),O.textContent="Weight",k=d("dd"),C=p(nt),I=d("dt"),I.textContent="Length",M=d("dd"),$=p(ot),lt&&lt.c(),R=f(),ut&&ut.c(),A=d("dt"),A.textContent="Flags",N=d("dd"),L=d("ul");for(let t=0;t<pt.length;t+=1)pt[t].c();ft&&ft.c(),j=h(),mt&&mt.c(),U=h(),q=d("p"),H=p(st),W=h(),gt&&gt.c(),G=h(),yt&&yt.c(),Y=h(),vt&&vt.c(),z=h(),_t&&_t.c(),J=h(),bt&&bt.c(),V=h(),xt&&xt.c(),K=f(),_(n,"font-family","monospace"),g(n,"class",i="c_"+t[0].color),g(L,"class","comma-separated"),_(q,"color","var(--cata-color-gray)")},m(t,i){c(t,e,i),a(e,n),a(n,r),a(e,o),a(e,s),c(t,m,i),c(t,v,i),a(v,b),a(v,x),a(v,w),ct&&ct.m(w,null),a(w,E),a(w,S),a(S,T),a(w,O),a(w,k),a(k,C),a(w,I),a(w,M),a(M,$),lt&&lt.m(w,null),a(w,R),ut&&ut.m(w,null),a(w,A),a(w,N),a(N,L);for(let t=0;t<pt.length;t+=1)pt[t].m(L,null);ft&&ft.m(L,null),a(N,j),mt&&mt.m(w,null),a(v,U),a(v,q),a(q,H),c(t,W,i),gt&&gt.m(t,i),c(t,G,i),yt&&yt.m(t,i),c(t,Y,i),vt&&vt.m(t,i),c(t,z,i),_t&&_t.m(t,i),c(t,J,i),bt&&bt.m(t,i),c(t,V,i),xt&&xt.m(t,i),c(t,K,i),X=!0},p(t,e){if((!X||1&e[0])&&Z!==(Z=t[0].symbol+"")&&y(r,Z),(!X||1&e[0]&&i!==(i="c_"+t[0].color))&&g(n,"class",i),(!X||1&e[0])&&tt!==(tt=Q(t[0])+"")&&y(s,tt),t[5].length&&ct.p(t,e),(!X||1&e[0])&&et!==(et=rt(t[0].volume)+"")&&y(T,et),(!X||1&e[0])&&nt!==(nt=it(t[0].weight)+"")&&y(C,nt),(!X||1&e[0])&&ot!==(ot=t[1](t[0])+"")&&y($,ot),t[12].length&&lt.p(t,e),t[9].length&&ut.p(t,e),64&e[0]){let n;for(dt=t[6],n=0;n<dt.length;n+=1){const r=Ee(t,dt,n);pt[n]?(pt[n].p(r,e),P(pt[n],1)):(pt[n]=$e(r),pt[n].c(),P(pt[n],1),pt[n].m(L,null))}for(D(),n=dt.length;n<pt.length;n+=1)ht(n);B(),dt.length?ft&&(ft.d(1),ft=null):ft||(ft=Me(),ft.c(),ft.m(L,null))}t[4].length&&mt.p(t,e),(!X||1&e[0])&&st!==(st=t[0].description+"")&&y(H,st),"ARMOR"===t[0].type||"TOOL_ARMOR"===t[0].type?gt?gt.p(t,e):(gt=Ae(t),gt.c(),gt.m(G.parentNode,G)):gt&&(gt.d(1),gt=null),"ENGINE"===t[0].type&&t[0].displacement?yt?yt.p(t,e):(yt=ze(t),yt.c(),yt.m(Y.parentNode,Y)):yt&&(yt.d(1),yt=null),t[0].bashing||t[0].cutting?vt?(vt.p(t,e),1&e[0]&&P(vt,1)):(vt=Je(t),vt.c(),P(vt,1),vt.m(z.parentNode,z)):vt&&(D(),F(vt,1,1,(()=>{vt=null})),B()),at&&_t.p(t,e),t[7].length&&bt.p(t,e),t[10].length&&xt.p(t,e)},i(t){if(!X){P(ct),P(lt),P(ut);for(let t=0;t<dt.length;t+=1)P(pt[t]);P(mt),P(vt),P(_t),P(bt),P(xt),X=!0}},o(t){F(ct),F(lt),F(ut),pt=pt.filter(Boolean);for(let t=0;t<pt.length;t+=1)F(pt[t]);F(mt),F(vt),F(_t),F(bt),F(xt),X=!1},d(t){t&&l(e),t&&l(m),t&&l(v),ct&&ct.d(),lt&&lt.d(),ut&&ut.d(),u(pt,t),ft&&ft.d(),mt&&mt.d(),t&&l(W),gt&&gt.d(t),t&&l(G),yt&&yt.d(t),t&&l(Y),vt&&vt.d(t),t&&l(z),_t&&_t.d(t),t&&l(J),bt&&bt.d(t),t&&l(V),xt&&xt.d(t),t&&l(K)}}}const rn=t=>"CONTAINER"===t.pocket_type,on=(t,e)=>t+e.bash_resist??0,sn=(t,e)=>t+e.cut_resist??0,an=(t,e)=>t+e.bullet_resist??0,cn=t=>"CONTAINER"===t.pocket_type;function ln(t,e,n){var r,i,o,s,a,c,l;let{item:u}=e,d=E("data");let p=(null!==(r=u.techniques)&&void 0!==r?r:[]).map((t=>d.byId("technique",t))),h=(null!==(i=u.qualities)&&void 0!==i?i:[]).map((([t,e])=>({quality:d.byId("tool_quality",t),level:e}))),f=("string"==typeof u.material?[u.material]:null!==(o=u.material)&&void 0!==o?o:[]).map((t=>d.byId("material",t))),m=(null!==(s=u.flags)&&void 0!==s?s:[]).map((t=>{var e;return null!==(e=d.byId("json_flag",t))&&void 0!==e?e:{id:t}})),g=(null!==(a=u.faults)&&void 0!==a?a:[]).map((t=>d.byId("fault",t)));const y={pocket_type:"CONTAINER",min_item_volume:"0 ml",moves:100,fire_protection:!1,watertight:!1,airtight:!1,open_container:!1,rigid:!1,holster:!1};let v=(null!==(c=u.pocket_data)&&void 0!==c?c:[]).map((t=>Object.assign(Object.assign({},y),t))),_=v.filter((t=>"MAGAZINE_WELL"===t.pocket_type)).flatMap((t=>t.item_restriction)),b=d.byType("recipe").filter((t=>t.result===u.id&&!t.obsolete)).map((t=>d._flatten(t)));function x(t){var e;let n=0;for(const r of v)"MAGAZINE"===r.pocket_type&&r.ammo_restriction&&(n+=null!==(e=r.ammo_restriction[t])&&void 0!==e?e:0);return n}let w=v.flatMap((t=>{var e;return Object.keys(null!==(e=t.ammo_restriction)&&void 0!==e?e:{})}));let S=(null!==(l=u.covers)&&void 0!==l?l:[]).length;return t.$$set=t=>{"item"in t&&n(0,u=t.item)},[u,function(t){return t.longest_side?t.longest_side:`${Math.round(Math.cbrt(et(t.volume)))} cm`},function(t){return Math.floor(et(t.volume)/62.5+nt(t.weight)/60+65)},p,h,f,m,g,v,_,b,x,w,function(t){var e;return(null!==(e=u.covers)&&void 0!==e?e:[]).includes(t)},S,t=>({id:t,max_charges:x(t)}),()=>{let t=f.reduce(((t,e)=>t+e.acid_resist??0),0)/f.length;const e=u.environmental_protection??0;return e<10&&(t*=e/10),t},()=>{let t=f.reduce(((t,e)=>t+e.fire_resist??0),0)/f.length;const e=u.environmental_protection??0;return e<10&&(t*=e/10),t}]}class un extends J{constructor(t){super(),z(this,t,ln,nn,o,{item:0},[-1,-1,-1])}}function dn(e){let n,r,i=JSON.stringify(e[0],null,2)+"";return{c(){n=d("pre"),r=p(i)},m(t,e){c(t,n,e),a(n,r)},p(t,[e]){1&e&&i!==(i=JSON.stringify(t[0],null,2)+"")&&y(r,i)},i:t,o:t,d(t){t&&l(n)}}}function pn(t,e,n){let{item:r}=e;return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r]}class hn extends J{constructor(t){super(),z(this,t,pn,dn,o,{item:0})}}function fn(t){let e,n,r,i;return r=new dt({props:{type:"item",id:t[0].repaired_with}}),{c(){e=d("dt"),e.textContent="Repaired With",n=d("dd"),H(r.$$.fragment)},m(t,o){c(t,e,o),c(t,n,o),W(r,n,null),i=!0},p(t,e){const n={};1&e&&(n.id=t[0].repaired_with),r.$set(n)},i(t){i||(P(r.$$.fragment,t),i=!0)},o(t){F(r.$$.fragment,t),i=!1},d(t){t&&l(e),t&&l(n),G(r)}}}function mn(t){let e,n,r,i;return r=new dt({props:{type:"item",id:t[0].salvaged_into}}),{c(){e=d("dt"),e.textContent="Salvaged Into",n=d("dd"),H(r.$$.fragment)},m(t,o){c(t,e,o),c(t,n,o),W(r,n,null),i=!0},p(t,e){const n={};1&e&&(n.id=t[0].salvaged_into),r.$set(n)},i(t){i||(P(r.$$.fragment,t),i=!0)},o(t){F(r.$$.fragment,t),i=!1},d(t){t&&l(e),t&&l(n),G(r)}}}function gn(t){let e,n,r,i,o,s,u,m,v,_,b,x,w,E,S,T,O,k,C,I,M,$,R,A,N,L,j,U,q,H,W,G,Y,z,J,V,K,X,Z,Q,tt,et,nt,rt,it,ot,st,at,ct,lt,ut=t[0].name+"",dt=t[0].density+"",pt=(t[0].specific_heat_liquid??4.186)+"",ht=(t[0].specific_heat_solid??2.108)+"",ft=(t[0].latent_heat??333)+"",mt=(t[0].bash_resist??0)+"",gt=(t[0].cut_resist??0)+"",yt=(t[0].bullet_resist??0)+"",vt=(t[0].acid_resist??0)+"",_t=(t[0].elec_resist??0)+"",bt=(t[0].chip_resist??0)+"",xt=t[0].edible?"yes":"no",wt=t[0].rotting?"yes":"no",Et=t[0].repaired_with&&fn(t),St=t[0].salvaged_into&&mn(t);return{c(){e=d("h1"),n=p("Material: "),r=p(ut),i=h(),o=d("section"),s=d("h1"),s.textContent="Properties",u=h(),m=d("dl"),v=d("dt"),v.textContent="Density",_=d("dd"),b=p(dt),x=d("dt"),x.textContent="Specific Heat",w=d("dd"),E=p(pt),S=p(" (liquid) / "),T=p(ht),O=p(" (solid)"),k=d("dt"),k.textContent="Latent Heat",C=d("dd"),I=p(ft),M=d("dt"),M.textContent="Resistance",$=d("dd"),R=d("dl"),A=d("dt"),A.textContent="Bash",N=d("dd"),L=p(mt),j=d("dt"),j.textContent="Cut",U=d("dd"),q=p(gt),H=d("dt"),H.textContent="Ballistic",W=d("dd"),G=p(yt),Y=d("dt"),Y.textContent="Acid",z=d("dd"),J=p(vt),V=d("dt"),V.textContent="Electricity",K=d("dd"),X=p(_t),Z=d("dt"),Z.textContent="Chip",Q=d("dd"),tt=p(bt),et=h(),Et&&Et.c(),nt=f(),St&&St.c(),rt=d("dt"),rt.textContent="Edible",it=d("dd"),ot=p(xt),st=d("dt"),st.textContent="Rots",at=d("dd"),ct=p(wt),g(v,"title","Relative to 'powder', which is 1"),g(Z,"title","Resistance to physical damage of the item itself"),g(st,"title","Corpses made of this material will go bad")},m(t,l){c(t,e,l),a(e,n),a(e,r),c(t,i,l),c(t,o,l),a(o,s),a(o,u),a(o,m),a(m,v),a(m,_),a(_,b),a(m,x),a(m,w),a(w,E),a(w,S),a(w,T),a(w,O),a(m,k),a(m,C),a(C,I),a(m,M),a(m,$),a($,R),a(R,A),a(R,N),a(N,L),a(R,j),a(R,U),a(U,q),a(R,H),a(R,W),a(W,G),a(R,Y),a(R,z),a(z,J),a(R,V),a(R,K),a(K,X),a(R,Z),a(R,Q),a(Q,tt),a($,et),Et&&Et.m(m,null),a(m,nt),St&&St.m(m,null),a(m,rt),a(m,it),a(it,ot),a(m,st),a(m,at),a(at,ct),lt=!0},p(t,[e]){(!lt||1&e)&&ut!==(ut=t[0].name+"")&&y(r,ut),(!lt||1&e)&&dt!==(dt=t[0].density+"")&&y(b,dt),(!lt||1&e)&&pt!==(pt=(t[0].specific_heat_liquid??4.186)+"")&&y(E,pt),(!lt||1&e)&&ht!==(ht=(t[0].specific_heat_solid??2.108)+"")&&y(T,ht),(!lt||1&e)&&ft!==(ft=(t[0].latent_heat??333)+"")&&y(I,ft),(!lt||1&e)&&mt!==(mt=(t[0].bash_resist??0)+"")&&y(L,mt),(!lt||1&e)&&gt!==(gt=(t[0].cut_resist??0)+"")&&y(q,gt),(!lt||1&e)&&yt!==(yt=(t[0].bullet_resist??0)+"")&&y(G,yt),(!lt||1&e)&&vt!==(vt=(t[0].acid_resist??0)+"")&&y(J,vt),(!lt||1&e)&&_t!==(_t=(t[0].elec_resist??0)+"")&&y(X,_t),(!lt||1&e)&&bt!==(bt=(t[0].chip_resist??0)+"")&&y(tt,bt),t[0].repaired_with?Et?(Et.p(t,e),1&e&&P(Et,1)):(Et=fn(t),Et.c(),P(Et,1),Et.m(m,nt)):Et&&(D(),F(Et,1,1,(()=>{Et=null})),B()),t[0].salvaged_into?St?(St.p(t,e),1&e&&P(St,1)):(St=mn(t),St.c(),P(St,1),St.m(m,rt)):St&&(D(),F(St,1,1,(()=>{St=null})),B()),(!lt||1&e)&&xt!==(xt=t[0].edible?"yes":"no")&&y(ot,xt),(!lt||1&e)&&wt!==(wt=t[0].rotting?"yes":"no")&&y(ct,wt)},i(t){lt||(P(Et),P(St),lt=!0)},o(t){F(Et),F(St),lt=!1},d(t){t&&l(e),t&&l(i),t&&l(o),Et&&Et.d(),St&&St.d()}}}function yn(t,e,n){let{item:r}=e;return E("data"),t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r]}class vn extends J{constructor(t){super(),z(this,t,yn,gn,o,{item:0})}}function _n(t,e,n){const r=t.slice();return r[3]=e[n],r}function bn(t){let e;return{c(){e=p("(default)")},m(t,n){c(t,e,n)},d(t){t&&l(e)}}}function xn(t){let e,n,r,i,o;n=new dt({props:{type:"item",id:t[3].id}});let s=t[3].id===t[0].default&&bn();return{c(){e=d("li"),H(n.$$.fragment),r=h(),s&&s.c(),i=h()},m(t,l){c(t,e,l),W(n,e,null),a(e,r),s&&s.m(e,null),a(e,i),o=!0},p(t,n){t[3].id===t[0].default?s||(s=bn(),s.c(),s.m(e,i)):s&&(s.d(1),s=null)},i(t){o||(P(n.$$.fragment,t),o=!0)},o(t){F(n.$$.fragment,t),o=!1},d(t){t&&l(e),G(n),s&&s.d()}}}function wn(t){let e,n,r,i,o,s,f,m,g,v=Q(t[0])+"",_=t[1],b=[];for(let e=0;e<_.length;e+=1)b[e]=xn(_n(t,_,e));const x=t=>F(b[t],1,1,(()=>{b[t]=null}));return{c(){e=d("h1"),n=p("Ammunition Type: "),r=p(v),i=h(),o=d("section"),s=d("h1"),s.textContent="Compatible Variants",f=h(),m=d("ul");for(let t=0;t<b.length;t+=1)b[t].c()},m(t,l){c(t,e,l),a(e,n),a(e,r),c(t,i,l),c(t,o,l),a(o,s),a(o,f),a(o,m);for(let t=0;t<b.length;t+=1)b[t].m(m,null);g=!0},p(t,[e]){if((!g||1&e)&&v!==(v=Q(t[0])+"")&&y(r,v),3&e){let n;for(_=t[1],n=0;n<_.length;n+=1){const r=_n(t,_,n);b[n]?(b[n].p(r,e),P(b[n],1)):(b[n]=xn(r),b[n].c(),P(b[n],1),b[n].m(m,null))}for(D(),n=_.length;n<b.length;n+=1)x(n);B()}},i(t){if(!g){for(let t=0;t<_.length;t+=1)P(b[t]);g=!0}},o(t){b=b.filter(Boolean);for(let t=0;t<b.length;t+=1)F(b[t]);g=!1},d(t){t&&l(e),t&&l(i),t&&l(o),u(b,t)}}}function En(t,e,n){let{item:r}=e;const i=E("data"),o=i.byType("item").flatMap((t=>{if("AMMO"!==t.type||!t.id)return[];const e=i._flatten(t);return e.ammo_type===r.id?[e]:[]}));return o.sort(((t,e)=>Q(t).localeCompare(Q(e)))),t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r,o]}class Sn extends J{constructor(t){super(),z(this,t,En,wn,o,{item:0})}}function Tn(t,e,n){const r=t.slice();return r[5]=e[n],r}function On(t,e,n){const r=t.slice();return r[8]=e[n].id,r}function kn(t,e,n){const r=t.slice();return r[5]=e[n][0],r[11]=e[n][1],r}function Cn(t,e,n){const r=t.slice();return r[14]=e[n],r}function In(t){let e,n,r,i,o=t[0].usages,s=[];for(let e=0;e<o.length;e+=1)s[e]=$n(kn(t,o,e));return{c(){e=d("section"),n=d("h1"),n.textContent="Usages",r=h(),i=d("dl");for(let t=0;t<s.length;t+=1)s[t].c()},m(t,o){c(t,e,o),a(e,n),a(e,r),a(e,i);for(let t=0;t<s.length;t+=1)s[t].m(i,null)},p(t,e){if(1&e){let n;for(o=t[0].usages,n=0;n<o.length;n+=1){const r=kn(t,o,n);s[n]?s[n].p(r,e):(s[n]=$n(r),s[n].c(),s[n].m(i,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=o.length}},d(t){t&&l(e),u(s,t)}}}function Mn(t){let e,n,r=t[14]+"";return{c(){e=d("li"),n=p(r)},m(t,r){c(t,e,r),a(e,n)},p(t,e){1&e&&r!==(r=t[14]+"")&&y(n,r)},d(t){t&&l(e)}}}function $n(t){let e,n,r,i,o,s,f=t[5]+"",m=t[11],v=[];for(let e=0;e<m.length;e+=1)v[e]=Mn(Cn(t,m,e));return{c(){e=d("dt"),n=p("At Level "),r=p(f),i=d("dd"),o=d("ul");for(let t=0;t<v.length;t+=1)v[t].c();s=h(),g(o,"class","comma-separated")},m(t,l){c(t,e,l),a(e,n),a(e,r),c(t,i,l),a(i,o);for(let t=0;t<v.length;t+=1)v[t].m(o,null);a(i,s)},p(t,e){if(1&e&&f!==(f=t[5]+"")&&y(r,f),1&e){let n;for(m=t[11],n=0;n<m.length;n+=1){const r=Cn(t,m,n);v[n]?v[n].p(r,e):(v[n]=Mn(r),v[n].c(),v[n].m(o,null))}for(;n<v.length;n+=1)v[n].d(1);v.length=m.length}},d(t){t&&l(e),t&&l(i),u(v,t)}}}function Rn(e){let n,r,i;return r=new dt({props:{type:"item",id:e[8]}}),{c(){n=d("li"),H(r.$$.fragment)},m(t,e){c(t,n,e),W(r,n,null),i=!0},p:t,i(t){i||(P(r.$$.fragment,t),i=!0)},o(t){F(r.$$.fragment,t),i=!1},d(t){t&&l(n),G(r)}}}function An(t){let e,n,r,i,o,s,f,m=t[5]+"",g=t[1].get(t[5]).sort(t[2]),y=[];for(let e=0;e<g.length;e+=1)y[e]=Rn(On(t,g,e));const v=t=>F(y[t],1,1,(()=>{y[t]=null}));return{c(){e=d("dt"),n=p("Level "),r=p(m),i=d("dd"),o=d("ul");for(let t=0;t<y.length;t+=1)y[t].c();s=h()},m(t,l){c(t,e,l),a(e,n),a(e,r),c(t,i,l),a(i,o);for(let t=0;t<y.length;t+=1)y[t].m(o,null);a(i,s),f=!0},p(t,e){if(2&e){let n;for(g=t[1].get(t[5]).sort(t[2]),n=0;n<g.length;n+=1){const r=On(t,g,n);y[n]?(y[n].p(r,e),P(y[n],1)):(y[n]=Rn(r),y[n].c(),P(y[n],1),y[n].m(o,null))}for(D(),n=g.length;n<y.length;n+=1)v(n);B()}},i(t){if(!f){for(let t=0;t<g.length;t+=1)P(y[t]);f=!0}},o(t){y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)F(y[t]);f=!1},d(t){t&&l(e),t&&l(i),u(y,t)}}}function Nn(t){let e,n,r,i,o,s,f,m,g,v,_=Q(t[0])+"",b=t[0].usages&&In(t),x=[...t[1].keys()].sort(Ln),w=[];for(let e=0;e<x.length;e+=1)w[e]=An(Tn(t,x,e));const E=t=>F(w[t],1,1,(()=>{w[t]=null}));return{c(){e=d("h1"),n=p("Quality: "),r=p(_),i=h(),b&&b.c(),o=h(),s=d("section"),f=d("h1"),f.textContent="Tools",m=h(),g=d("dl");for(let t=0;t<w.length;t+=1)w[t].c()},m(t,l){c(t,e,l),a(e,n),a(e,r),c(t,i,l),b&&b.m(t,l),c(t,o,l),c(t,s,l),a(s,f),a(s,m),a(s,g);for(let t=0;t<w.length;t+=1)w[t].m(g,null);v=!0},p(t,[e]){if((!v||1&e)&&_!==(_=Q(t[0])+"")&&y(r,_),t[0].usages?b?b.p(t,e):(b=In(t),b.c(),b.m(o.parentNode,o)):b&&(b.d(1),b=null),2&e){let n;for(x=[...t[1].keys()].sort(Ln),n=0;n<x.length;n+=1){const r=Tn(t,x,n);w[n]?(w[n].p(r,e),P(w[n],1)):(w[n]=An(r),w[n].c(),P(w[n],1),w[n].m(g,null))}for(D(),n=x.length;n<w.length;n+=1)E(n);B()}},i(t){if(!v){for(let t=0;t<x.length;t+=1)P(w[t]);v=!0}},o(t){w=w.filter(Boolean);for(let t=0;t<w.length;t+=1)F(w[t]);v=!1},d(t){t&&l(e),t&&l(i),b&&b.d(t),t&&l(o),t&&l(s),u(w,t)}}}const Ln=(t,e)=>t-e;function jn(t,e,n){var r;let{item:i}=e,o=E("data"),s=new Map;for(const t of o.byType("item")){if("TOOL"!==t.type&&"TOOL_ARMOR"!==t.type)continue;const e=(null!==(r=o._flatten(t).qualities)&&void 0!==r?r:[]).find((([t,e])=>t===i.id));if(e){const[,n]=e;s.has(n)||s.set(n,[]),s.get(n).push(t)}}return t.$$set=t=>{"item"in t&&n(0,i=t.item)},[i,s,(t,e)=>Q(t).localeCompare(Q(e))]}class Dn extends J{constructor(t){super(),z(this,t,jn,Nn,o,{item:0})}}function Bn(t,e,n){const r=t.slice();return r[8]=e[n],r}function Pn(t,e,n){const r=t.slice();return r[11]=e[n][0],r[12]=e[n][1],r}function Fn(t,e,n){const r=t.slice();return r[15]=e[n].id,r[16]=e[n].prob,r[17]=e[n].count,r}function Un(t){let e,n,r=50*t[0].move_cost_mod+"";return{c(){e=p("+"),n=p(r)},m(t,r){c(t,e,r),c(t,n,r)},p(t,e){1&e&&r!==(r=50*t[0].move_cost_mod+"")&&y(n,r)},d(t){t&&l(e),t&&l(n)}}}function qn(e){let n;return{c(){n=d("em"),n.textContent="impassable"},m(t,e){c(t,n,e)},p:t,d(t){t&&l(n)}}}function Hn(e){let n,r,i,o,s,a,u=e[17][0]+"",d=e[17][1]+"";return{c(){n=p(" "),r=p("("),i=p(u),o=p(""),s=p(d),a=p(")")},m(t,e){c(t,n,e),c(t,r,e),c(t,i,e),c(t,o,e),c(t,s,e),c(t,a,e)},p:t,d(t){t&&l(n),t&&l(r),t&&l(i),t&&l(o),t&&l(s),t&&l(a)}}}function Wn(e){let n,r=1!==e[17][0]&&function(e){let n,r,i,o,s=" ",a=e[17][0]+"";return{c(){n=p(s),r=p("("),i=p(a),o=p(")")},m(t,e){c(t,n,e),c(t,r,e),c(t,i,e),c(t,o,e)},p:t,d(t){t&&l(n),t&&l(r),t&&l(i),t&&l(o)}}}(e);return{c(){r&&r.c(),n=f()},m(t,e){r&&r.m(t,e),c(t,n,e)},p(t,e){1!==t[17][0]&&r.p(t,e)},d(t){r&&r.d(t),t&&l(n)}}}function Gn(e){let n,r,i,o,s;r=new dt({props:{type:"item",id:e[15]}});let u=function(t,e){return t[17][0]===t[17][1]?Wn:Hn}(e)(e),h=1!==e[16]&&function(e){let n,r,i,o,s=function(t){const e=(100*t).toFixed(2);return"0.00"===e?"< 0.01%":e+"%"}(e[16])+"";return{c(){n=p(" "),r=p("("),i=p(s),o=p(")")},m(t,e){c(t,n,e),c(t,r,e),c(t,i,e),c(t,o,e)},p:t,d(t){t&&l(n),t&&l(r),t&&l(i),t&&l(o)}}}(e);return{c(){n=d("li"),H(r.$$.fragment),i=p(""),u.c(),o=p(""),h&&h.c()},m(t,e){c(t,n,e),W(r,n,null),a(n,i),u.m(n,null),a(n,o),h&&h.m(n,null),s=!0},p(t,e){u.p(t,e),1!==t[16]&&h.p(t,e)},i(t){s||(P(r.$$.fragment,t),s=!0)},o(t){F(r.$$.fragment,t),s=!1},d(t){t&&l(n),G(r),u.d(),h&&h.d()}}}function Yn(t){let e,n,r=t[12].length&&function(t){let e,n,r,i,o,s,f=t[11]+"",m=t[12],y=[];for(let e=0;e<m.length;e+=1)y[e]=Gn(Fn(t,m,e));const v=t=>F(y[t],1,1,(()=>{y[t]=null}));return{c(){e=d("dt"),n=p(f),r=d("dd"),i=d("ul");for(let t=0;t<y.length;t+=1)y[t].c();o=h(),g(i,"class","comma-separated")},m(t,l){c(t,e,l),a(e,n),c(t,r,l),a(r,i);for(let t=0;t<y.length;t+=1)y[t].m(i,null);a(r,o),s=!0},p(t,e){if(24&e){let n;for(m=t[12],n=0;n<m.length;n+=1){const r=Fn(t,m,n);y[n]?(y[n].p(r,e),P(y[n],1)):(y[n]=Gn(r),y[n].c(),P(y[n],1),y[n].m(i,null))}for(D(),n=m.length;n<y.length;n+=1)v(n);B()}},i(t){if(!s){for(let t=0;t<m.length;t+=1)P(y[t]);s=!0}},o(t){y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)F(y[t]);s=!1},d(t){t&&l(e),t&&l(r),u(y,t)}}}(t);return{c(){r&&r.c(),e=f()},m(t,i){r&&r.m(t,i),c(t,e,i),n=!0},p(t,e){t[12].length&&r.p(t,e)},i(t){n||(P(r),n=!0)},o(t){F(r),n=!1},d(t){r&&r.d(t),t&&l(e)}}}function zn(t){let e,n,r=t[8]+"";return{c(){e=d("li"),n=p(r)},m(t,r){c(t,e,r),a(e,n)},p(t,e){1&e&&r!==(r=t[8]+"")&&y(n,r)},d(t){t&&l(e)}}}function Jn(t){let e,n,r,i,o,s,f,m,v,b,x,w,E,S,T,O,k,C,I,M,$,R,A,N,L,j,U,q,H,W=Q(t[0])+"",G=(t[0].required_str>=0?t[0].required_str:"not movable")+"",Y=(t[0].coverage??0)+"",z=(t[0].comfort??0)+"",J=t[0].description+"";function V(t,e){return t[0].move_cost_mod<0?qn:Un}let K=V(t),X=K(t),Z=[["Deconstruct",t[3]],["Bash",t[4]]],tt=[];for(let e=0;e<2;e+=1)tt[e]=Yn(Pn(t,Z,e));const et=t=>F(tt[t],1,1,(()=>{tt[t]=null}));let nt=t[0].flags??[],rt=[];for(let e=0;e<nt.length;e+=1)rt[e]=zn(Bn(t,nt,e));return{c(){e=d("h1"),n=d("span"),r=p(t[2]),i=h(),o=p(W),s=h(),f=d("section"),m=d("h1"),m.textContent="General",v=h(),b=d("dl"),x=d("dt"),x.textContent="Move Cost Modifier",w=d("dd"),X.c(),E=d("dt"),E.textContent="Strength Required to Drag",S=d("dd"),T=p(G),O=d("dt"),O.textContent="Coverage",k=d("dd"),C=p(Y),I=p("%"),M=d("dt"),M.textContent="Comfort",$=d("dd"),R=p(z);for(let t=0;t<2;t+=1)tt[t].c();A=d("dt"),A.textContent="Flags",N=d("dd"),L=d("ul");for(let t=0;t<rt.length;t+=1)rt[t].c();j=h(),U=d("p"),q=p(J),_(n,"font-family","monospace"),g(n,"class","c_"+t[1]),g(L,"class","comma-separated"),_(U,"color","var(--cata-color-gray)")},m(t,l){c(t,e,l),a(e,n),a(n,r),a(e,i),a(e,o),c(t,s,l),c(t,f,l),a(f,m),a(f,v),a(f,b),a(b,x),a(b,w),X.m(w,null),a(b,E),a(b,S),a(S,T),a(b,O),a(b,k),a(k,C),a(k,I),a(b,M),a(b,$),a($,R);for(let t=0;t<2;t+=1)tt[t].m(b,null);a(b,A),a(b,N),a(N,L);for(let t=0;t<rt.length;t+=1)rt[t].m(L,null);a(f,j),a(f,U),a(U,q),H=!0},p(t,[e]){if((!H||1&e)&&W!==(W=Q(t[0])+"")&&y(o,W),K===(K=V(t))&&X?X.p(t,e):(X.d(1),X=K(t),X&&(X.c(),X.m(w,null))),(!H||1&e)&&G!==(G=(t[0].required_str>=0?t[0].required_str:"not movable")+"")&&y(T,G),(!H||1&e)&&Y!==(Y=(t[0].coverage??0)+"")&&y(C,Y),(!H||1&e)&&z!==(z=(t[0].comfort??0)+"")&&y(R,z),24&e){let n;for(Z=[["Deconstruct",t[3]],["Bash",t[4]]],n=0;n<2;n+=1){const r=Pn(t,Z,n);tt[n]?(tt[n].p(r,e),P(tt[n],1)):(tt[n]=Yn(r),tt[n].c(),P(tt[n],1),tt[n].m(b,A))}for(D(),n=2;n<2;n+=1)et(n);B()}if(1&e){let n;for(nt=t[0].flags??[],n=0;n<nt.length;n+=1){const r=Bn(t,nt,n);rt[n]?rt[n].p(r,e):(rt[n]=zn(r),rt[n].c(),rt[n].m(L,null))}for(;n<rt.length;n+=1)rt[n].d(1);rt.length=nt.length}(!H||1&e)&&J!==(J=t[0].description+"")&&y(q,J)},i(t){if(!H){for(let t=0;t<2;t+=1)P(tt[t]);H=!0}},o(t){tt=tt.filter(Boolean);for(let t=0;t<2;t+=1)F(tt[t]);H=!1},d(t){t&&l(e),t&&l(s),t&&l(f),X.d(),u(tt,t),u(rt,t)}}}function Vn(t){return"string"==typeof t?`i_${t}`:Vn(t[0])}function Kn(t,e,n){var r,i;const o=E("data");let{item:s}=e;const a=s.color?s.color:s.bgcolor?Vn(s.bgcolor):null,c="string"==typeof s.symbol?s.symbol:s.symbol[0],l=(null===(r=s.deconstruct)||void 0===r?void 0:r.items)?st(o,{subtype:"collection",entries:s.deconstruct.items}):[],u=(null===(i=s.bash)||void 0===i?void 0:i.items)?st(o,{subtype:"collection",entries:s.bash.items}):[];return t.$$set=t=>{"item"in t&&n(0,s=t.item)},[s,a,c,l,u]}class Xn extends J{constructor(t){super(),z(this,t,Kn,Jn,o,{item:0})}}function Zn(e){let n,r,i,o,s,u,f,m=Q(e[0])+"",g=e[0].description+"";return{c(){n=d("h1"),r=p("Skill: "),i=p(m),o=h(),s=d("section"),u=d("p"),f=p(g),_(u,"color","var(--cata-color-gray)")},m(t,e){c(t,n,e),a(n,r),a(n,i),c(t,o,e),c(t,s,e),a(s,u),a(u,f)},p(t,[e]){1&e&&m!==(m=Q(t[0])+"")&&y(i,m),1&e&&g!==(g=t[0].description+"")&&y(f,g)},i:t,o:t,d(t){t&&l(n),t&&l(o),t&&l(s)}}}function Qn(t,e,n){let{item:r}=e;return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r]}class tr extends J{constructor(t){super(),z(this,t,Qn,Zn,o,{item:0})}}function er(t,e,n){const r=t.slice();return r[1]=e[n],r}function nr(t){let e,n,r,i,o=t[0].required_proficiencies,s=[];for(let e=0;e<o.length;e+=1)s[e]=rr(er(t,o,e));const p=t=>F(s[t],1,1,(()=>{s[t]=null}));return{c(){e=d("dt"),e.textContent="Required Proficiencies",n=d("dd"),r=d("ul");for(let t=0;t<s.length;t+=1)s[t].c();g(r,"class","comma-separated")},m(t,o){c(t,e,o),c(t,n,o),a(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);i=!0},p(t,e){if(1&e){let n;for(o=t[0].required_proficiencies,n=0;n<o.length;n+=1){const i=er(t,o,n);s[n]?(s[n].p(i,e),P(s[n],1)):(s[n]=rr(i),s[n].c(),P(s[n],1),s[n].m(r,null))}for(D(),n=o.length;n<s.length;n+=1)p(n);B()}},i(t){if(!i){for(let t=0;t<o.length;t+=1)P(s[t]);i=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)F(s[t]);i=!1},d(t){t&&l(e),t&&l(n),u(s,t)}}}function rr(t){let e,n,r;return n=new dt({props:{id:t[1],type:"proficiency"}}),{c(){e=d("li"),H(n.$$.fragment)},m(t,i){c(t,e,i),W(n,e,null),r=!0},p(t,e){const r={};1&e&&(r.id=t[1]),n.$set(r)},i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){t&&l(e),G(n)}}}function ir(t){let e,n,r,i,o,s,u,f,m,g,v,b,x,w,E,S,T,O,k,C,I,M=Q(t[0])+"",$=(t[0].can_learn?t[0].time_to_learn:"not learnable")+"",R=(t[0].default_time_multiplier??2)+"",A=(t[0].default_fail_multiplier??2)+"",N=t[0].description+"",L=t[0].required_proficiencies&&nr(t);return{c(){e=d("h1"),n=p("Proficiency: "),r=p(M),i=h(),o=d("section"),s=d("dl"),u=d("dt"),u.textContent="Time to Learn",f=d("dd"),m=p($),g=d("dt"),g.textContent="Default Time Multiplier",v=d("dd"),b=p(R),x=p(""),w=d("dt"),w.textContent="Default Fail Multiplier",E=d("dd"),S=p(A),T=p(""),L&&L.c(),O=h(),k=d("p"),C=p(N),_(k,"color","var(--cata-color-gray)")},m(t,l){c(t,e,l),a(e,n),a(e,r),c(t,i,l),c(t,o,l),a(o,s),a(s,u),a(s,f),a(f,m),a(s,g),a(s,v),a(v,b),a(v,x),a(s,w),a(s,E),a(E,S),a(E,T),L&&L.m(s,null),a(o,O),a(o,k),a(k,C),I=!0},p(t,[e]){(!I||1&e)&&M!==(M=Q(t[0])+"")&&y(r,M),(!I||1&e)&&$!==($=(t[0].can_learn?t[0].time_to_learn:"not learnable")+"")&&y(m,$),(!I||1&e)&&R!==(R=(t[0].default_time_multiplier??2)+"")&&y(b,R),(!I||1&e)&&A!==(A=(t[0].default_fail_multiplier??2)+"")&&y(S,A),t[0].required_proficiencies?L?(L.p(t,e),1&e&&P(L,1)):(L=nr(t),L.c(),P(L,1),L.m(s,null)):L&&(D(),F(L,1,1,(()=>{L=null})),B()),(!I||1&e)&&N!==(N=t[0].description+"")&&y(C,N)},i(t){I||(P(L),I=!0)},o(t){F(L),I=!1},d(t){t&&l(e),t&&l(i),t&&l(o),L&&L.d()}}}function or(t,e,n){let{item:r}=e;return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r]}class sr extends J{constructor(t){super(),z(this,t,or,ir,o,{item:0})}}function ar(t){let e,n,r,i=t[0].info+"";return{c(){e=d("section"),n=d("p"),r=p(i),_(n,"color","var(--cata-color-gray)")},m(t,i){c(t,e,i),a(e,n),a(n,r)},p(t,e){1&e&&i!==(i=t[0].info+"")&&y(r,i)},d(t){t&&l(e)}}}function cr(e){let n,r,i,o,s,u=e[0].id+"",m=e[0].info&&ar(e);return{c(){n=d("h1"),r=p("Flag: "),i=p(u),o=h(),m&&m.c(),s=f()},m(t,e){c(t,n,e),a(n,r),a(n,i),c(t,o,e),m&&m.m(t,e),c(t,s,e)},p(t,[e]){1&e&&u!==(u=t[0].id+"")&&y(i,u),t[0].info?m?m.p(t,e):(m=ar(t),m.c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null)},i:t,o:t,d(t){t&&l(n),t&&l(o),m&&m.d(t),t&&l(s)}}}function lr(t,e,n){let{item:r}=e;return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r]}class ur extends J{constructor(t){super(),z(this,t,lr,cr,o,{item:0})}}function dr(t){let e,n,r,i,o,s,u,f,m=JSON.stringify(t[1],null,2)+"";var g=t[2][t[1].type]??hn;function v(t){return{props:{item:t[1]}}}return g&&(e=new g(v(t))),{c(){e&&H(e.$$.fragment),n=h(),r=d("details"),i=d("summary"),i.textContent="Raw JSON",o=h(),s=d("pre"),u=p(m)},m(t,l){e&&W(e,t,l),c(t,n,l),c(t,r,l),a(r,i),a(r,o),a(r,s),a(s,u),f=!0},p(t,r){const i={};if(2&r&&(i.item=t[1]),g!==(g=t[2][t[1].type]??hn)){if(e){D();const t=e;F(t.$$.fragment,1,0,(()=>{G(t,1)})),B()}g?(e=new g(v(t)),H(e.$$.fragment),P(e.$$.fragment,1),W(e,n.parentNode,n)):e=null}else g&&e.$set(i);(!f||2&r)&&m!==(m=JSON.stringify(t[1],null,2)+"")&&y(u,m)},i(t){f||(e&&P(e.$$.fragment,t),f=!0)},o(t){e&&F(e.$$.fragment,t),f=!1},d(t){e&&G(e,t),t&&l(n),t&&l(r)}}}function pr(e){let n,r,i,o,s=e[0].type+"",a=e[0].id+"";return{c(){n=p("Unknown obj: "),r=p(s),i=p("/"),o=p(a)},m(t,e){c(t,n,e),c(t,r,e),c(t,i,e),c(t,o,e)},p(t,e){1&e&&s!==(s=t[0].type+"")&&y(r,s),1&e&&a!==(a=t[0].id+"")&&y(o,a)},i:t,o:t,d(t){t&&l(n),t&&l(r),t&&l(i),t&&l(o)}}}function hr(t){let e,n,r,i;const o=[pr,dr],s=[];function a(t,e){return t[1]?1:0}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=f()},m(t,n){s[e].m(t,n),c(t,r,n),i=!0},p(t,[i]){let c=e;e=a(t),e===c?s[e].p(t,i):(D(),F(s[c],1,1,(()=>{s[c]=null})),B(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),P(n,1),n.m(r.parentNode,r))},i(t){i||(P(n),i=!0)},o(t){F(n),i=!1},d(t){s[e].d(t),t&&l(r)}}}function fr(t,e,n){let{item:r}=e,{data:i}=e;var o,s;let a;o="data",s=i,w().$$.context.set(o,s);const c={MONSTER:Pt,AMMO:un,GUN:un,ARMOR:un,PET_ARMOR:un,TOOL:un,TOOLMOD:un,TOOL_ARMOR:un,BOOK:un,COMESTIBLE:un,ENGINE:un,WHEEL:un,GUNMOD:un,MAGAZINE:un,BATTERY:un,GENERIC:un,BIONIC_ITEM:un,material:vn,ammunition_type:Sn,tool_quality:Dn,furniture:Xn,skill:tr,proficiency:sr,json_flag:ur};return t.$$set=t=>{"item"in t&&n(0,r=t.item),"data"in t&&n(3,i=t.data)},t.$$.update=()=>{9&t.$$.dirty&&n(1,a=i.byId(r.type,r.id))},[r,a,c,i]}class mr extends J{constructor(t){super(),z(this,t,fr,hr,o,{item:0,data:3})}}function gr(t){return Array.isArray?Array.isArray(t):"[object Array]"===Er(t)}function yr(t){return"string"==typeof t}function vr(t){return"number"==typeof t}function _r(t){return!0===t||!1===t||function(t){return br(t)&&null!==t}(t)&&"[object Boolean]"==Er(t)}function br(t){return"object"==typeof t}function xr(t){return null!=t}function wr(t){return!t.trim().length}function Er(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Sr=Object.prototype.hasOwnProperty;class Tr{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach((t=>{let n=Or(t);e+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,e+=n.weight})),this._keys.forEach((t=>{t.weight/=e}))}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Or(t){let e=null,n=null,r=null,i=1;if(yr(t)||gr(t))r=t,e=kr(t),n=Cr(t);else{if(!Sr.call(t,"name"))throw new Error((t=>`Missing ${t} property in key`)("name"));const o=t.name;if(r=o,Sr.call(t,"weight")&&(i=t.weight,i<=0))throw new Error((t=>`Property 'weight' in key '${t}' must be a positive integer`)(o));e=kr(o),n=Cr(o)}return{path:e,id:n,weight:i,src:r}}function kr(t){return gr(t)?t:t.split(".")}function Cr(t){return gr(t)?t.join("."):t}var Ir={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(t,e){let n=[],r=!1;const i=(t,e,o)=>{if(xr(t))if(e[o]){const s=t[e[o]];if(!xr(s))return;if(o===e.length-1&&(yr(s)||vr(s)||_r(s)))n.push(function(t){return null==t?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}(s));else if(gr(s)){r=!0;for(let t=0,n=s.length;t<n;t+=1)i(s[t],e,o+1)}else e.length&&i(s,e,o+1)}else n.push(t)};return i(t,yr(e)?e.split("."):e,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1}};const Mr=/[^ ]+/g;class $r{constructor({getFn:t=Ir.getFn}={}){this.norm=function(t=3){const e=new Map,n=Math.pow(10,t);return{get(t){const r=t.match(Mr).length;if(e.has(r))return e.get(r);const i=1/Math.sqrt(r),o=parseFloat(Math.round(i*n)/n);return e.set(r,o),o},clear(){e.clear()}}}(3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach(((t,e)=>{this._keysMap[t.id]=e}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,yr(this.docs[0])?this.docs.forEach(((t,e)=>{this._addString(t,e)})):this.docs.forEach(((t,e)=>{this._addObject(t,e)})),this.norm.clear())}add(t){const e=this.size();yr(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!xr(t)||wr(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(t,e){let n={i:e,$:{}};this.keys.forEach(((e,r)=>{let i=this.getFn(t,e.path);if(xr(i))if(gr(i)){let t=[];const e=[{nestedArrIndex:-1,value:i}];for(;e.length;){const{nestedArrIndex:n,value:r}=e.pop();if(xr(r))if(yr(r)&&!wr(r)){let e={v:r,i:n,n:this.norm.get(r)};t.push(e)}else gr(r)&&r.forEach(((t,n)=>{e.push({nestedArrIndex:n,value:t})}))}n.$[r]=t}else if(!wr(i)){let t={v:i,n:this.norm.get(i)};n.$[r]=t}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Rr(t,e,{getFn:n=Ir.getFn}={}){const r=new $r({getFn:n});return r.setKeys(t.map(Or)),r.setSources(e),r.create(),r}function Ar(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:i=Ir.distance,ignoreLocation:o=Ir.ignoreLocation}={}){const s=e/t.length;if(o)return s;const a=Math.abs(r-n);return i?s+a/i:a?1:s}const Nr=32;function Lr(t,e,n,{location:r=Ir.location,distance:i=Ir.distance,threshold:o=Ir.threshold,findAllMatches:s=Ir.findAllMatches,minMatchCharLength:a=Ir.minMatchCharLength,includeMatches:c=Ir.includeMatches,ignoreLocation:l=Ir.ignoreLocation}={}){if(e.length>Nr)throw new Error(`Pattern length exceeds max of ${Nr}.`);const u=e.length,d=t.length,p=Math.max(0,Math.min(r,d));let h=o,f=p;const m=a>1||c,g=m?Array(d):[];let y;for(;(y=t.indexOf(e,f))>-1;){let t=Ar(e,{currentLocation:y,expectedLocation:p,distance:i,ignoreLocation:l});if(h=Math.min(t,h),f=y+u,m){let t=0;for(;t<u;)g[y+t]=1,t+=1}}f=-1;let v=[],_=1,b=u+d;const x=1<<u-1;for(let r=0;r<u;r+=1){let o=0,a=b;for(;o<a;){Ar(e,{errors:r,currentLocation:p+a,expectedLocation:p,distance:i,ignoreLocation:l})<=h?o=a:b=a,a=Math.floor((b-o)/2+o)}b=a;let c=Math.max(1,p-a+1),y=s?d:Math.min(p+a,d)+u,w=Array(y+2);w[y+1]=(1<<r)-1;for(let o=y;o>=c;o-=1){let s=o-1,a=n[t.charAt(s)];if(m&&(g[s]=+!!a),w[o]=(w[o+1]<<1|1)&a,r&&(w[o]|=(v[o+1]|v[o])<<1|1|v[o+1]),w[o]&x&&(_=Ar(e,{errors:r,currentLocation:s,expectedLocation:p,distance:i,ignoreLocation:l}),_<=h)){if(h=_,f=s,f<=p)break;c=Math.max(1,2*p-f)}}if(Ar(e,{errors:r+1,currentLocation:p,expectedLocation:p,distance:i,ignoreLocation:l})>h)break;v=w}const w={isMatch:f>=0,score:Math.max(.001,_)};if(m){const t=function(t=[],e=Ir.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let s=t.length;o<s;o+=1){let s=t[o];s&&-1===r?r=o:s||-1===r||(i=o-1,i-r+1>=e&&n.push([r,i]),r=-1)}return t[o-1]&&o-r>=e&&n.push([r,o-1]),n}(g,a);t.length?c&&(w.indices=t):w.isMatch=!1}return w}function jr(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<r-n-1}return e}class Dr{constructor(t,{location:e=Ir.location,threshold:n=Ir.threshold,distance:r=Ir.distance,includeMatches:i=Ir.includeMatches,findAllMatches:o=Ir.findAllMatches,minMatchCharLength:s=Ir.minMatchCharLength,isCaseSensitive:a=Ir.isCaseSensitive,ignoreLocation:c=Ir.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:a,ignoreLocation:c},this.pattern=a?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const l=(t,e)=>{this.chunks.push({pattern:t,alphabet:jr(t),startIndex:e})},u=this.pattern.length;if(u>Nr){let t=0;const e=u%Nr,n=u-e;for(;t<n;)l(this.pattern.substr(t,Nr),t),t+=Nr;if(e){const t=u-Nr;l(this.pattern.substr(t),t)}}else l(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:n}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return n&&(e.indices=[[0,t.length-1]]),e}const{location:r,distance:i,threshold:o,findAllMatches:s,minMatchCharLength:a,ignoreLocation:c}=this.options;let l=[],u=0,d=!1;this.chunks.forEach((({pattern:e,alphabet:p,startIndex:h})=>{const{isMatch:f,score:m,indices:g}=Lr(t,e,p,{location:r+h,distance:i,threshold:o,findAllMatches:s,minMatchCharLength:a,includeMatches:n,ignoreLocation:c});f&&(d=!0),u+=m,f&&g&&(l=[...l,...g])}));let p={isMatch:d,score:d?u/this.chunks.length:1};return d&&n&&(p.indices=l),p}}class Br{constructor(t){this.pattern=t}static isMultiMatch(t){return Pr(t,this.multiRegex)}static isSingleMatch(t){return Pr(t,this.singleRegex)}search(){}}function Pr(t,e){const n=t.match(e);return n?n[1]:null}class Fr extends Br{constructor(t,{location:e=Ir.location,threshold:n=Ir.threshold,distance:r=Ir.distance,includeMatches:i=Ir.includeMatches,findAllMatches:o=Ir.findAllMatches,minMatchCharLength:s=Ir.minMatchCharLength,isCaseSensitive:a=Ir.isCaseSensitive,ignoreLocation:c=Ir.ignoreLocation}={}){super(t),this._bitapSearch=new Dr(t,{location:e,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:a,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Ur extends Br{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,n=0;const r=[],i=this.pattern.length;for(;(e=t.indexOf(this.pattern,n))>-1;)n=e+i,r.push([e,n-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const qr=[class extends Br{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},Ur,class extends Br{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends Br{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends Br{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends Br{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends Br{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},Fr],Hr=qr.length,Wr=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/;const Gr=new Set([Fr.type,Ur.type]);class Yr{constructor(t,{isCaseSensitive:e=Ir.isCaseSensitive,includeMatches:n=Ir.includeMatches,minMatchCharLength:r=Ir.minMatchCharLength,ignoreLocation:i=Ir.ignoreLocation,findAllMatches:o=Ir.findAllMatches,location:s=Ir.location,threshold:a=Ir.threshold,distance:c=Ir.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:n,minMatchCharLength:r,findAllMatches:o,ignoreLocation:i,location:s,threshold:a,distance:c},this.pattern=e?t:t.toLowerCase(),this.query=function(t,e={}){return t.split("|").map((t=>{let n=t.trim().split(Wr).filter((t=>t&&!!t.trim())),r=[];for(let t=0,i=n.length;t<i;t+=1){const i=n[t];let o=!1,s=-1;for(;!o&&++s<Hr;){const t=qr[s];let n=t.isMultiMatch(i);n&&(r.push(new t(n,e)),o=!0)}if(!o)for(s=-1;++s<Hr;){const t=qr[s];let n=t.isSingleMatch(i);if(n){r.push(new t(n,e));break}}}return r}))}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;t=r?t:t.toLowerCase();let i=0,o=[],s=0;for(let r=0,a=e.length;r<a;r+=1){const a=e[r];o.length=0,i=0;for(let e=0,r=a.length;e<r;e+=1){const r=a[e],{isMatch:c,indices:l,score:u}=r.search(t);if(!c){s=0,i=0,o.length=0;break}if(i+=1,s+=u,n){const t=r.constructor.type;Gr.has(t)?o=[...o,...l]:o.push(l)}}if(i){let t={isMatch:!0,score:s/i};return n&&(t.indices=o),t}}return{isMatch:!1,score:1}}}const zr=[];function Jr(t,e){for(let n=0,r=zr.length;n<r;n+=1){let r=zr[n];if(r.condition(t,e))return new r(t,e)}return new Dr(t,e)}const Vr="$and",Kr="$or",Xr="$path",Zr="$val",Qr=t=>!(!t[Vr]&&!t[Kr]),ti=t=>({[Vr]:Object.keys(t).map((e=>({[e]:t[e]})))});function ei(t,e,{auto:n=!0}={}){const r=t=>{let i=Object.keys(t);const o=(t=>!!t[Xr])(t);if(!o&&i.length>1&&!Qr(t))return r(ti(t));if((t=>!gr(t)&&br(t)&&!Qr(t))(t)){const r=o?t[Xr]:i[0],s=o?t[Zr]:t[r];if(!yr(s))throw new Error((t=>`Invalid value for key ${t}`)(r));const a={keyId:Cr(r),pattern:s};return n&&(a.searcher=Jr(s,e)),a}let s={children:[],operator:i[0]};return i.forEach((e=>{const n=t[e];gr(n)&&n.forEach((t=>{s.children.push(r(t))}))})),s};return Qr(t)||(t=ti(t)),r(t)}function ni(t,e){const n=t.matches;e.matches=[],xr(n)&&n.forEach((t=>{if(!xr(t.indices)||!t.indices.length)return;const{indices:n,value:r}=t;let i={indices:n,value:r};t.key&&(i.key=t.key.src),t.idx>-1&&(i.refIndex=t.idx),e.matches.push(i)}))}function ri(t,e){e.score=t.score}class ii{constructor(t,e={},n){this.options={...Ir,...e},this.options.useExtendedSearch,this._keyStore=new Tr(this.options.keys),this.setCollection(t,n)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof $r))throw new Error("Incorrect 'index' type");this._myIndex=e||Rr(this.options.keys,this._docs,{getFn:this.options.getFn})}add(t){xr(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=(()=>!1)){const e=[];for(let n=0,r=this._docs.length;n<r;n+=1){const i=this._docs[n];t(i,n)&&(this.removeAt(n),n-=1,r-=1,e.push(i))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:i,sortFn:o,ignoreFieldNorm:s}=this.options;let a=yr(t)?yr(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,{ignoreFieldNorm:e=Ir.ignoreFieldNorm}){t.forEach((t=>{let n=1;t.matches.forEach((({key:t,norm:r,score:i})=>{const o=t?t.weight:null;n*=Math.pow(0===i&&o?Number.EPSILON:i,(o||1)*(e?1:r))})),t.score=n}))}(a,{ignoreFieldNorm:s}),i&&a.sort(o),vr(e)&&e>-1&&(a=a.slice(0,e)),function(t,e,{includeMatches:n=Ir.includeMatches,includeScore:r=Ir.includeScore}={}){const i=[];return n&&i.push(ni),r&&i.push(ri),t.map((t=>{const{idx:n}=t,r={item:e[n],refIndex:n};return i.length&&i.forEach((e=>{e(t,r)})),r}))}(a,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(t){const e=Jr(t,this.options),{records:n}=this._myIndex,r=[];return n.forEach((({v:t,i:n,n:i})=>{if(!xr(t))return;const{isMatch:o,score:s,indices:a}=e.searchIn(t);o&&r.push({item:t,idx:n,matches:[{score:s,value:t,norm:i,indices:a}]})})),r}_searchLogical(t){const e=ei(t,this.options),n=(t,e,r)=>{if(!t.children){const{keyId:n,searcher:i}=t,o=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(e,n),searcher:i});return o&&o.length?[{idx:r,item:e,matches:o}]:[]}switch(t.operator){case Vr:{const i=[];for(let o=0,s=t.children.length;o<s;o+=1){const s=t.children[o],a=n(s,e,r);if(!a.length)return[];i.push(...a)}return i}case Kr:{const i=[];for(let o=0,s=t.children.length;o<s;o+=1){const s=t.children[o],a=n(s,e,r);if(a.length){i.push(...a);break}}return i}}},r=this._myIndex.records,i={},o=[];return r.forEach((({$:t,i:r})=>{if(xr(t)){let s=n(e,t,r);s.length&&(i[r]||(i[r]={idx:r,item:t,matches:[]},o.push(i[r])),s.forEach((({matches:t})=>{i[r].matches.push(...t)})))}})),o}_searchObjectList(t){const e=Jr(t,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach((({$:t,i:r})=>{if(!xr(t))return;let o=[];n.forEach(((n,r)=>{o.push(...this._findMatches({key:n,value:t[r],searcher:e}))})),o.length&&i.push({idx:r,item:t,matches:o})})),i}_findMatches({key:t,value:e,searcher:n}){if(!xr(e))return[];let r=[];if(gr(e))e.forEach((({v:e,i:i,n:o})=>{if(!xr(e))return;const{isMatch:s,score:a,indices:c}=n.searchIn(e);s&&r.push({score:a,key:t,value:e,idx:i,norm:o,indices:c})}));else{const{v:i,n:o}=e,{isMatch:s,score:a,indices:c}=n.searchIn(i);s&&r.push({score:a,key:t,value:i,norm:o,indices:c})}return r}}function oi(t,e,n){const r=t.slice();return r[7]=e[n],r}function si(t,e,n){const r=t.slice();return r[10]=e[n],r}function ai(e){let n;return{c(){n=d("pre"),n.textContent="..."},m(t,e){c(t,n,e)},p:t,d(t){t&&l(n)}}}function ci(t){let e,n=[...t[0].keys()],r=[];for(let e=0;e<n.length;e+=1)r[e]=ui(oi(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=f()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);c(t,e,n)},p(t,i){if(1&i){let o;for(n=[...t[0].keys()],o=0;o<n.length;o+=1){const s=oi(t,n,o);r[o]?r[o].p(s,i):(r[o]=ui(s),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){u(r,t),t&&l(e)}}}function li(t){let e,n,r,i,o=Q(t[10])+"";return{c(){e=d("li"),n=d("a"),r=p(o),g(n,"href",i="#/"+Z(t[10].type)+"/"+t[10].id)},m(t,i){c(t,e,i),a(e,n),a(n,r)},p(t,e){1&e&&o!==(o=Q(t[10])+"")&&y(r,o),1&e&&i!==(i="#/"+Z(t[10].type)+"/"+t[10].id)&&g(n,"href",i)},d(t){t&&l(e)}}}function ui(t){let e,n,r,i,o,s=t[7]+"",f=t[0].get(t[7]),m=[];for(let e=0;e<f.length;e+=1)m[e]=li(si(t,f,e));return{c(){e=d("h1"),n=p(s),r=h(),i=d("ul");for(let t=0;t<m.length;t+=1)m[t].c();o=h()},m(t,s){c(t,e,s),a(e,n),c(t,r,s),c(t,i,s);for(let t=0;t<m.length;t+=1)m[t].m(i,null);a(i,o)},p(t,e){if(1&e&&s!==(s=t[7]+"")&&y(n,s),1&e){let n;for(f=t[0].get(t[7]),n=0;n<f.length;n+=1){const r=si(t,f,n);m[n]?m[n].p(r,e):(m[n]=li(r),m[n].c(),m[n].m(i,o))}for(;n<m.length;n+=1)m[n].d(1);m.length=f.length}},d(t){t&&l(e),t&&l(r),t&&l(i),u(m,t)}}}function di(e){let n;function r(t,e){return t[0]?ci:ai}let i=r(e),o=i(e);return{c(){o.c(),n=f()},m(t,e){o.m(t,e),c(t,n,e)},p(t,[e]){i===(i=r(t))&&o?o.p(t,e):(o.d(1),o=i(t),o&&(o.c(),o.m(n.parentNode,n)))},i:t,o:t,d(t){o.d(t),t&&l(n)}}}function pi(t,e,n){let r,i;var o;let a;s(t,ct,(t=>n(3,i=t)));let{search:c}=e;const l=new Set(["item","monster","furniture"]);return t.$$set=t=>{"search"in t&&n(1,c=t.search)},t.$$.update=()=>{12&t.$$.dirty&&(a=new ii([...null!==n(2,o=null==i?void 0:i.all())&&void 0!==o?o:[]].filter((t=>"string"==typeof t.id)),{keys:["id","name"],getFn:(t,e)=>{var n,r;return"id"===e[0]?null!==(r=null!==(n=t.id)&&void 0!==n?n:t.abstract)&&void 0!==r?r:"":"name"===e[0]?Q(t):void 0},ignoreFieldNorm:!0,minMatchCharLength:2,threshold:.2})),10&t.$$.dirty&&n(0,r=c&&c.length>1&&i&&function(t){const e=a.search(t,{limit:100}),n=new Map;for(const{item:t}of e){const e=Z(t.type);l.has(e)&&(n.has(e)||n.set(e,[]),n.get(e).push(t))}return n}(c)),2&t.$$.dirty&&history.replaceState({search:c},"")},[r,c,o,i]}ii.version="6.4.6",ii.createIndex=Rr,ii.parseIndex=function(t,{getFn:e=Ir.getFn}={}){const{keys:n,records:r}=t,i=new $r({getFn:e});return i.setKeys(n),i.setIndexRecords(r),i},ii.config=Ir,ii.parseQuery=ei,function(...t){zr.push(...t)}(Yr);class hi extends J{constructor(t){super(),z(this,t,pi,di,o,{search:1})}}const{window:fi}=U;function mi(e){let n,r,i,o,s,u,f,m,y,v,b,x=e[2]&&vi(e);return{c(){n=d("img"),i=h(),o=d("p"),o.innerHTML='The <strong>Hitchhiker&#39;s Guide to the Cataclysm</strong> is a guide to the\nzombie survival roguelike game <a href="https://cataclysmdda.org/">Cataclysm:\nDark Days Ahead</a>. You can search for things in the game, like items (e.g. a\n<a href="#/item/flashlight">flashlight</a>), furniture (e.g. a <a href="#/furniture/f_table">table</a>), or monsters (e.g. a <a href="#/monster/mon_zombie">zombie</a>), and find useful information about\nthem. The data in the Guide comes directly from the JSON files in the game\nitself.',s=h(),u=d("p"),f=p("The Guide stores all its data locally and is offline-capable, so you can\ntake it with you whereever you go.\n"),x&&x.c(),m=h(),y=d("p"),y.textContent="More popular than the Celestial Home Care\nOmnibus, better selling than Fifty-three More Things to do in Zero Gravity, and\nmore controversial than Oolon Colluphid's trilogy of philosophical blockbusters\nWhere God Went Wrong, Some More of God's Greatest Mistakes and Who is this God\nPerson Anyway?",v=h(),b=d("p"),b.innerHTML='The guide is developed on <a href="https://github.com/nornagon/cdda-guide">GitHub</a> by <a href="https://www.nornagon.net">nornagon</a>. If you notice any problems,\nplease <a href="https://github.com/nornagon/cdda-guide/issues">file an\nissue</a>!',n.src!==(r="dont_panic.png")&&g(n,"src","dont_panic.png"),g(n,"height","200"),_(n,"float","right"),g(n,"alt","The words 'Don't Panic' in big friendly letters"),_(y,"font-style","italic"),_(y,"color","var(--cata-color-gray)")},m(t,e){c(t,n,e),c(t,i,e),c(t,o,e),c(t,s,e),c(t,u,e),a(u,f),x&&x.m(u,null),c(t,m,e),c(t,y,e),c(t,v,e),c(t,b,e)},p(t,e){t[2]?x?x.p(t,e):(x=vi(t),x.c(),x.m(u,null)):x&&(x.d(1),x=null)},i:t,o:t,d(t){t&&l(n),t&&l(i),t&&l(o),t&&l(s),t&&l(u),x&&x.d(),t&&l(m),t&&l(y),t&&l(v),t&&l(b)}}}function gi(t){let e,n;return e=new hi({props:{search:t[1]}}),{c(){H(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.search=t[1]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function yi(t){let e,n,r,i;const o=[bi,_i],s=[];function a(t,e){return t[3]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=f()},m(t,n){s[e].m(t,n),c(t,r,n),i=!0},p(t,i){let c=e;e=a(t),e===c?s[e].p(t,i):(D(),F(s[c],1,1,(()=>{s[c]=null})),B(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),P(n,1),n.m(r.parentNode,r))},i(t){i||(P(n),i=!0)},o(t){F(n),i=!1},d(t){s[e].d(t),t&&l(r)}}}function vi(e){let n,r,i,o,s;return{c(){n=p("It's also "),r=d("a"),r.textContent="installable",i=p(",\nso you can pop it out of your browser like a regular app."),g(r,"href","#")},m(t,a){c(t,n,a),c(t,r,a),c(t,i,a),o||(s=m(r,"click",e[8]),o=!0)},p:t,d(t){t&&l(n),t&&l(r),t&&l(i),o=!1,s()}}}function _i(e){let n;return{c(){n=p("...")},m(t,e){c(t,n,e)},p:t,i:t,o:t,d(t){t&&l(n)}}}function bi(e){let n,r,i=e[0],s=xi(e);return{c(){s.c(),n=f()},m(t,e){s.m(t,e),c(t,n,e),r=!0},p(e,r){1&r&&o(i,i=e[0])?(D(),F(s,1,1,t),B(),s=xi(e),s.c(),P(s),s.m(n.parentNode,n)):s.p(e,r)},i(t){r||(P(s),r=!0)},o(t){F(s),r=!1},d(t){t&&l(n),s.d(t)}}}function xi(t){let e,n;return e=new mr({props:{item:t[0],data:t[3]}}),{c(){H(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.item=t[0]),8&n&&(r.data=t[3]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function wi(t){let e,n,i,o,s,u,p,f,y,b,x,w,E,S,T;const O=[yi,gi,mi],k=[];function C(t,e){return t[0]?0:t[1]?1:2}return x=C(t),w=k[x]=O[x](t),{c(){e=d("header"),n=d("nav"),i=d("div"),o=d("strong"),s=d("a"),s.textContent="Hitchhiker's Guide to the Cataclysm",u=h(),p=d("div"),f=d("input"),y=h(),b=d("main"),w.c(),g(s,"href","#"),g(i,"class","title svelte-1n9l7uf"),_(f,"margin","0"),_(f,"width","100%"),g(f,"placeholder","Search..."),g(f,"id","search"),g(p,"class","search svelte-1n9l7uf"),g(n,"class","svelte-1n9l7uf"),g(e,"class","svelte-1n9l7uf"),g(b,"class","svelte-1n9l7uf")},m(r,l){c(r,e,l),a(e,n),a(n,i),a(i,o),a(o,s),a(n,u),a(n,p),a(p,f),v(f,t[1]),c(r,y,l),c(r,b,l),k[x].m(b,null),E=!0,S||(T=[m(fi,"hashchange",t[4]),m(fi,"keydown",Ei),m(s,"click",t[6]),m(f,"input",t[7]),m(f,"input",t[5])],S=!0)},p(t,[e]){2&e&&f.value!==t[1]&&v(f,t[1]);let n=x;x=C(t),x===n?k[x].p(t,e):(D(),F(k[n],1,1,(()=>{k[n]=null})),B(),w=k[x],w?w.p(t,e):(w=k[x]=O[x](t),w.c()),P(w,1),w.m(b,null))},i(t){E||(P(w),E=!0)},o(t){F(w),E=!1},d(t){t&&l(e),t&&l(y),t&&l(b),k[x].d(),S=!1,r(T)}}}function Ei(t){"/"===t.key&&"search"!==document.activeElement.id&&(document.getElementById("search").focus(),t.preventDefault())}function Si(t,e,n){let r;s(t,ct,(t=>n(3,r=t)));let i=null;function o(){const t=window.location.hash.slice(1);let e;if(e=/^\/([^\/]+)\/(.+)$/.exec(t)){const[,t,r]=e;n(0,i={type:t,id:r}),window.scrollTo(0,0)}else n(0,i=null)}var a;a=o,w().$$.on_mount.push(a);let c="";let l;window.addEventListener("beforeinstallprompt",(t=>{n(2,l=t)}));return[i,c,l,r,o,()=>{i&&history.pushState(null,"",location.href.replace(/#.*$/,"")),n(0,i=null)},()=>n(1,c=""),function(){c=this.value,n(1,c)},t=>{t.preventDefault(),l.prompt()}]}class Ti extends J{constructor(t){super(),z(this,t,Si,wi,o,{})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Oi=function(t,e){return(Oi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function ki(t,e){function n(){this.constructor=t}Oi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ci,Ii,Mi,$i,Ri=function(){return(Ri=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Ai(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ni(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Li(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ni(arguments[e]));return t}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
function ji(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Di(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ji(arguments[e]));return t}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */!function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"}(Ci||(Ci={})),function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(Ii||(Ii={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(Ii||(Ii={})),function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(Mi||(Mi={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(Mi||(Mi={})),function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"}($i||($i={}));var Bi=function(){return(Bi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Pi(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Fi(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Pi(arguments[e]));return t}function Ui(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Ki(t,Error)}}function qi(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function Hi(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function Wi(t){return"[object String]"===Object.prototype.toString.call(t)}function Gi(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function Yi(t){return"[object Object]"===Object.prototype.toString.call(t)}function zi(t){return"undefined"!=typeof Event&&Ki(t,Event)}function Ji(t){return"undefined"!=typeof Element&&Ki(t,Element)}function Vi(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function Ki(t,e){try{return t instanceof e}catch(t){return!1}}function Xi(t){try{for(var e=t,n=[],r=0,i=0,o=" > ".length,s=void 0;e&&r++<5&&!("html"===(s=Zi(e))||r>1&&i+n.length*o+s.length>=80);)n.push(s),i+=s.length,e=e.parentNode;return n.reverse().join(" > ")}catch(t){return"<unknown>"}}function Zi(t){var e,n,r,i,o,s=t,a=[];if(!s||!s.tagName)return"";if(a.push(s.tagName.toLowerCase()),s.id&&a.push("#"+s.id),(e=s.className)&&Wi(e))for(n=e.split(/\s+/),o=0;o<n.length;o++)a.push("."+n[o]);var c=["type","name","title","alt"];for(o=0;o<c.length;o++)r=c[o],(i=s.getAttribute(r))&&a.push("["+r+'="'+i+'"]');return a.join("")}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Qi=function(t,e){return(Qi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var to=function(){return(to=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function eo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var no=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t});var ro=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,no(r,n.prototype),r}return function(t,e){function n(){this.constructor=t}Qi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),io=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,oo="Invalid Dsn",so=function(){function t(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.host,r=e.path,i=e.pass,o=e.port,s=e.projectId;return e.protocol+"://"+e.publicKey+(t&&i?":"+i:"")+"@"+n+(o?":"+o:"")+"/"+(r?r+"/":r)+s},t.prototype._fromString=function(t){var e=io.exec(t);if(!e)throw new ro(oo);var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(e.slice(1),6),r=n[0],i=n[1],o=n[2],s=void 0===o?"":o,a=n[3],c=n[4],l=void 0===c?"":c,u="",d=n[5],p=d.split("/");if(p.length>1&&(u=p.slice(0,-1).join("/"),d=p.pop()),d){var h=d.match(/^\d+/);h&&(d=h[0])}this._fromComponents({host:a,pass:s,path:u,projectId:d,port:l,protocol:r,publicKey:i})},t.prototype._fromComponents=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","publicKey","host","projectId"].forEach((function(e){if(!t[e])throw new ro("Invalid Dsn: "+e+" missing")})),!this.projectId.match(/^\d+$/))throw new ro("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new ro("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new ro("Invalid Dsn: Invalid port "+this.port)},t}();function ao(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function co(t,e){return t.require(e)}function lo(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function uo(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var i=t[r];try{n.push(String(i))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function po(t,e){return!!Wi(t)&&(n=e,"[object RegExp]"===Object.prototype.toString.call(n)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e));var n}var ho={};function fo(){return ao()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:ho}function mo(){var t=fo(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function go(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+r}}function yo(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function vo(t){var e=fo();if(!("console"in e))return t();var n=e.console,r={};["debug","info","warn","error","log","assert"].forEach((function(t){t in e.console&&n[t].__sentry_original__&&(r[t]=n[t],n[t]=n[t].__sentry_original__)}));var i=t();return Object.keys(r).forEach((function(t){n[t]=r[t]})),i}function _o(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function bo(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach((function(n){t.exception.values[0].mechanism[n]=e[n]}))}catch(t){}}var xo=fo(),wo="Sentry Logger ",Eo=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&vo((function(){xo.console.log(wo+"[Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&vo((function(){xo.console.warn(wo+"[Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&vo((function(){xo.console.error(wo+"[Error]: "+t.join(" "))}))},t}();xo.__SENTRY__=xo.__SENTRY__||{};var So=xo.__SENTRY__.logger||(xo.__SENTRY__.logger=new Eo),To=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++){if(this._inner[e]===t)return!0}return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}(),Oo="<anonymous>";function ko(t){try{return t&&"function"==typeof t&&t.name||Oo}catch(t){return Oo}}function Co(t,e,n){if(e in t){var r=t[e],i=n(r);if("function"==typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:r}})}catch(t){}t[e]=i}}function Io(t){if(Ui(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}if(zi(t)){var i=t,o={};o.type=i.type;try{o.target=Ji(i.target)?Xi(i.target):Object.prototype.toString.call(i.target)}catch(t){o.target="<unknown>"}try{o.currentTarget=Ji(i.currentTarget)?Xi(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch(t){o.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&Ki(t,CustomEvent)&&(o.detail=i.detail),i)Object.prototype.hasOwnProperty.call(i,r)&&(o[r]=i);return o}return t}function Mo(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function $o(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var r=No(t,e);return Mo(r)>n?$o(t,e-1,n):r}function Ro(t,e){return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":Yi(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+ko(t)+"]":"symbol"==typeof t?"["+String(t)+"]":"bigint"==typeof t?"[BigInt: "+String(t)+"]":t;var n}function Ao(t,e,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new To),0===n)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=Ro(t);return Gi(n)?n:e}(e);if(null!=e&&"function"==typeof e.toJSON)return e.toJSON();var i=Ro(e,t);if(Gi(i))return i;var o=Io(e),s=Array.isArray(e)?[]:{};if(r.memoize(e))return"[Circular ~]";for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=Ao(a,o[a],n-1,r));return r.unmemoize(e),s}function No(t,e){try{return JSON.parse(JSON.stringify(t,(function(t,n){return Ao(t,n,e)})))}catch(t){return"**non-serializable**"}}function Lo(t,e){void 0===e&&(e=40);var n=Object.keys(Io(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return lo(n[0],e);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>e))return r===n.length?i:lo(i,e)}return""}function jo(t){var e,n;if(Yi(t)){var r=t,i={};try{for(var o=eo(Object.keys(r)),s=o.next();!s.done;s=o.next()){var a=s.value;void 0!==r[a]&&(i[a]=jo(r[a]))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}return Array.isArray(t)?t.map(jo):t}function Do(){if(!("fetch"in fo()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function Bo(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Po(){if(!Do())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}var Fo,Uo=fo(),qo={},Ho={};function Wo(t){if(!Ho[t])switch(Ho[t]=!0,t){case"console":!function(){if(!("console"in Uo))return;["debug","info","warn","error","log","assert"].forEach((function(t){t in Uo.console&&Co(Uo.console,t,(function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Yo("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,Uo.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in Uo))return;var t=Yo.bind(null,"dom"),e=Xo(t,!0);Uo.document.addEventListener("click",e,!1),Uo.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((function(e){var n=Uo[e]&&Uo[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Co(n,"addEventListener",(function(e){return function(n,r,i){if("click"===n||"keypress"==n)try{var o=this,s=o.__sentry_instrumentation_handlers__=o.__sentry_instrumentation_handlers__||{},a=s[n]=s[n]||{refCount:0};if(!a.handler){var c=Xo(t);a.handler=c,e.call(this,n,c,i)}a.refCount+=1}catch(t){}return e.call(this,n,r,i)}})),Co(n,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{var i=this,o=i.__sentry_instrumentation_handlers__||{},s=o[e];s&&(s.refCount-=1,s.refCount<=0&&(t.call(this,e,s.handler,r),s.handler=void 0,delete o[e]),0===Object.keys(o).length&&delete i.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in Uo))return;var t=[],e=[],n=XMLHttpRequest.prototype;Co(n,"open",(function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this,s=r[1];o.__sentry_xhr__={method:Wi(r[0])?r[0].toUpperCase():r[0],url:r[1]},Wi(s)&&"POST"===o.__sentry_xhr__.method&&s.match(/sentry_key/)&&(o.__sentry_own_request__=!0);var a=function(){if(4===o.readyState){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(t){}try{var n=t.indexOf(o);if(-1!==n){t.splice(n);var i=e.splice(n)[0];o.__sentry_xhr__&&void 0!==i[0]&&(o.__sentry_xhr__.body=i[0])}}catch(t){}Yo("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}};return"onreadystatechange"in o&&"function"==typeof o.onreadystatechange?Co(o,"onreadystatechange",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return a(),t.apply(o,e)}})):o.addEventListener("readystatechange",a),n.apply(o,r)}})),Co(n,"send",(function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return t.push(this),e.push(r),Yo("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),n.apply(this,r)}}))}();break;case"fetch":!function(){if(!function(){if(!Do())return!1;var t=fo();if(Bo(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"==typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=Bo(r.contentWindow.fetch)),n.head.removeChild(r)}catch(t){So.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return e}())return;Co(Uo,"fetch",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:zo(e),url:Jo(e)},startTimestamp:Date.now()};return Yo("fetch",to({},r)),t.apply(Uo,e).then((function(t){return Yo("fetch",to(to({},r),{endTimestamp:Date.now(),response:t})),t}),(function(t){throw Yo("fetch",to(to({},r),{endTimestamp:Date.now(),error:t})),t}))}}))}();break;case"history":!function(){if(!function(){var t=fo(),e=t.chrome,n=e&&e.app&&e.app.runtime,r="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&r}())return;var t=Uo.onpopstate;function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length>2?e[2]:void 0;if(r){var i=Fo,o=String(r);Fo=o,Yo("history",{from:i,to:o})}return t.apply(this,e)}}Uo.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Uo.location.href,i=Fo;if(Fo=r,Yo("history",{from:i,to:r}),t)return t.apply(this,e)},Co(Uo.history,"pushState",e),Co(Uo.history,"replaceState",e)}();break;case"error":Zo=Uo.onerror,Uo.onerror=function(t,e,n,r,i){return Yo("error",{column:r,error:i,line:n,msg:t,url:e}),!!Zo&&Zo.apply(this,arguments)};break;case"unhandledrejection":ts=Uo.onunhandledrejection,Uo.onunhandledrejection=function(t){return Yo("unhandledrejection",t),!ts||ts.apply(this,arguments)};break;default:So.warn("unknown instrumentation type:",t)}}function Go(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(qo[t.type]=qo[t.type]||[],qo[t.type].push(t.callback),Wo(t.type))}function Yo(t,e){var n,r;if(t&&qo[t])try{for(var i=eo(qo[t]||[]),o=i.next();!o.done;o=i.next()){var s=o.value;try{s(e)}catch(e){So.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+ko(s)+"\nError: "+e)}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function zo(t){return void 0===t&&(t=[]),"Request"in Uo&&Ki(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function Jo(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in Uo&&Ki(t[0],Request)?t[0].url:String(t[0])}var Vo,Ko;function Xo(t,e){return void 0===e&&(e=!1),function(n){if(n&&Ko!==n&&!function(t){if("keypress"!==t.type)return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(t){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===Vo||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(t){}return!1}(Ko,n))&&(t({event:n,name:r,global:e}),Ko=n),clearTimeout(Vo),Vo=Uo.setTimeout((function(){Vo=void 0}),1e3)}}}var Zo=null;var Qo,ts=null;!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(Qo||(Qo={}));var es=function(){function t(t){var e=this;this._state=Qo.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(Qo.RESOLVED,t)},this._reject=function(t){e._setResult(Qo.REJECTED,t)},this._setResult=function(t,n){e._state===Qo.PENDING&&(Vi(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){if(e._state!==Qo.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t.done||(e._state===Qo.RESOLVED&&t.onfulfilled&&t.onfulfilled(e._value),e._state===Qo.REJECTED&&t.onrejected&&t.onrejected(e._value),t.done=!0)}))}};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}return t.resolve=function(e){return new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.all=function(e){return new t((function(n,r){if(Array.isArray(e))if(0!==e.length){var i=e.length,o=[];e.forEach((function(e,s){t.resolve(e).then((function(t){o[s]=t,0===(i-=1)&&n(o)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},t.prototype.then=function(e,n){var r=this;return new t((function(t,i){r._attachHandler({done:!1,onfulfilled:function(n){if(e)try{return void t(e(n))}catch(t){return void i(t)}else t(n)},onrejected:function(e){if(n)try{return void t(n(e))}catch(t){return void i(t)}else i(e)}})}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var n=this;return new t((function(t,r){var i,o;return n.then((function(t){o=!1,i=t,e&&e()}),(function(t){o=!0,i=t,e&&e()})).then((function(){o?r(i):t(i)}))}))},t.prototype.toString=function(){return"[object SyncPromise]"},t}(),ns=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then((function(){return e.remove(t)})).then(null,(function(){return e.remove(t).then(null,(function(){}))})),t):es.reject(new ro("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new es((function(n){var r=setTimeout((function(){t&&t>0&&n(!1)}),t);es.all(e._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},t}(),rs={nowSeconds:function(){return Date.now()/1e3}};var is=ao()?function(){try{return co(module,"perf_hooks").performance}catch(t){return}}():function(){var t=fo().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),os=void 0===is?rs:{nowSeconds:function(){return(is.timeOrigin+is.now())/1e3}},ss=rs.nowSeconds.bind(rs),as=os.nowSeconds.bind(os),cs=function(){var t=fo().performance;if(t)return t.timeOrigin?t.timeOrigin:t.timing&&t.timing.navigationStart||Date.now()}(),ls=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=Fi(e._breadcrumbs),n._tags=Bi({},e._tags),n._extra=Bi({},e._extra),n._contexts=Bi({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=Fi(e._eventProcessors)),n},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.setTags=function(t){return this._tags=Bi(Bi({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=Bi(Bi({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=Bi(Bi({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=Bi(Bi({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return null===e?delete this._contexts[t]:this._contexts=Bi(Bi({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t,e,n,r,i=this.getSpan();return(null===(t=i)||void 0===t?void 0:t.transaction)?null===(e=i)||void 0===e?void 0:e.transaction:(null===(r=null===(n=i)||void 0===n?void 0:n.spanRecorder)||void 0===r?void 0:r.spans[0])?i.spanRecorder.spans[0]:void 0},t.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=Bi(Bi({},this._tags),e._tags),this._extra=Bi(Bi({},this._extra),e._extra),this._contexts=Bi(Bi({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint)):Yi(e)&&(e=e,this._tags=Bi(Bi({},this._tags),e.tags),this._extra=Bi(Bi({},this._extra),e.extra),this._contexts=Bi(Bi({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n=Bi({timestamp:ss()},t);return this._breadcrumbs=void 0!==e&&e>=0?Fi(this._breadcrumbs,[n]).slice(-e):Fi(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=Bi(Bi({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=Bi(Bi({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=Bi(Bi({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=Bi(Bi({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=Bi({trace:this._span.getTraceContext()},t.contexts);var r=null===(n=this._span.transaction)||void 0===n?void 0:n.name;r&&(t.tags=Bi({transaction:r},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=Fi(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(Fi(us(),this._eventProcessors),t,e)},t.prototype._notifyEventProcessors=function(t,e,n,r){var i=this;return void 0===r&&(r=0),new es((function(o,s){var a=t[r];if(null===e||"function"!=typeof a)o(e);else{var c=a(Bi({},e),n);Vi(c)?c.then((function(e){return i._notifyEventProcessors(t,e,n,r+1).then(o)})).then(null,s):i._notifyEventProcessors(t,c,n,r+1).then(o).then(null,s)}}))},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(e){e(t)})),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();function us(){var t=fo();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function ds(t){us().push(t)}var ps=function(){function t(t){this.errors=0,this.sid=mo(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=Ci.Ok,this.init=!0,t&&this.update(t)}return t.prototype.update=function(t){void 0===t&&(t={}),t.user&&(t.user.ip_address&&(this.ipAddress=t.user.ip_address),t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Date.now(),t.sid&&(this.sid=32===t.sid.length?t.sid:mo()),void 0!==t.init&&(this.init=t.init),t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),"number"==typeof t.duration?this.duration=t.duration:this.duration=this.timestamp-this.started,t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),t.ipAddress&&(this.ipAddress=t.ipAddress),t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):this.status===Ci.Ok?this.update({status:Ci.Exited}):this.update()},t.prototype.toJSON=function(){return jo({sid:""+this.sid,init:this.init,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:jo({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),hs=function(){function t(t,e,n){void 0===e&&(e=new ls),void 0===n&&(n=3),this._version=n,this._stack=[{}],this.getStackTop().scope=e,this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=ls.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=mo(),r=e;if(!e){var i=void 0;try{throw new Error("Sentry syntheticException")}catch(t){i=t}r={originalException:t,syntheticException:i}}return this._invokeClient("captureException",t,Bi(Bi({},r),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var r=this._lastEventId=mo(),i=n;if(!n){var o=void 0;try{throw new Error(t)}catch(t){o=t}i={originalException:t,syntheticException:o}}return this._invokeClient("captureMessage",t,e,Bi(Bi({},i),{event_id:r})),r},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=mo();return this._invokeClient("captureEvent",t,Bi(Bi({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop(),r=n.scope,i=n.client;if(r&&i){var o=i.getOptions&&i.getOptions()||{},s=o.beforeBreadcrumb,a=void 0===s?null:s,c=o.maxBreadcrumbs,l=void 0===c?100:c;if(!(l<=0)){var u=ss(),d=Bi({timestamp:u},t),p=a?vo((function(){return a(d,e)})):d;null!==p&&r.addBreadcrumb(p,Math.min(l,100))}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope,r=e.client;n&&r&&t(n)},t.prototype.run=function(t){var e=ms(this);try{t(this)}finally{ms(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return So.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var t,e,n,r,i;null===(n=null===(e=null===(t=this.getStackTop())||void 0===t?void 0:t.scope)||void 0===e?void 0:e.getSession())||void 0===n||n.close(),this._sendSessionUpdate(),null===(i=null===(r=this.getStackTop())||void 0===r?void 0:r.scope)||void 0===i||i.setSession()},t.prototype.startSession=function(t){var e=this.getStackTop(),n=e.scope,r=e.client,i=r&&r.getOptions()||{},o=i.release,s=i.environment,a=new ps(Bi(Bi({release:o,environment:s},n&&{user:n.getUser()}),t));if(n){var c=n.getSession&&n.getSession();c&&c.status===Ci.Ok&&c.update({status:Ci.Exited}),this.endSession(),n.setSession(a)}return a},t.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),e=t.scope,n=t.client;if(e){var r=e.getSession&&e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},t.prototype._invokeClient=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.getStackTop(),o=i.scope,s=i.client;s&&s[t]&&(e=s)[t].apply(e,Fi(n,[o]))},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=fs(),i=r.__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[t])return i.extensions[t].apply(this,e);So.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function fs(){var t=fo();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function ms(t){var e=fs(),n=vs(e);return _s(e,t),n}function gs(){var t=fs();return ys(t)&&!vs(t).isOlderThan(3)||_s(t,new hs),ao()?function(t){var e,n,r;try{var i=null===(r=null===(n=null===(e=fs().__SENTRY__)||void 0===e?void 0:e.extensions)||void 0===n?void 0:n.domain)||void 0===r?void 0:r.active;if(!i)return vs(t);if(!ys(i)||vs(i).isOlderThan(3)){var o=vs(t).getStackTop();_s(i,new hs(o.client,ls.clone(o.scope)))}return vs(i)}catch(e){return vs(t)}}(t):vs(t)}function ys(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function vs(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new hs),t.__SENTRY__.hub}function _s(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}function bs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=gs();if(r&&r[t])return r[t].apply(r,Di(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function xs(t,e){var n;try{throw new Error("Sentry syntheticException")}catch(t){n=t}return bs("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}function ws(t){bs("withScope",t)}var Es=function(){function t(t,e){void 0===e&&(e={}),this.dsn=t,this._dsnObject=new so(t),this.metadata=e}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getBaseApiEndpoint=function(){var t=this._dsnObject,e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+t+"/"+e),r.push("sentry_key="+n.publicKey),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var i in r.push("dsn="+e.toString()),t)if("dsn"!==i)if("user"===i){if(!t.user)continue;t.user.name&&r.push("name="+encodeURIComponent(t.user.name)),t.user.email&&r.push("email="+encodeURIComponent(t.user.email))}else r.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return r.length?n+"?"+r.join("&"):n},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(t){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+t+"/"},t.prototype._encodedAuth=function(){var t,e={sentry_key:this._dsnObject.publicKey,sentry_version:"7"};return t=e,Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},t}(),Ss=function(){return(Ss=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Ts(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Os(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ts(arguments[e]));return t}var ks=[];function Cs(t){var e={};return function(t){var e=t.defaultIntegrations&&Os(t.defaultIntegrations)||[],n=t.integrations,r=[];if(Array.isArray(n)){var i=n.map((function(t){return t.name})),o=[];e.forEach((function(t){-1===i.indexOf(t.name)&&-1===o.indexOf(t.name)&&(r.push(t),o.push(t.name))})),n.forEach((function(t){-1===o.indexOf(t.name)&&(r.push(t),o.push(t.name))}))}else"function"==typeof n?(r=n(e),r=Array.isArray(r)?r:[r]):r=Os(e);var s=r.map((function(t){return t.name})),a="Debug";return-1!==s.indexOf(a)&&r.push.apply(r,Os(r.splice(s.indexOf(a),1))),r}(t).forEach((function(t){e[t.name]=t,function(t){-1===ks.indexOf(t.name)&&(t.setupOnce(ds,gs),ks.push(t.name),So.log("Integration installed: "+t.name))}(t)})),e}var Is=function(){function t(t,e){this._integrations={},this._processing=0,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new so(e.dsn))}return t.prototype.captureException=function(t,e,n){var r=this,i=e&&e.event_id;return this._process(this._getBackend().eventFromException(t,e).then((function(t){return r._captureEvent(t,e,n)})).then((function(t){i=t}))),i},t.prototype.captureMessage=function(t,e,n,r){var i=this,o=n&&n.event_id,s=Gi(t)?this._getBackend().eventFromMessage(String(t),e,n):this._getBackend().eventFromException(t,n);return this._process(s.then((function(t){return i._captureEvent(t,n,r)})).then((function(t){o=t}))),o},t.prototype.captureEvent=function(t,e,n){var r=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then((function(t){r=t}))),r},t.prototype.captureSession=function(t){t.release?(this._sendSession(t),t.update({init:!1})):So.warn("Discarded session because of missing release")},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then((function(n){return e._getBackend().getTransport().close(t).then((function(t){return n&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=Cs(this._options))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return So.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(t,e){var n,r,i,o=!1,s=!1,a=e.exception&&e.exception.values;if(a){s=!0;try{for(var c=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),l=c.next();!l.done;l=c.next()){var u=l.value.mechanism;if(u&&!1===u.handled){o=!0;break}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}var d=e.user;if(!t.userAgent){var p=e.request?e.request.headers:{};for(var h in p)if("user-agent"===h.toLowerCase()){i=p[h];break}}t.update(Ss(Ss({},o&&{status:Ci.Crashed}),{user:d,userAgent:i,errors:t.errors+Number(s||o)})),this.captureSession(t)},t.prototype._sendSession=function(t){this._getBackend().sendSession(t)},t.prototype._isClientProcessing=function(t){var e=this;return new es((function(n){var r=0,i=setInterval((function(){0==e._processing?(clearInterval(i),n(!0)):(r+=1,t&&r>=t&&(clearInterval(i),n(!1)))}),1)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var r=this,i=this.getOptions().normalizeDepth,o=void 0===i?3:i,s=Ss(Ss({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:mo()),timestamp:t.timestamp||ss()});this._applyClientOptions(s),this._applyIntegrationsMetadata(s);var a=e;n&&n.captureContext&&(a=ls.clone(a).update(n.captureContext));var c=es.resolve(s);return a&&(c=a.applyToEvent(s,n)),c.then((function(t){return"number"==typeof o&&o>0?r._normalizeEvent(t,o):t}))},t.prototype._normalizeEvent=function(t,e){if(!t)return null;var n=Ss(Ss(Ss(Ss(Ss({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((function(t){return Ss(Ss({},t),t.data&&{data:No(t.data,e)})}))}),t.user&&{user:No(t.user,e)}),t.contexts&&{contexts:No(t.contexts,e)}),t.extra&&{extra:No(t.extra,e)});return t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace),n},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),n=e.environment,r=e.release,i=e.dist,o=e.maxValueLength,s=void 0===o?250:o;"environment"in t||(t.environment="environment"in e?n:"production"),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==i&&(t.dist=i),t.message&&(t.message=lo(t.message,s));var a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=lo(a.value,s));var c=t.request;c&&c.url&&(c.url=lo(c.url,s))},t.prototype._applyIntegrationsMetadata=function(t){var e=t.sdk,n=Object.keys(this._integrations);e&&n.length>0&&(e.integrations=n)},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._captureEvent=function(t,e,n){return this._processEvent(t,e,n).then((function(t){return t.event_id}),(function(t){So.error(t)}))},t.prototype._processEvent=function(t,e,n){var r=this,i=this.getOptions(),o=i.beforeSend,s=i.sampleRate;if(!this._isEnabled())return es.reject(new ro("SDK not enabled, will not send event."));var a="transaction"===t.type;return!a&&"number"==typeof s&&Math.random()>s?es.reject(new ro("Discarding event because it's not included in the random sample (sampling rate = "+s+")")):this._prepareEvent(t,n,e).then((function(t){if(null===t)throw new ro("An event processor returned null, will not send event.");if(e&&e.data&&!0===e.data.__sentry__||a||!o)return t;var n=o(t,e);if(void 0===n)throw new ro("`beforeSend` method has to return `null` or a valid event.");return Vi(n)?n.then((function(t){return t}),(function(t){throw new ro("beforeSend rejected with "+t)})):n})).then((function(t){if(null===t)throw new ro("`beforeSend` returned `null`, will not send event.");var e=n&&n.getSession&&n.getSession();return!a&&e&&r._updateSessionFromEvent(e,t),r._sendEvent(t),t})).then(null,(function(t){if(t instanceof ro)throw t;throw r.captureException(t,{data:{__sentry__:!0},originalException:t}),new ro("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)}))},t.prototype._process=function(t){var e=this;this._processing+=1,t.then((function(t){return e._processing-=1,t}),(function(t){return e._processing-=1,t}))},t}(),Ms=function(){function t(){}return t.prototype.sendEvent=function(t){return es.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:Mi.Skipped})},t.prototype.close=function(t){return es.resolve(!0)},t}(),$s=function(){function t(t){this._options=t,this._options.dsn||So.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(t,e){throw new ro("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new ro("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,(function(t){So.error("Error while sending event: "+t)}))},t.prototype.sendSession=function(t){this._transport.sendSession?this._transport.sendSession(t).then(null,(function(t){So.error("Error while sending session: "+t)})):So.warn("Dropping session because custom transport doesn't implement sendSession")},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new Ms},t}();function Rs(t){if(t.metadata&&t.metadata.sdk){var e=t.metadata.sdk;return{name:e.name,version:e.version}}}function As(t,e){return e?(t.sdk=t.sdk||{name:e.name,version:e.version},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=Os(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=Os(t.sdk.packages||[],e.packages||[]),t):t}function Ns(t,e){var n=Rs(e);return{body:JSON.stringify(Ss({sent_at:(new Date).toISOString()},n&&{sdk:n}))+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(t),type:"session",url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}function Ls(t,e){var n=Rs(e),r=t.type||"event",i="transaction"===r,o=t.debug_meta||{},s=o.transactionSampling,a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(o,["transactionSampling"]),c=s||{},l=c.method,u=c.rate;0===Object.keys(a).length?delete t.debug_meta:t.debug_meta=a;var d={body:JSON.stringify(n?As(t,e.metadata.sdk):t),type:r,url:i?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(i){var p=JSON.stringify(Ss({event_id:t.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n}))+"\n"+JSON.stringify({type:t.type,sample_rates:[{id:l,rate:u}]})+"\n"+d.body;d.body=p}return d}var js,Ds="6.2.1",Bs=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){js=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry_original__||this;return js.apply(n,t)}},t.id="FunctionToString",t}(),Ps=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Fs=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){ds((function(e){var n=gs();if(!n)return e;var r=n.getIntegration(t);if(r){var i=n.getClient(),o=i?i.getOptions():{},s=r._mergeOptions(o);if(r._shouldDropEvent(e,s))return null}return e}))},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(So.warn("Event dropped due to being internal Sentry Error.\nEvent: "+yo(t)),!0):this._isIgnoredError(t,e)?(So.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+yo(t)),!0):this._isDeniedUrl(t,e)?(So.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+yo(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isAllowedUrl(t,e)&&(So.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+yo(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(t){return!1}},t.prototype._isIgnoredError=function(t,e){return!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some((function(t){return e.ignoreErrors.some((function(e){return po(t,e)}))}))},t.prototype._isDeniedUrl=function(t,e){if(!e.denyUrls||!e.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.denyUrls.some((function(t){return po(n,t)}))},t.prototype._isAllowedUrl=function(t,e){if(!e.allowUrls||!e.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.allowUrls.some((function(t){return po(n,t)}))},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{allowUrls:Os(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:Os(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:Os(this._options.ignoreErrors||[],t.ignoreErrors||[],Ps),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,r=void 0===n?"":n,i=e.value,o=void 0===i?"":i;return[""+o,r+": "+o]}catch(e){return So.error("Cannot extract message for event "+yo(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(e){return So.error("Cannot extract url for event "+yo(t)),null}},t.id="InboundFilters",t}(),Us="?",qs=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Hs=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ws=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Gs=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Ys=/\((\S*)(?::(\d+))(?::(\d+))\)/,zs=/Minified React error #\d+;/i;function Js(t){var e=null,n=0;t&&("number"==typeof t.framesToPop?n=t.framesToPop:zs.test(t.message)&&(n=1));try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=t.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,o=n.split("\n"),s=[],a=0;a<o.length;a+=2){var c=null;(e=r.exec(o[a]))?c={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=i.exec(o[a]))&&(c={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),c&&(!c.func&&c.line&&(c.func=Us),s.push(c))}if(!s.length)return null;return{message:Ks(t),name:t.name,stack:s}}(t))return Vs(e,n)}catch(t){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,r,i=[],o=t.stack.split("\n"),s=0;s<o.length;++s){if(n=qs.exec(o[s])){var a=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=Ys.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||Us,args:a?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=Ws.exec(o[s]))r={url:n[2],func:n[1]||Us,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=Hs.exec(o[s])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=Gs.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==s||n[5]||void 0===t.columnNumber||(i[0].column=t.columnNumber+1),r={url:n[3],func:n[1]||Us,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=Us),i.push(r)}if(!i.length)return null;return{message:Ks(t),name:t.name,stack:i}}(t))return Vs(e,n)}catch(t){}return{message:Ks(t),name:t&&t.name,stack:[],failed:!0}}function Vs(t,e){try{return Ri(Ri({},t),{stack:t.stack.slice(e)})}catch(e){return t}}function Ks(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function Xs(t){var e=Qs(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function Zs(t){return{exception:{values:[Xs(t)]}}}function Qs(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",r=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==r.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,50).map((function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}})).reverse()}function ta(t,e,n){var r,i;if(void 0===n&&(n={}),qi(t)&&t.error)return r=Zs(Js(t=t.error));if(Hi(t)||(i=t,"[object DOMException]"===Object.prototype.toString.call(i))){var o=t,s=o.name||(Hi(o)?"DOMError":"DOMException"),a=o.message?s+": "+o.message:s;return _o(r=ea(a,e,n),a),"code"in o&&(r.tags=Ri(Ri({},r.tags),{"DOMException.code":""+o.code})),r}return Ui(t)?r=Zs(Js(t)):Yi(t)||zi(t)?(bo(r=function(t,e,n){var r={exception:{values:[{type:zi(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Lo(t)}]},extra:{__serialized__:$o(t)}};if(e){var i=Qs(Js(e).stack);r.stacktrace={frames:i}}return r}(t,e,n.rejection),{synthetic:!0}),r):(_o(r=ea(t,e,n),""+t,void 0),bo(r,{synthetic:!0}),r)}function ea(t,e,n){void 0===n&&(n={});var r={message:t};if(n.attachStacktrace&&e){var i=Qs(Js(e).stack);r.stacktrace={frames:i}}return r}var na=function(){function t(t){this.options=t,this._buffer=new ns(30),this._rateLimits={},this._api=new Es(t.dsn,t._metadata),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new ro("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this._buffer.drain(t)},t.prototype._handleResponse=function(t){var e=t.requestType,n=t.response,r=t.headers,i=t.resolve,o=t.reject,s=Mi.fromHttpCode(n.status);this._handleRateLimit(r)&&So.warn("Too many requests, backing off until: "+this._disabledUntil(e)),s!==Mi.Success?o(n):i({status:s})},t.prototype._disabledUntil=function(t){return this._rateLimits[t]||this._rateLimits.all},t.prototype._isRateLimited=function(t){return this._disabledUntil(t)>new Date(Date.now())},t.prototype._handleRateLimit=function(t){var e,n,r,i,o=Date.now(),s=t["x-sentry-rate-limits"],a=t["retry-after"];if(s){try{for(var c=Ai(s.trim().split(",")),l=c.next();!l.done;l=c.next()){var u=l.value.split(":",2),d=parseInt(u[0],10),p=1e3*(isNaN(d)?60:d);try{for(var h=(r=void 0,Ai(u[1].split(";"))),f=h.next();!f.done;f=h.next()){var m=f.value;this._rateLimits[m||"all"]=new Date(o+p)}}catch(t){r={error:t}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return!0}return!!a&&(this._rateLimits.all=new Date(o+function(t,e){if(!e)return 6e4;var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+e);return isNaN(r)?6e4:r-t}(o,a)),!0)},t}(),ra=fo(),ia=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(Ls(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(Ns(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;if(this._isRateLimited(t.type))return Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429});var r={body:t.body,method:"POST",referrerPolicy:Po()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add(new es((function(e,i){ra.fetch(t.url,r).then((function(r){var o={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:t.type,response:r,headers:o,resolve:e,reject:i})})).catch(i)})))},e}(na),oa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(Ls(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(Ns(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;return this._isRateLimited(t.type)?Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429}):this._buffer.add(new es((function(e,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var o={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};n._handleResponse({requestType:t.type,response:i,headers:o,resolve:e,reject:r})}},i.open("POST",t.url),n.options.headers)n.options.headers.hasOwnProperty(o)&&i.setRequestHeader(o,n.options.headers[o]);i.send(t.body)})))},e}(na),sa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e.prototype.eventFromException=function(t,e){return function(t,e,n){var r=ta(e,n&&n.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return bo(r,{handled:!0,type:"generic"}),r.level=Ii.Error,n&&n.event_id&&(r.event_id=n.event_id),es.resolve(r)}(this._options,t,e)},e.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=Ii.Info),function(t,e,n,r){void 0===n&&(n=Ii.Info);var i=ea(e,r&&r.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),es.resolve(i)}(this._options,t,e,n)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=Ri(Ri({},this._options.transportOptions),{dsn:this._options.dsn,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(e):Do()?new ia(e):new oa(e)},e}($s),aa=0;function ca(){return aa>0}function la(){aa+=1,setTimeout((function(){aa-=1}))}function ua(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(e){return t}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var i=r.map((function(t){return ua(t,e)}));return t.handleEvent?t.handleEvent.apply(this,i):t.apply(this,i)}catch(t){throw la(),ws((function(n){n.addEventProcessor((function(t){var n=Ri({},t);return e.mechanism&&(_o(n,void 0,void 0),bo(n,e.mechanism)),n.extra=Ri(Ri({},n.extra),{arguments:r}),n})),xs(t)})),t}};try{for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}catch(t){}t.prototype=t.prototype||{},r.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return t.name}})}catch(t){}return r}function da(t){if(void 0===t&&(t={}),t.eventId)if(t.dsn){var e=document.createElement("script");e.async=!0,e.src=new Es(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(e.onload=t.onLoad),(document.head||document.body).appendChild(e)}else So.error("Missing dsn option in showReportDialog call");else So.error("Missing eventId option in showReportDialog call")}var pa=function(){function t(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=Ri({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(So.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(So.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){var e=this;this._onErrorHandlerInstalled||(Go({callback:function(n){var r=n.error,i=gs(),o=i.getIntegration(t),s=r&&!0===r.__sentry_own_request__;if(o&&!ca()&&!s){var a=i.getClient(),c=Gi(r)?e._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):e._enhanceEventWithInitialFrame(ta(r,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);bo(c,{handled:!1,type:"onerror"}),i.captureEvent(c,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){var e=this;this._onUnhandledRejectionHandlerInstalled||(Go({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(t){}var i=gs(),o=i.getIntegration(t),s=r&&!0===r.__sentry_own_request__;if(!o||ca()||s)return!0;var a=i.getClient(),c=Gi(r)?e._eventFromRejectionWithPrimitive(r):ta(r,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!0});c.level=Ii.Error,bo(c,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(c,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},t.prototype._eventFromIncompleteOnError=function(t,e,n,r){var i,o=qi(t)?t.message:t;if(Wi(o)){var s=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);s&&(i=s[1],o=s[2])}var a={exception:{values:[{type:i||"Error",value:o}]}};return this._enhanceEventWithInitialFrame(a,e,n,r)},t.prototype._eventFromRejectionWithPrimitive=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}},t.prototype._enhanceEventWithInitialFrame=function(t,e,n,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var i=isNaN(parseInt(r,10))?void 0:r,o=isNaN(parseInt(n,10))?void 0:n,s=Wi(e)&&e.length>0?e:function(){try{return document.location.href}catch(t){return""}}();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:i,filename:s,function:"?",in_app:!0,lineno:o}),t},t.id="GlobalHandlers",t}(),ha=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],fa=function(){function t(e){this.name=t.id,this._options=Ri({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var t=fo();(this._options.setTimeout&&Co(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&Co(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&Co(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&Co(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget)&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:ha).forEach(this._wrapEventTarget.bind(this))},t.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=ua(r,{mechanism:{data:{function:ko(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype._wrapRAF=function(t){return function(e){return t.call(this,ua(e,{mechanism:{data:{function:"requestAnimationFrame",handler:ko(t)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(t){var e=fo(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Co(n,"addEventListener",(function(e){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=ua(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:ko(r),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.call(this,n,ua(r,{mechanism:{data:{function:"addEventListener",handler:ko(r),target:t},handled:!0,type:"instrument"}}),i)}})),Co(n,"removeEventListener",(function(t){return function(e,n,r){var i,o=n;try{var s=null===(i=o)||void 0===i?void 0:i.__sentry_wrapped__;s&&t.call(this,e,s,r)}catch(t){}return t.call(this,e,o,r)}})))},t.prototype._wrapXHR=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach((function(t){t in r&&"function"==typeof r[t]&&Co(r,t,(function(e){var n={mechanism:{data:{function:t,handler:ko(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(n.mechanism.data.handler=ko(e.__sentry_original__)),ua(e,n)}))})),t.apply(this,e)}},t.id="TryCatch",t}(),ma=function(){function t(e){this.name=t.id,this._options=Ri({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&gs().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:yo(t)},{event:t})},t.prototype.setupOnce=function(){var t=this;this._options.console&&Go({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._consoleBreadcrumb.apply(t,Li(e))},type:"console"}),this._options.dom&&Go({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._domBreadcrumb.apply(t,Li(e))},type:"dom"}),this._options.xhr&&Go({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._xhrBreadcrumb.apply(t,Li(e))},type:"xhr"}),this._options.fetch&&Go({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._fetchBreadcrumb.apply(t,Li(e))},type:"fetch"}),this._options.history&&Go({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._historyBreadcrumb.apply(t,Li(e))},type:"history"})},t.prototype._consoleBreadcrumb=function(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:Ii.fromString(t.level),message:uo(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+(uo(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}gs().addBreadcrumb(e,{input:t.args,level:t.level})},t.prototype._domBreadcrumb=function(t){var e;try{e=t.event.target?Xi(t.event.target):Xi(t.event)}catch(t){e="<unknown>"}0!==e.length&&gs().addBreadcrumb({category:"ui."+t.name,message:e},{event:t.event,name:t.name,global:t.global})},t.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var e=t.xhr.__sentry_xhr__||{},n=e.method,r=e.url,i=e.status_code,o=e.body;gs().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:t.xhr,input:o})}else;},t.prototype._fetchBreadcrumb=function(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?gs().addBreadcrumb({category:"fetch",data:t.fetchData,level:Ii.Error,type:"http"},{data:t.error,input:t.args}):gs().addBreadcrumb({category:"fetch",data:Ri(Ri({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))},t.prototype._historyBreadcrumb=function(t){var e=fo(),n=t.from,r=t.to,i=go(e.location.href),o=go(n),s=go(r);o.path||(o=i),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),gs().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},t.id="Breadcrumbs",t}(),ga=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||"cause",this._limit=e.limit||5}return t.prototype.setupOnce=function(){ds((function(e,n){var r=gs().getIntegration(t);return r?r._handler(e,n):e}))},t.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&Ki(e.originalException,Error)))return t;var n=this._walkErrorTree(e.originalException,this._key);return t.exception.values=Li(n,t.exception.values),t},t.prototype._walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!Ki(t[e],Error)||n.length+1>=this._limit)return n;var r=Xs(Js(t[e]));return this._walkErrorTree(t[e],e,Li([r],n))},t.id="LinkedErrors",t}(),ya=fo(),va=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){ds((function(e){var n,r,i;if(gs().getIntegration(t)){if(!ya.navigator&&!ya.location&&!ya.document)return e;var o=(null===(n=e.request)||void 0===n?void 0:n.url)||(null===(r=ya.location)||void 0===r?void 0:r.href),s=(ya.document||{}).referrer,a=(ya.navigator||{}).userAgent,c=Ri(Ri(Ri({},null===(i=e.request)||void 0===i?void 0:i.headers),s&&{Referer:s}),a&&{"User-Agent":a}),l=Ri(Ri({},o&&{url:o}),{headers:c});return Ri(Ri({},e),{request:l})}return e}))},t.id="UserAgent",t}(),_a=function(t){function e(e){void 0===e&&(e={});return e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Ds}],version:Ds},t.call(this,sa,e)||this}return ki(e,t),e.prototype.showReportDialog=function(t){void 0===t&&(t={}),fo().document&&(this._isEnabled()?da(Ri(Ri({},t),{dsn:t.dsn||this.getDsn()})):So.error("Trying to call showReportDialog with Sentry Client disabled"))},e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"javascript",t.prototype._prepareEvent.call(this,e,n,r)},e.prototype._sendEvent=function(e){var n=this.getIntegration(ma);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e}(Is),ba=[new Fs,new Bs,new fa,new ma,new pa,new ga,new va];
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var xa=function(t,e){return(xa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function wa(t,e){function n(){this.constructor=t}xa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ea,Sa=function(){return(Sa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Ta(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Oa(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ta(arguments[e]));return t}!function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"}(Ea||(Ea={})),function(t){t.fromHttpCode=function(e){if(e<400)return t.Ok;if(e>=400&&e<500)switch(e){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(e>=500&&e<600)switch(e){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}}(Ea||(Ea={}));var ka=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Ca(t){return"tracesSampleRate"in t||"tracesSampler"in t}function Ia(t){var e,n;return void 0===t&&(t=gs()),null===(n=null===(e=t)||void 0===e?void 0:e.getScope())||void 0===n?void 0:n.getTransaction()}function Ma(t){return t/1e3}function $a(){var t=Ia();t&&(So.log("[Tracing] Transaction: "+Ea.InternalError+" -> Global error occured"),t.setStatus(Ea.InternalError))}var Ra=function(){function t(t){void 0===t&&(t=1e3),this.spans=[],this._maxlen=t}return t.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},t}(),Aa=function(t){function e(e,n){var r=t.call(this,e)||this;return r._metadata={},r._measurements={},r._hub=gs(),Ki(n,hs)&&(r._hub=n),r.name=e.name||"",r._trimEnd=e.trimEnd,r.transaction=r,r}return wa(e,t),e.prototype.setName=function(t){this.name=t},e.prototype.initSpanRecorder=function(t){void 0===t&&(t=1e3),this.spanRecorder||(this.spanRecorder=new Ra(t)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(t){this._measurements=Sa({},t)},e.prototype.setMetadata=function(t){this._metadata=Sa(Sa({},this._metadata),t)},e.prototype.finish=function(e){var n=this;if(void 0===this.endTimestamp){if(this.name||(So.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,e),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter((function(t){return t!==n&&t.endTimestamp})):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((function(t,e){return t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t})).endTimestamp);var i={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this._metadata};return Object.keys(this._measurements).length>0&&(So.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),this._hub.captureEvent(i)}So.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.")}},e.prototype.toContext=function(){var e=t.prototype.toContext.call(this);return jo(Sa(Sa({},e),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(e){var n;return t.prototype.updateWithContext.call(this,e),this.name=null!=(n=e.name)?n:"",this._trimEnd=e.trimEnd,this},e}(function(){function t(t){if(this.traceId=mo(),this.spanId=mo().substring(16),this.startTimestamp=as(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return t.prototype.child=function(t){return this.startChild(t)},t.prototype.startChild=function(e){var n=new t(Sa(Sa({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},t.prototype.setTag=function(t,e){var n;return this.tags=Sa(Sa({},this.tags),((n={})[t]=e,n)),this},t.prototype.setData=function(t,e){var n;return this.data=Sa(Sa({},this.data),((n={})[t]=e,n)),this},t.prototype.setStatus=function(t){return this.status=t,this},t.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var e=Ea.fromHttpCode(t);return e!==Ea.UnknownError&&this.setStatus(e),this},t.prototype.isSuccess=function(){return this.status===Ea.Ok},t.prototype.finish=function(t){this.endTimestamp="number"==typeof t?t:as()},t.prototype.toTraceparent=function(){var t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},t.prototype.toContext=function(){return jo({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(t){var e,n,r,i,o;return this.data=null!=(e=t.data)?e:{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=null!=(n=t.spanId)?n:this.spanId,this.startTimestamp=null!=(r=t.startTimestamp)?r:this.startTimestamp,this.status=t.status,this.tags=null!=(i=t.tags)?i:{},this.traceId=null!=(o=t.traceId)?o:this.traceId,this},t.prototype.getTraceContext=function(){return jo({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return jo({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}()),Na=function(t){function e(e,n,r,i){void 0===r&&(r="");var o=t.call(this,i)||this;return o._pushActivity=e,o._popActivity=n,o.transactionSpanId=r,o}return wa(e,t),e.prototype.add=function(e){var n=this;e.spanId!==this.transactionSpanId&&(e.finish=function(t){e.endTimestamp="number"==typeof t?t:as(),n._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),t.prototype.add.call(this,e)},e}(Ra),La=function(t){function e(e,n,r,i){void 0===r&&(r=1e3),void 0===i&&(i=!1);var o=t.call(this,e,n)||this;return o._idleHub=n,o._idleTimeout=r,o._onScope=i,o.activities={},o._heartbeatTimer=0,o._heartbeatCounter=0,o._finished=!1,o._beforeFinishCallbacks=[],n&&i&&(ja(n),So.log("Setting idle transaction on scope. Span ID: "+o.spanId),n.configureScope((function(t){return t.setSpan(o)}))),o._initTimeout=setTimeout((function(){o._finished||o.finish()}),o._idleTimeout),o}return wa(e,t),e.prototype.finish=function(e){var n,r,i=this;if(void 0===e&&(e=as()),this._finished=!0,this.activities={},this.spanRecorder){So.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);try{for(var o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this._beforeFinishCallbacks),s=o.next();!s.done;s=o.next()){(0,s.value)(this,e)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(t){if(t.spanId===i.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus(Ea.Cancelled),So.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var n=t.startTimestamp<e;return n||So.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n})),So.log("[Tracing] flushing IdleTransaction")}else So.log("[Tracing] No active IdleTransaction");return this._onScope&&ja(this._idleHub),t.prototype.finish.call(this,e)},e.prototype.registerBeforeFinishCallback=function(t){this._beforeFinishCallbacks.push(t)},e.prototype.initSpanRecorder=function(t){var e=this;if(!this.spanRecorder){this.spanRecorder=new Na((function(t){e._finished||e._pushActivity(t)}),(function(t){e._finished||e._popActivity(t)}),this.spanId,t),So.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(t){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),So.log("[Tracing] pushActivity: "+t),this.activities[t]=!0,So.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(t){var e=this;if(this.activities[t]&&(So.log("[Tracing] popActivity "+t),delete this.activities[t],So.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=as()+n/1e3;setTimeout((function(){e._finished||e.finish(r)}),n)}},e.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var t=Object.keys(this.activities),e=t.length?t.reduce((function(t,e){return t+e})):"";e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(So.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(Ea.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var t=this;So.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout((function(){t._beat()}),5e3)},e}(Aa);function ja(t){if(t){var e=t.getScope();if(e)e.getTransaction()&&e.setSpan(void 0)}}function Da(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function Ba(t,e,n){return Ca(e)?void 0!==t.sampled?(t.setMetadata({transactionSampling:{method:$i.Explicit}}),t):("function"==typeof e.tracesSampler?(r=e.tracesSampler(n),t.setMetadata({transactionSampling:{method:$i.Sampler,rate:Number(r)}})):void 0!==n.parentSampled?(r=n.parentSampled,t.setMetadata({transactionSampling:{method:$i.Inheritance}})):(r=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:$i.Rate,rate:Number(r)}})),function(t){if(isNaN(t)||"number"!=typeof t&&"boolean"!=typeof t)return So.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1;if(t<0||t>1)return So.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1;return!0}(r)?r?(t.sampled=Math.random()<r,t.sampled?(So.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(So.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(r)+")"),t)):(So.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(So.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)):(t.sampled=!1,t);var r}function Pa(t,e){var n,r,i=(null===(n=this.getClient())||void 0===n?void 0:n.getOptions())||{},o=new Aa(t,this);return(o=Ba(o,i,Sa({parentSampled:t.parentSampled,transactionContext:t},e))).sampled&&o.initSpanRecorder(null===(r=i._experiments)||void 0===r?void 0:r.maxSpans),o}var Fa=fo();var Ua,qa,Ha=function(t,e,n,r){var i;return function(){n&&e.isFinal&&n.disconnect(),e.value>=0&&(r||e.isFinal||"hidden"===document.visibilityState)&&(e.delta=e.value-(i||0),(e.delta||e.isFinal||void 0===i)&&(t(e),i=e.value))}},Wa=function(t,e){return void 0===e&&(e=-1),{name:t,value:e,delta:0,entries:[],id:Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12),isFinal:!1}},Ga=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var n=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return n.observe({type:t,buffered:!0}),n}}catch(t){}},Ya=!1,za=!1,Ja=function(t){Ya=!t.persisted},Va=function(t,e){void 0===e&&(e=!1),za||(addEventListener("pagehide",Ja),addEventListener("beforeunload",(function(){})),za=!0),addEventListener("visibilitychange",(function(e){var n=e.timeStamp;"hidden"===document.visibilityState&&t({timeStamp:n,isUnloading:Ya})}),{capture:!0,once:e})},Ka=function(){return void 0===Ua&&(Ua="hidden"===document.visibilityState?0:1/0,Va((function(t){var e=t.timeStamp;return Ua=e}),!0)),{get timeStamp(){return Ua}}},Xa=function(t,e){void 0===e&&(e=!1);var n,r=Wa("LCP"),i=Ka(),o=function(t){var e=t.startTime;e<i.timeStamp?(r.value=e,r.entries.push(t)):r.isFinal=!0,n()},s=Ga("largest-contentful-paint",o);if(s){n=Ha(t,r,s,e);var a=function(){r.isFinal||(s.takeRecords().map(o),r.isFinal=!0,n())};(qa||(qa=new Promise((function(t){return["scroll","keydown","pointerdown"].map((function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})}))}))),qa).then(a),Va(a,!0)}},Za=fo(),Qa=function(t){var e,n=Wa("TTFB");e=function(){try{var e=Za.performance.getEntriesByType("navigation")[0]||function(){var t=Za.performance.timing,e={entryType:"navigation",startTime:0};for(var n in t)"navigationStart"!==n&&"toJSON"!==n&&(e[n]=Math.max(t[n]-t.navigationStart,0));return e}();n.value=n.delta=e.responseStart,n.entries=[e],t(n)}catch(t){}},"complete"===document.readyState?setTimeout(e,0):addEventListener("pageshow",e)},tc=fo(),ec=function(){function t(){this._measurements={},this._performanceCursor=0,tc&&tc.performance&&(tc.performance.mark&&tc.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID(),this._trackTTFB())}return t.prototype.addPerformanceEntries=function(t){var e=this;if(tc&&tc.performance&&tc.performance.getEntries&&cs){So.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i,o=Ma(cs);if(tc.document)for(var s=0;s<document.scripts.length;s++)if("true"===document.scripts[s].dataset.entry){n=document.scripts[s].src;break}if(tc.performance.getEntries().slice(this._performanceCursor).forEach((function(s){var a=Ma(s.startTime),c=Ma(s.duration);if(!("navigation"===t.op&&o+a<t.startTimestamp))switch(s.entryType){case"navigation":!function(t,e,n){nc(t,e,"unloadEvent",n),nc(t,e,"redirect",n),nc(t,e,"domContentLoadedEvent",n),nc(t,e,"loadEvent",n),nc(t,e,"connect",n),nc(t,e,"secureConnection",n,"connectEnd"),nc(t,e,"fetch",n,"domainLookupStart"),nc(t,e,"domainLookup",n),function(t,e,n){rc(t,{op:"browser",description:"request",startTimestamp:n+Ma(e.requestStart),endTimestamp:n+Ma(e.responseEnd)}),rc(t,{op:"browser",description:"response",startTimestamp:n+Ma(e.responseStart),endTimestamp:n+Ma(e.responseEnd)})}(t,e,n)}(t,s,o);break;case"mark":case"paint":case"measure":var l=function(t,e,n,r,i){var o=i+n,s=o+r;return rc(t,{description:e.name,endTimestamp:s,op:e.entryType,startTimestamp:o}),o}(t,s,a,c,o);void 0===i&&"sentry-tracing-init"===s.name&&(i=l);var u=Ka(),d=s.startTime<u.timeStamp;"first-paint"===s.name&&d&&(So.log("[Measurements] Adding FP"),e._measurements.fp={value:s.startTime},e._measurements["mark.fp"]={value:l}),"first-contentful-paint"===s.name&&d&&(So.log("[Measurements] Adding FCP"),e._measurements.fcp={value:s.startTime},e._measurements["mark.fcp"]={value:l});break;case"resource":var p=s.name.replace(window.location.origin,""),h=function(t,e,n,r,i,o){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;var s={};"transferSize"in e&&(s["Transfer Size"]=e.transferSize);"encodedBodySize"in e&&(s["Encoded Body Size"]=e.encodedBodySize);"decodedBodySize"in e&&(s["Decoded Body Size"]=e.decodedBodySize);var a=o+r,c=a+i;return rc(t,{description:n,endTimestamp:c,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:a,data:s}),c}(t,s,p,a,c,o);void 0===r&&(n||"").indexOf(p)>-1&&(r=h)}})),void 0!==r&&void 0!==i&&rc(t,{description:"evaluation",endTimestamp:i,op:"script",startTimestamp:r}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),"pageload"===t.op){var a=Ma(cs);["fcp","fp","lcp","ttfb"].forEach((function(n){if(e._measurements[n]&&!(a>=t.startTimestamp)){var r=e._measurements[n].value,i=a+Ma(r),o=Math.abs(1e3*(i-t.startTimestamp)),s=o-r;So.log("[Measurements] Normalized "+n+" from "+r+" to "+o+" ("+s+")"),e._measurements[n].value=o}})),this._measurements["mark.fid"]&&this._measurements.fid&&rc(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+Ma(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),t.setMeasurements(this._measurements)}}},t.prototype._trackCLS=function(){var t=this;!function(t,e){void 0===e&&(e=!1);var n,r=Wa("CLS",0),i=function(t){t.hadRecentInput||(r.value+=t.value,r.entries.push(t),n())},o=Ga("layout-shift",i);o&&(n=Ha(t,r,o,e),Va((function(t){var e=t.isUnloading;o.takeRecords().map(i),e&&(r.isFinal=!0),n()})))}((function(e){e.entries.pop()&&(So.log("[Measurements] Adding CLS"),t._measurements.cls={value:e.value})}))},t.prototype._trackNavigator=function(t){var e=tc.navigator;if(e){var n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),ic(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),ic(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),ic(e.deviceMemory)&&t.setTag("deviceMemory",String(e.deviceMemory)),ic(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}},t.prototype._trackLCP=function(){var t=this;Xa((function(e){var n=e.entries.pop();if(n){var r=Ma(performance.timeOrigin),i=Ma(n.startTime);So.log("[Measurements] Adding LCP"),t._measurements.lcp={value:e.value},t._measurements["mark.lcp"]={value:r+i}}}))},t.prototype._trackFID=function(){var t,e,n,r,i,o,s=this;t=function(t){var e=t.entries.pop();if(e){var n=Ma(performance.timeOrigin),r=Ma(e.startTime);So.log("[Measurements] Adding FID"),s._measurements.fid={value:t.value},s._measurements["mark.fid"]={value:n+r}}},e=Wa("FID"),n=Ka(),i=Ga("first-input",r=function(t){t.startTime<n.timeStamp&&(e.value=t.processingStart-t.startTime,e.entries.push(t),e.isFinal=!0,o())}),o=Ha(t,e,i),i?Va((function(){i.takeRecords().map(r),i.disconnect()}),!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay((function(t,r){r.timeStamp<n.timeStamp&&(e.value=t,e.isFinal=!0,e.entries=[{entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+t}],o())}))},t.prototype._trackTTFB=function(){var t=this;Qa((function(e){var n,r=e.entries.pop();if(r){So.log("[Measurements] Adding TTFB"),t._measurements.ttfb={value:e.value};var i=e.value-(n=e.entries[0],null!=n?n:r).requestStart;t._measurements["ttfb.requestTime"]={value:i}}}))},t}();function nc(t,e,n,r,i){var o=i?e[i]:e[n+"End"],s=e[n+"Start"];s&&o&&rc(t,{op:"browser",description:n,startTimestamp:r+Ma(s),endTimestamp:r+Ma(o)})}function rc(t,e){var n=e.startTimestamp,r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild(Sa({startTimestamp:n},r))}function ic(t){return"number"==typeof t&&isFinite(t)}var oc={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};function sc(t){var e=Sa(Sa({},oc),t),n=e.traceFetch,r=e.traceXHR,i=e.tracingOrigins,o=e.shouldCreateSpanForRequest,s={},a=function(t){if(s[t])return s[t];var e=i;return s[t]=e.some((function(e){return po(t,e)}))&&!po(t,"sentry_key"),s[t]},c=a;"function"==typeof o&&(c=function(t){return a(t)&&o(t)});var l={};n&&Go({callback:function(t){!function(t,e,n){var r,i=null===(r=gs().getClient())||void 0===r?void 0:r.getOptions();if(!(i&&Ca(i)&&t.fetchData&&e(t.fetchData.url)))return;if(t.endTimestamp&&t.fetchData.__span){if(a=n[t.fetchData.__span]){var o=t.response;o&&a.setHttpStatus(o.status),a.finish(),delete n[t.fetchData.__span]}return}var s=Ia();if(s){var a=s.startChild({data:Sa(Sa({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http"});t.fetchData.__span=a.spanId,n[a.spanId]=a;var c=t.args[0]=t.args[0],l=t.args[1]=t.args[1]||{},u=l.headers;Ki(c,Request)&&(u=c.headers),u?"function"==typeof u.append?u.append("sentry-trace",a.toTraceparent()):u=Array.isArray(u)?Oa(u,[["sentry-trace",a.toTraceparent()]]):Sa(Sa({},u),{"sentry-trace":a.toTraceparent()}):u={"sentry-trace":a.toTraceparent()},l.headers=u}}(t,c,l)},type:"fetch"}),r&&Go({callback:function(t){!function(t,e,n){var r,i=null===(r=gs().getClient())||void 0===r?void 0:r.getOptions();if(!i||!Ca(i)||!(t.xhr&&t.xhr.__sentry_xhr__&&e(t.xhr.__sentry_xhr__.url))||t.xhr.__sentry_own_request__)return;var o=t.xhr.__sentry_xhr__;if(t.endTimestamp&&t.xhr.__sentry_xhr_span_id__){return void((a=n[t.xhr.__sentry_xhr_span_id__])&&(a.setHttpStatus(o.status_code),a.finish(),delete n[t.xhr.__sentry_xhr_span_id__]))}var s=Ia();if(s){var a=s.startChild({data:Sa(Sa({},o.data),{type:"xhr",method:o.method,url:o.url}),description:o.method+" "+o.url,op:"http"});if(t.xhr.__sentry_xhr_span_id__=a.spanId,n[t.xhr.__sentry_xhr_span_id__]=a,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",a.toTraceparent())}catch(t){}}}(t,c,l)},type:"xhr"})}var ac=fo();var cc=Sa({idleTimeout:1e3,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!0),ac&&ac.location){var r,i=ac.location.href;e&&(r=t({name:ac.location.pathname,op:"pageload"})),n&&Go({callback:function(e){var n=e.to,o=e.from;void 0===o&&i&&-1!==i.indexOf(n)?i=void 0:o!==n&&(i=void 0,r&&(So.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=t({name:ac.location.pathname,op:"navigation"}))},type:"history"})}else So.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},oc),lc=function(){function t(e){this.name=t.id,this._metrics=new ec,this._emitOptionsWarning=!1;var n=oc.tracingOrigins;e&&e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&0!==e.tracingOrigins.length?n=e.tracingOrigins:this._emitOptionsWarning=!0,this.options=Sa(Sa(Sa({},cc),e),{tracingOrigins:n})}return t.prototype.setupOnce=function(t,e){var n=this;this._getCurrentHub=e,this._emitOptionsWarning&&(So.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),So.warn("[Tracing] We added a reasonable default for you: "+oc.tracingOrigins));var r=this.options,i=r.routingInstrumentation,o=r.startTransactionOnLocationChange,s=r.startTransactionOnPageLoad,a=r.markBackgroundTransactions,c=r.traceFetch,l=r.traceXHR,u=r.tracingOrigins,d=r.shouldCreateSpanForRequest;i((function(t){return n._createRouteTransaction(t)}),s,o),a&&(Fa&&Fa.document?Fa.document.addEventListener("visibilitychange",(function(){var t=Ia();Fa.document.hidden&&t&&(So.log("[Tracing] Transaction: "+Ea.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(Ea.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())})):So.warn("[Tracing] Could not set up background tab detection due to lack of global document")),sc({traceFetch:c,traceXHR:l,tracingOrigins:u,shouldCreateSpanForRequest:d})},t.prototype._createRouteTransaction=function(t){var e=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,i=n.idleTimeout,o=n.maxTransactionDuration,s="pageload"===t.op?function(){var t=(e="sentry-trace",n=document.querySelector("meta[name="+e+"]"),n?n.getAttribute("content"):null);var e,n;if(t)return function(t){var e=t.match(ka);if(e){var n=void 0;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}(t);return}():void 0,a=Sa(Sa(Sa({},t),s),{trimEnd:!0}),c="function"==typeof r?r(a):a,l=void 0===c?Sa(Sa({},a),{sampled:!1}):c;!1===l.sampled&&So.log("[Tracing] Will not send "+l.op+" transaction because of beforeNavigate."),So.log("[Tracing] Starting "+l.op+" transaction on scope");var u=function(t,e,n,r,i){var o,s,a=(null===(o=t.getClient())||void 0===o?void 0:o.getOptions())||{},c=new La(e,t,n,r);return(c=Ba(c,a,Sa({parentSampled:e.parentSampled,transactionContext:e},i))).sampled&&c.initSpanRecorder(null===(s=a._experiments)||void 0===s?void 0:s.maxSpans),c}(this._getCurrentHub(),l,i,!0,{location:fo().location});return u.registerBeforeFinishCallback((function(t,n){e._metrics.addPerformanceEntries(t),function(t,e,n){var r=n-e.startTimestamp;n&&(r>t||r<0)&&(e.setStatus(Ea.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}(1e3*o,t,n)})),u}So.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.")},t.id="BrowserTracing",t}();var uc=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return t.prototype.setupOnce=function(){this._router?function(t,e){void 0===e&&(e=[]);e.forEach((function(e){return function(t,e){var n=t[e];return t[e]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n.call.apply(n,Oa([this],pc(t,e)))},t}(t,e)}))}(this._router,this._methods):So.error("ExpressIntegration is missing an Express instance")},t.id="Express",t}();function dc(t,e){var n=t.length;switch(n){case 2:return function(n,r){var i=r.__sentry_transaction;if(i){var o=i.startChild({description:t.name,op:"middleware."+e});r.once("finish",(function(){o.finish()}))}return t.call(this,n,r)};case 3:return function(n,r,i){var o,s=null===(o=r.__sentry_transaction)||void 0===o?void 0:o.startChild({description:t.name,op:"middleware."+e});t.call(this,n,r,(function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=s)||void 0===t||t.finish(),i.call.apply(i,Oa([this],e))}))};case 4:return function(n,r,i,o){var s,a=null===(s=i.__sentry_transaction)||void 0===s?void 0:s.startChild({description:t.name,op:"middleware."+e});t.call(this,n,r,i,(function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=a)||void 0===t||t.finish(),o.call.apply(o,Oa([this],e))}))};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}function pc(t,e){return t.map((function(t){return"function"==typeof t?dc(t,e):Array.isArray(t)?t.map((function(t){return"function"==typeof t?dc(t,e):t})):t}))}var hc,fc=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,e){var n;try{n=co(module,"pg").Client}catch(t){return void So.error("Postgres Integration was unable to require `pg` package.")}Co(n.prototype,"query",(function(t){return function(n,r,i){var o,s,a=null===(s=null===(o=e().getScope())||void 0===o?void 0:o.getSpan())||void 0===s?void 0:s.startChild({description:"string"==typeof n?n:n.text,op:"db"});return"function"==typeof i?t.call(this,n,r,(function(t,e){var n;null===(n=a)||void 0===n||n.finish(),i(t,e)})):"function"==typeof r?t.call(this,n,(function(t,e){var n;null===(n=a)||void 0===n||n.finish(),r(t,e)})):t.call(this,n,r).then((function(t){var e;return null===(e=a)||void 0===e||e.finish(),t}))}}))},t.id="Postgres",t}(),mc=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,e){var n;try{n=co(module,"mysql/lib/Connection.js")}catch(t){return void So.error("Mysql Integration was unable to require `mysql` package.")}Co(n.prototype,"query",(function(t){return function(n,r,i){var o,s,a=null===(s=null===(o=e().getScope())||void 0===o?void 0:o.getSpan())||void 0===s?void 0:s.startChild({description:"string"==typeof n?n:n.sql,op:"db"});return"function"==typeof i?t.call(this,n,r,(function(t,e,n){var r;null===(r=a)||void 0===r||r.finish(),i(t,e,n)})):"function"==typeof r?t.call(this,n,(function(t,e,n){var i;null===(i=a)||void 0===i||i.finish(),r(t,e,n)})):t.call(this,n,r,i)}}))},t.id="Mysql",t}(),gc=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],yc={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},vc=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:gc,this._describeOperations=!("describeOperations"in e)||e.describeOperations,this._useMongoose=!!e.useMongoose}return t.prototype.setupOnce=function(t,e){var n,r=this._useMongoose?"mongoose":"mongodb";try{n=co(module,r).Collection}catch(t){return void So.error("Mongo Integration was unable to require `"+r+"` package.")}this._instrumentOperations(n,this._operations,e)},t.prototype._instrumentOperations=function(t,e,n){var r=this;e.forEach((function(e){return r._patchOperation(t,e,n)}))},t.prototype._patchOperation=function(t,e,n){if(e in t.prototype){var r=this._getSpanContextFromOperationArguments.bind(this);Co(t.prototype,e,(function(t){return function(){for(var i,o,s,a,c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];var u=c[c.length-1],d=n().getScope(),p=null===(i=d)||void 0===i?void 0:i.getSpan();if("function"!=typeof u||"mapReduce"===e&&2===c.length){var h=null===(o=p)||void 0===o?void 0:o.startChild(r(this,e,c)),f=t.call.apply(t,Oa([this],c));return Vi(f)?f.then((function(t){var e;return null===(e=h)||void 0===e||e.finish(),t})):(null===(s=h)||void 0===s||s.finish(),f)}var m=null===(a=p)||void 0===a?void 0:a.startChild(r(this,e,c.slice(0,-1)));return t.call.apply(t,Oa([this],c.slice(0,-1),[function(t,e){var n;null===(n=m)||void 0===n||n.finish(),u(t,e)}]))}}))}},t.prototype._getSpanContextFromOperationArguments=function(t,e,n){var r={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},i={op:"db",description:e,data:r},o=yc[e],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(e):this._describeOperations;if(!o||!s)return i;try{if("mapReduce"===e){var a=Ta(n,2),c=a[0],l=a[1];r[o[0]]="string"==typeof c?c:c.name||"<anonymous>",r[o[1]]="string"==typeof l?l:l.name||"<anonymous>"}else for(var u=0;u<o.length;u++)r[o[u]]=JSON.stringify(n[u])}catch(t){}return i},t.id="Mongo",t}(),_c=Sa(Sa({},Object.freeze({__proto__:null,Express:uc,Postgres:fc,Mysql:mc,Mongo:vc})),{BrowserTracing:lc});function bc(){new Ti({target:document.body})}(hc=fs()).__SENTRY__&&(hc.__SENTRY__.extensions=hc.__SENTRY__.extensions||{},hc.__SENTRY__.extensions.startTransaction||(hc.__SENTRY__.extensions.startTransaction=Pa),hc.__SENTRY__.extensions.traceHeaders||(hc.__SENTRY__.extensions.traceHeaders=Da)),Go({callback:$a,type:"error"}),Go({callback:$a,type:"unhandledrejection"}),"localhost"!==location.hostname&&function(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=ba),void 0===t.release){var e=fo();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),function(t,e){!0===e.debug&&So.enable();var n=gs(),r=new t(e);n.bindClient(r)}(_a,t),t.autoSessionTracking&&function(){if(void 0===fo().document)return void So.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");var t=gs();t.startSession(),t.captureSession(),Go({callback:function(){t.startSession(),t.captureSession()},type:"history"})}()}({dsn:"https://e7e132477a2844118b8f6d045a507e10@o318291.ingest.sentry.io/5665093",integrations:[new _c.BrowserTracing],tracesSampleRate:1}),"serviceWorker"in navigator?(navigator.serviceWorker.register("service-worker.js").catch((t=>{console.log("ServiceWorker registration failed: ",t)})),navigator.serviceWorker.ready.then(bc,bc)):bc()}();
//# sourceMappingURL=bundle.js.map
